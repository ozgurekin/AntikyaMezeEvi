!function(n){var i={};function o(e){var t;return(i[e]||(t=i[e]={i:e,l:!1,exports:{}},n[e].call(t.exports,t,t.exports,o),t.l=!0,t)).exports}o.m=n,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=236)}([function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return r}),n.d(t,"d",function(){return a}),n.d(t,"f",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"e",function(){return c});var i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)};function o(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var r=function(){return(r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e,t){var n={};for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]]);return n}function s(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&i>=e.length?void 0:e)&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(i=r.next()).done;)a.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function c(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l(arguments[t]));return e}},function(t,e,n){!function(e){t.exports=e.jQuery=n(73)}.call(this,n(28))},function(e,t,n){"use strict";function i(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return g(e,Error)}}function o(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)}function r(e){return"[object DOMError]"===Object.prototype.toString.call(e)}function a(e){return"[object DOMException]"===Object.prototype.toString.call(e)}function s(e){return"[object String]"===Object.prototype.toString.call(e)}function l(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function c(e){return"[object Object]"===Object.prototype.toString.call(e)}function u(e){return"undefined"!=typeof Event&&g(e,Event)}function d(e){return"undefined"!=typeof Element&&g(e,Element)}function p(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function f(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function h(e){return c(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function g(e,t){try{return e instanceof t}catch(e){return!1}}n.d(t,"d",function(){return i}),n.d(t,"e",function(){return o}),n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"k",function(){return s}),n.d(t,"i",function(){return l}),n.d(t,"h",function(){return c}),n.d(t,"f",function(){return u}),n.d(t,"c",function(){return d}),n.d(t,"j",function(){return p}),n.d(t,"m",function(){return f}),n.d(t,"l",function(){return h}),n.d(t,"g",function(){return g})},function(e,f,h){"use strict";!function(e){h.d(f,"e",function(){return r}),h.d(f,"i",function(){return i}),h.d(f,"h",function(){return o}),h.d(f,"d",function(){return a}),h.d(f,"c",function(){return s}),h.d(f,"b",function(){return l}),h.d(f,"a",function(){return c}),h.d(f,"f",function(){return u}),h.d(f,"g",function(){return p});var t=h(35),n=(h(20),{});function r(){return Object(t.b)()?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:n}function i(){var e,t=r(),t=t.crypto||t.msCrypto;return void 0!==t&&t.getRandomValues?(e=new Uint16Array(8),t.getRandomValues(e),e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768,(t=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t})(e[0])+t(e[1])+t(e[2])+t(e[3])+t(e[4])+t(e[5])+t(e[6])+t(e[7])):"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function o(e){var t,n;return(e=e&&e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/))?(t=e[6]||"",n=e[8]||"",{host:e[4],path:e[5],protocol:e[2],relative:e[5]+t+n}):{}}function a(e){var t;return e.message||(e.exception&&e.exception.values&&e.exception.values[0]?(t=e.exception.values[0]).type&&t.value?t.type+": "+t.value:t.type||t.value||e.event_id||"<unknown>":e.event_id||"<unknown>")}function s(e){var t,n,i,o=r();return"console"in o?(t=o.console,n={},["debug","info","warn","error","log","assert"].forEach(function(e){e in o.console&&t[e].__sentry_original__&&(n[e]=t[e],t[e]=t[e].__sentry_original__)}),i=e(),Object.keys(n).forEach(function(e){t[e]=n[e]}),i):e()}function l(e,t,n){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].value=e.exception.values[0].value||t||"",e.exception.values[0].type=e.exception.values[0].type||n||"Error"}function c(t,n){void 0===n&&(n={});try{t.exception.values[0].mechanism=t.exception.values[0].mechanism||{},Object.keys(n).forEach(function(e){t.exception.values[0].mechanism[e]=n[e]})}catch(e){}}function u(){try{return document.location.href}catch(e){return""}}var d=6e4;function p(e,t){var n;return t?(n=parseInt(""+t,10),isNaN(n)?(t=Date.parse(""+t),isNaN(t)?d:t-e):1e3*n):d}}.call(this,h(28))},,function(e,v,y){"use strict";!function(n){y.d(v,"c",function(){return e}),y.d(v,"f",function(){return t}),y.d(v,"e",function(){return s}),y.d(v,"d",function(){return h}),y.d(v,"b",function(){return g}),y.d(v,"a",function(){return m});var l=y(0),a=y(36),c=y(2),u=y(66),i=y(16),r=y(20);function e(e,t,n){if(t in e){var i=e[t],n=n(i);if("function"==typeof n)try{n.prototype=n.prototype||{},Object.defineProperties(n,{__sentry_original__:{enumerable:!1,value:i}})}catch(e){}e[t]=n}}function t(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}function d(e){if(Object(c.d)(e)){var t=e,n={message:t.message,name:t.name,stack:t.stack};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}if(Object(c.f)(e)){var i,o=e,r={};r.type=o.type;try{r.target=Object(c.c)(o.target)?Object(a.a)(o.target):Object.prototype.toString.call(o.target)}catch(e){r.target="<unknown>"}try{r.currentTarget=Object(c.c)(o.currentTarget)?Object(a.a)(o.currentTarget):Object.prototype.toString.call(o.currentTarget)}catch(e){r.currentTarget="<unknown>"}for(i in"undefined"!=typeof CustomEvent&&Object(c.g)(e,CustomEvent)&&(r.detail=o.detail),o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o);return r}return e}function o(e){return e=JSON.stringify(e),~-encodeURI(e).split(/%..|./).length}function s(e,t,n){void 0===n&&(n=102400);var i=h(e,t=void 0===t?3:t);return o(i)>n?s(e,t-1,n):i}function p(e,t){return"domain"===t&&e&&"object"==typeof e&&e._events?"[Domain]":"domainEmitter"===t?"[DomainEmitter]":void 0!==n&&e===n?"[Global]":"undefined"!=typeof window&&e===window?"[Window]":"undefined"!=typeof document&&e===document?"[Document]":Object(c.l)(e)?"[SyntheticEvent]":"number"==typeof e&&e!=e?"[NaN]":void 0===e?"[undefined]":"function"==typeof e?"[Function: "+Object(i.a)(e)+"]":"symbol"==typeof e?"["+String(e)+"]":"bigint"==typeof e?"[BigInt: "+String(e)+"]":e}function f(e,t,n,i){if(void 0===n&&(n=1/0),void 0===i&&(i=new u.a),0===n)return r=t,o=Object.prototype.toString.call(r),"string"==typeof r?r:"[object Object]"===o?"[Object]":"[object Array]"===o?"[Array]":(r=p(r),Object(c.i)(r)?r:o);var o;if(null!=t&&"function"==typeof t.toJSON)return t.toJSON();var r=p(t,e);if(Object(c.i)(r))return r;var a,s=d(t),l=Array.isArray(t)?[]:{};if(i.memoize(t))return"[Circular ~]";for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(l[a]=f(a,s[a],n-1,i));return i.unmemoize(t),l}function h(e,n){try{return JSON.parse(JSON.stringify(e,function(e,t){return f(e,t,n)}))}catch(e){return"**non-serializable**"}}function g(e,t){void 0===t&&(t=40);var n=Object.keys(d(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return Object(r.d)(n[0],t);for(var i=n.length;0<i;i--){var o=n.slice(0,i).join(", ");if(!(o.length>t))return i===n.length?o:Object(r.d)(o,t)}return""}function m(e){var t,n;if(Object(c.h)(e)){var i=e,o={};try{for(var r=Object(l.f)(Object.keys(i)),a=r.next();!a.done;a=r.next()){var s=a.value;void 0!==i[s]&&(o[s]=m(i[s]))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return o}return Array.isArray(e)?e.map(m):e}}.call(this,y(28))},function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"d",function(){return v}),n.d(t,"b",function(){return y}),n.d(t,"c",function(){return b});var s=n(0),l=n(3),c=n(89),o=n(11),i=n(35),r=n(32),a=n(82),u=n(5),d=(p.prototype.update=function(e){(e=void 0===e?{}:e).user&&(e.user.ip_address&&(this.ipAddress=e.user.ip_address),e.did||(this.did=e.user.id||e.user.email||e.user.username)),this.timestamp=e.timestamp||Date.now(),e.sid&&(this.sid=32===e.sid.length?e.sid:Object(l.i)()),e.did&&(this.did=""+e.did),"number"==typeof e.started&&(this.started=e.started),"number"==typeof e.duration?this.duration=e.duration:this.duration=this.timestamp-this.started,e.release&&(this.release=e.release),e.environment&&(this.environment=e.environment),e.ipAddress&&(this.ipAddress=e.ipAddress),e.userAgent&&(this.userAgent=e.userAgent),"number"==typeof e.errors&&(this.errors=e.errors),e.status&&(this.status=e.status)},p.prototype.close=function(e){e?this.update({status:e}):this.status===a.a.Ok?this.update({status:a.a.Exited}):this.update()},p.prototype.toJSON=function(){return Object(u.a)({sid:""+this.sid,init:!0,started:new Date(this.started).toISOString(),timestamp:new Date(this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:Object(u.a)({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},p);function p(e){this.errors=0,this.sid=Object(l.i)(),this.timestamp=Date.now(),this.started=Date.now(),this.duration=0,this.status=a.a.Ok,e&&this.update(e)}var f=3,h=(g.prototype.isOlderThan=function(e){return this._version<e},g.prototype.bindClient=function(e){(this.getStackTop().client=e)&&e.setupIntegrations&&e.setupIntegrations()},g.prototype.pushScope=function(){var e=r.a.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e},g.prototype.popScope=function(){return!(this.getStack().length<=1||!this.getStack().pop())},g.prototype.withScope=function(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}},g.prototype.getClient=function(){return this.getStackTop().client},g.prototype.getScope=function(){return this.getStackTop().scope},g.prototype.getStack=function(){return this._stack},g.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},g.prototype.captureException=function(e,t){var n=this._lastEventId=Object(l.i)(),i=t;if(!t){t=void 0;try{throw new Error("Sentry syntheticException")}catch(e){t=e}i={originalException:e,syntheticException:t}}return this._invokeClient("captureException",e,Object(s.a)(Object(s.a)({},i),{event_id:n})),n},g.prototype.captureMessage=function(e,t,n){var i=this._lastEventId=Object(l.i)(),o=n;if(!n){n=void 0;try{throw new Error(e)}catch(e){n=e}o={originalException:e,syntheticException:n}}return this._invokeClient("captureMessage",e,t,Object(s.a)(Object(s.a)({},o),{event_id:i})),i},g.prototype.captureEvent=function(e,t){var n=this._lastEventId=Object(l.i)();return this._invokeClient("captureEvent",e,Object(s.a)(Object(s.a)({},t),{event_id:n})),n},g.prototype.lastEventId=function(){return this._lastEventId},g.prototype.addBreadcrumb=function(e,t){var n,i,o,r=this.getStackTop(),a=r.scope,r=r.client;a&&r&&(o=(r=r.getOptions&&r.getOptions()||{}).beforeBreadcrumb,n=void 0===o?null:o,(r=void 0===(o=r.maxBreadcrumbs)?100:o)<=0||(o=Object(c.a)(),i=Object(s.a)({timestamp:o},e),null!==(o=n?Object(l.c)(function(){return n(i,t)}):i)&&a.addBreadcrumb(o,Math.min(r,100))))},g.prototype.setUser=function(e){var t=this.getScope();t&&t.setUser(e)},g.prototype.setTags=function(e){var t=this.getScope();t&&t.setTags(e)},g.prototype.setExtras=function(e){var t=this.getScope();t&&t.setExtras(e)},g.prototype.setTag=function(e,t){var n=this.getScope();n&&n.setTag(e,t)},g.prototype.setExtra=function(e,t){var n=this.getScope();n&&n.setExtra(e,t)},g.prototype.setContext=function(e,t){var n=this.getScope();n&&n.setContext(e,t)},g.prototype.configureScope=function(e){var t=this.getStackTop(),n=t.scope,t=t.client;n&&t&&e(n)},g.prototype.run=function(e){var t=v(this);try{e(this)}finally{v(t)}},g.prototype.getIntegration=function(t){var e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(e){return o.a.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},g.prototype.startSpan=function(e){return this._callExtensionMethod("startSpan",e)},g.prototype.startTransaction=function(e,t){return this._callExtensionMethod("startTransaction",e,t)},g.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},g.prototype.startSession=function(e){this.endSession();var t=this.getStackTop(),n=t.scope,t=t.client,t=t&&t.getOptions()||{},i=t.release,t=t.environment,i=new d(Object(s.a)(Object(s.a)({release:i,environment:t},n&&{user:n.getUser()}),e));return n&&n.setSession(i),i},g.prototype.endSession=function(){var e,t=this.getStackTop(),n=t.scope,t=t.client;n&&(e=n.getSession&&n.getSession())&&(e.close(),t&&t.captureSession&&t.captureSession(e),n.setSession())},g.prototype._invokeClient=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this.getStackTop(),o=i.scope,i=i.client;i&&i[e]&&i[e].apply(i,Object(s.e)(t,[o]))},g.prototype._callExtensionMethod=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=m().__SENTRY__;if(i&&i.extensions&&"function"==typeof i.extensions[e])return i.extensions[e].apply(this,t);o.a.warn("Extension method "+e+" couldn't be found, doing nothing.")},g);function g(e,t,n){void 0===t&&(t=new r.a),this._version=n=void 0===n?f:n,this._stack=[{}],this.getStackTop().scope=t,this.bindClient(e)}function m(){var e=Object(l.e)();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function v(e){var t=m(),n=b(t);return w(t,e),n}function y(){var t=m();if(_(t)&&!b(t).isOlderThan(f)||w(t,new h),!Object(i.b)())return b(t);try{var e,n=function(){var e=m().__SENTRY__;return e&&e.extensions&&e.extensions.domain&&e.extensions.domain.active}();return n?(_(n)&&!b(n).isOlderThan(f)||(e=b(t).getStackTop(),w(n,new h(e.client,r.a.clone(e.scope)))),b(n)):b(t)}catch(e){return b(t)}}function _(e){return e&&e.__SENTRY__&&e.__SENTRY__.hub}function b(e){return e&&e.__SENTRY__&&e.__SENTRY__.hub||(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=new h),e.__SENTRY__.hub}function w(e,t){e&&(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=t)}},function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"b",function(){return l}),n.d(t,"e",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"f",function(){return d}),n.d(t,"h",function(){return p}),n.d(t,"j",function(){return f}),n.d(t,"g",function(){return h}),n.d(t,"i",function(){return g}),n.d(t,"k",function(){return m}),n.d(t,"m",function(){return v}),n.d(t,"l",function(){return y});var o=n(0),r=n(6);function a(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=Object(r.b)();if(i&&i[e])return i[e].apply(i,Object(o.e)(t));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}function i(e,t){var n;try{throw new Error("Sentry syntheticException")}catch(e){n=e}return a("captureException",e,{captureContext:t,originalException:e,syntheticException:n})}function s(e,t){var n;try{throw new Error(e)}catch(e){n=e}var i="string"!=typeof t?{captureContext:t}:void 0;return a("captureMessage",e,"string"==typeof t?t:void 0,Object(o.a)({originalException:e,syntheticException:n},i))}function l(e){return a("captureEvent",e)}function c(e){a("configureScope",e)}function u(e){a("addBreadcrumb",e)}function d(e,t){a("setContext",e,t)}function p(e){a("setExtras",e)}function f(e){a("setTags",e)}function h(e,t){a("setExtra",e,t)}function g(e,t){a("setTag",e,t)}function m(e){a("setUser",e)}function v(e){a("withScope",e)}function y(e,t){return a("startTransaction",Object(o.a)({},e),t)}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i,o={},r=(n.r(o),n.d(o,"FunctionToString",function(){return r}),n.d(o,"InboundFilters",function(){return h}),a.prototype.setupOnce=function(){i=Function.prototype.toString,Function.prototype.toString=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.__sentry_original__||this;return i.apply(n,e)}},a.id="FunctionToString",a);function a(){this.name=a.id}var s=n(0),l=n(32),c=n(6),u=n(11),d=n(3),p=n(20),f=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],h=(g.prototype.setupOnce=function(){Object(l.b)(function(e){var t=Object(c.b)();if(t){var n=t.getIntegration(g);if(n){t=t.getClient(),t=t?t.getOptions():{},t=n._mergeOptions(t);if(n._shouldDropEvent(e,t))return null}}return e})},g.prototype._shouldDropEvent=function(e,t){return this._isSentryError(e,t)?(u.a.warn("Event dropped due to being internal Sentry Error.\nEvent: "+Object(d.d)(e)),!0):this._isIgnoredError(e,t)?(u.a.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Object(d.d)(e)),!0):this._isDeniedUrl(e,t)?(u.a.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+Object(d.d)(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0):!this._isAllowedUrl(e,t)&&(u.a.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+Object(d.d)(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0)},g.prototype._isSentryError=function(e,t){if(!t.ignoreInternal)return!1;try{return e&&e.exception&&e.exception.values&&e.exception.values[0]&&"SentryError"===e.exception.values[0].type||!1}catch(e){return!1}},g.prototype._isIgnoredError=function(e,n){return!(!n.ignoreErrors||!n.ignoreErrors.length)&&this._getPossibleEventMessages(e).some(function(t){return n.ignoreErrors.some(function(e){return Object(p.a)(t,e)})})},g.prototype._isDeniedUrl=function(e,t){var n;return!(!t.denyUrls||!t.denyUrls.length||!(n=this._getEventFilterUrl(e)))&&t.denyUrls.some(function(e){return Object(p.a)(n,e)})},g.prototype._isAllowedUrl=function(e,t){var n;return!t.allowUrls||!t.allowUrls.length||!(n=this._getEventFilterUrl(e))||t.allowUrls.some(function(e){return Object(p.a)(n,e)})},g.prototype._mergeOptions=function(e){return void 0===e&&(e={}),{allowUrls:Object(s.e)(this._options.whitelistUrls||[],this._options.allowUrls||[],e.whitelistUrls||[],e.allowUrls||[]),denyUrls:Object(s.e)(this._options.blacklistUrls||[],this._options.denyUrls||[],e.blacklistUrls||[],e.denyUrls||[]),ignoreErrors:Object(s.e)(this._options.ignoreErrors||[],e.ignoreErrors||[],f),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal}},g.prototype._getPossibleEventMessages=function(t){if(t.message)return[t.message];if(t.exception)try{var e=t.exception.values&&t.exception.values[0]||{},n=e.type,i=void 0===n?"":n,o=e.value,r=void 0===o?"":o;return[""+r,i+": "+r]}catch(e){u.a.error("Cannot extract message for event "+Object(d.d)(t))}return[]},g.prototype._getEventFilterUrl=function(t){try{var e,n;return t.stacktrace?(e=t.stacktrace.frames)&&e[e.length-1].filename||null:t.exception&&(n=t.exception.values&&t.exception.values[0].stacktrace&&t.exception.values[0].stacktrace.frames)&&n[n.length-1].filename||null}catch(e){return u.a.error("Cannot extract url for event "+Object(d.d)(t)),null}},g.id="InboundFilters",g);function g(e){this._options=e=void 0===e?{}:e,this.name=g.id}},function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"a",function(){return d});var r=n(0),a=n(7),i=n(46),s=n(3),o=n(11),l=0;function c(){return 0<l}function u(t,i,o){if(void 0===i&&(i={}),"function"!=typeof t)return t;try{if(t.__sentry__)return t;if(t.__sentry_wrapped__)return t.__sentry_wrapped__}catch(e){return t}function e(){var n=Array.prototype.slice.call(arguments);try{o&&"function"==typeof o&&o.apply(this,arguments);var e=n.map(function(e){return u(e,i)});return t.handleEvent?t.handleEvent.apply(this,e):t.apply(this,e)}catch(t){throw l+=1,setTimeout(function(){--l}),Object(a.m)(function(e){e.addEventProcessor(function(e){e=Object(r.a)({},e);return i.mechanism&&(Object(s.b)(e,void 0,void 0),Object(s.a)(e,i.mechanism)),e.extra=Object(r.a)(Object(r.a)({},e.extra),{arguments:n}),e}),Object(a.c)(t)}),t}}try{for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}catch(e){}t.prototype=t.prototype||{},e.prototype=t.prototype,Object.defineProperty(t,"__sentry_wrapped__",{enumerable:!1,value:e}),Object.defineProperties(e,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:t}});try{Object.getOwnPropertyDescriptor(e,"name").configurable&&Object.defineProperty(e,"name",{get:function(){return t.name}})}catch(e){}return e}function d(e){var t;(e=void 0===e?{}:e).eventId?e.dsn?((t=document.createElement("script")).async=!0,t.src=new i.a(e.dsn).getReportDialogEndpoint(e),e.onLoad&&(t.onload=e.onLoad),(document.head||document.body).appendChild(t)):o.a.error("Missing dsn option in showReportDialog call"):o.a.error("Missing eventId option in showReportDialog call")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IloveEvent=void 0,t.IloveEvent=function(e,t){void 0===t&&(t=null),this.name=e,this.detail=t}},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n(3),o=Object(i.e)(),r="Sentry Logger ",t=(a.prototype.disable=function(){this._enabled=!1},a.prototype.enable=function(){this._enabled=!0},a.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Object(i.c)(function(){o.console.log(r+"[Log]: "+e.join(" "))})},a.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Object(i.c)(function(){o.console.warn(r+"[Warn]: "+e.join(" "))})},a.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Object(i.c)(function(){o.console.error(r+"[Error]: "+e.join(" "))})},a);function a(){this._enabled=!1}o.__SENTRY__=o.__SENTRY__||{};var s=o.__SENTRY__.logger||(o.__SENTRY__.logger=new t)},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i,o=n(2),r=((t=i=i||{}).PENDING="PENDING",t.RESOLVED="RESOLVED",t.REJECTED="REJECTED",a.resolve=function(t){return new a(function(e){e(t)})},a.reject=function(n){return new a(function(e,t){t(n)})},a.all=function(e){return new a(function(n,i){var o,r;Array.isArray(e)?0===e.length?n([]):(o=e.length,r=[],e.forEach(function(e,t){a.resolve(e).then(function(e){r[t]=e,0==--o&&n(r)}).then(null,i)})):i(new TypeError("Promise.all requires an array as input."))})},a.prototype.then=function(i,o){var e=this;return new a(function(t,n){e._attachHandler({done:!1,onfulfilled:function(e){if(i)try{t(i(e))}catch(e){n(e)}else t(e)},onrejected:function(e){if(o)try{t(o(e))}catch(e){n(e)}else n(e)}})})},a.prototype.catch=function(e){return this.then(function(e){return e},e)},a.prototype.finally=function(o){var r=this;return new a(function(e,t){var n,i;r.then(function(e){i=!1,n=e,o&&o()},function(e){i=!0,n=e,o&&o()}).then(function(){(i?t:e)(n)})})},a.prototype.toString=function(){return"[object SyncPromise]"},a);function a(e){var n=this;this._state=i.PENDING,this._handlers=[],this._resolve=function(e){n._setResult(i.RESOLVED,e)},this._reject=function(e){n._setResult(i.REJECTED,e)},this._setResult=function(e,t){n._state===i.PENDING&&(Object(o.m)(t)?t.then(n._resolve,n._reject):(n._state=e,n._value=t,n._executeHandlers()))},this._attachHandler=function(e){n._handlers=n._handlers.concat(e),n._executeHandlers()},this._executeHandlers=function(){var e;n._state!==i.PENDING&&(e=n._handlers.slice(),n._handlers=[],e.forEach(function(e){e.done||(n._state===i.RESOLVED&&e.onfulfilled&&e.onfulfilled(n._value),n._state===i.REJECTED&&e.onrejected&&e.onrejected(n._value),e.done=!0)}))};try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}},function(e,a,s){"use strict";!function(n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),e=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},t=(Object.defineProperty(a,"__esModule",{value:!0}),a.Lang=void 0,e(s(57)));function r(){}r.t=function(e,t){var n="iloveLang";return t&&t.source&&(n=t.source),window[n]&&window[n][e]&&(e=window[n][e]),e=this.tr(e,t)},r.tr=function(n,i){return null!=i&&Object.keys(i).forEach(function(e){var t=i[e];n=(n=n.replace("${"+e+"}",t)).replace("{"+e+"}",t)}),n},r.w=function(e,t){n("."+(e=void 0===e?"translate":e)).each(function(){var e=n(this).html();n(this).html(r.t(e,t))}),n("#"+e).each(function(){var e=n(this).html();n(this).html(r.t(e,t))})},r.fontsForWritingSystem=function(e){switch(e){case"latin":return["arial","verdana","courier","comic","times-new-roman","impact","arial-unicode-ms"];case"indic":return["lohit-marathi","lohit-devanagari","arial-unicode-ms"];default:return["arial-unicode-ms"]}},r.getFontsInfo=function(){var e=window.fonts;if(e)return e;throw"[Lang Service] You have to load the fonts information from the backend to use this method"},r.loadAllFonts=function(){for(var e in window.fonts)window.fonts.hasOwnProperty(e)&&"arial"!=e&&this.loadFont(e)},r.loadFont=function(e){e in this.loadedFonts||(t.lazyloadCss("/font/"+e+".css"),this.loadedFonts[e]=!0)},r.hasHindiCharacters=function(e){return 0<e.split("").filter(function(e){e=e.charCodeAt();return 2309<=e&&e<=2361}).length},r.hasJapanCharacters=function(e){return/[\u3000-\u303f]|[\u3040-\u309f]|[\u30a0-\u30ff]|[\uff00-\uff9f]|[\u4e00-\u9faf]|[\u3400-\u4dbf]/.test(e)},r.hasChineseCharacters=function(e){return/[\u4e00-\u9fff]|[\u3400-\u4dbf]|[\uf900-\ufaff]|[\u3300-\u33ff]|[\ufe30-\ufe4f]|[\uf900-\ufaff]/.test(e)},r.hasKoreanCharacters=function(e){return/[\uac00-\uafff]|[\ub000-\ubfff]/.test(e)},r.hasArabicCharacters=function(e){return/[\u0600-\u06FF]|[\u0750-\u077F]/.test(e)},r.hasGreekCharacters=function(e){return/[\u0370-\u03FF]|[\u1F00-\u1FFF]/.test(e)},r.hasCyrillicCharacters=function(e){return/[\u0400-\u04FF]|[\u0500-\u052F]/.test(e)},r.hasCommonLatinCharacters=function(e){return!1},r.keyCodeToWritingSystem=function(e){for(var t in this.writingSystemCharacterRanges)for(var n=this.writingSystemCharacterRanges[t],i=0;i<n.length;i++){var o=n[i],r=o[0],o=o[1];if(r<=e&&e<=o)return t}return"unknown"},r.detectWritingSystems=function(e){if(0===e.length)return[];for(var t={},n=0;n<e.length;n++)t[this.keyCodeToWritingSystem(e.charCodeAt(n))]=!0;return Object.keys(t)},r.loadedFonts={},r.FALLBACK_FONT_FAMILY="arial-unicode-ms",r.writingSystemCharacterRanges={latin:[[0,127],[128,255],[256,383],[384,591],[7680,7935],[9312,9471],[11360,11391],[42784,43007],[64256,64335],[65104,65135]],indic:[[2304,2431],[43232,43263]]},a.Lang=r}.call(this,s(1))},function(e,t,n){"use strict";n.d(t,"b",function(){return h}),n.d(t,"e",function(){return c}),n.d(t,"h",function(){return g}),n.d(t,"f",function(){return m}),n.d(t,"d",function(){return v}),n.d(t,"g",function(){return y}),n.d(t,"c",function(){return _}),n.d(t,"a",function(){return b}),n.d(t,"i",function(){return w});var t=n(8),u=n(52),d=n(6),p=n(3),i=n(12),f=n(40),o=n(9),r=n(48),a=n(47),s=n(49),l=n(50),n=n(51),h=[new t.a.InboundFilters,new t.a.FunctionToString,new r.a,new a.a,new s.a,new l.a,new n.a];function c(e){var t;if(void 0===(e=void 0===e?{}:e).defaultIntegrations&&(e.defaultIntegrations=h),void 0===e.release&&(t=Object(p.e)()).SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(e.release=t.SENTRY_RELEASE.id),void 0===e.autoSessionTracking&&(e.autoSessionTracking=!1),Object(u.a)(f.a,e),e.autoSessionTracking){function n(){s&&a&&r.endSession()}function i(){a=!0,n(),o.removeEventListener("load",i)}var o=Object(p.e)(),r=Object(d.b)(),a="complete"===document.readyState,s=!1;r.startSession(),a||o.addEventListener("load",i);try{var l=new PerformanceObserver(function(e,t){e.getEntries().forEach(function(e){"first-contentful-paint"===e.name&&e.startTime<c&&(t.disconnect(),s=!0,n())})}),c="hidden"===document.visibilityState?0:1/0;document.addEventListener("visibilitychange",function(e){c=Math.min(c,e.timeStamp)},{once:!0}),l.observe({type:"paint",buffered:!0})}catch(e){s=!0,n()}}}function g(e){(e=void 0===e?{}:e).eventId||(e.eventId=Object(d.b)().lastEventId());var t=Object(d.b)().getClient();t&&t.showReportDialog(e)}function m(){return Object(d.b)().lastEventId()}function v(){}function y(e){e()}function _(e){var t=Object(d.b)().getClient();return t?t.flush(e):i.a.reject(!1)}function b(e){var t=Object(d.b)().getClient();return t?t.close(e):i.a.reject(!1)}function w(e){return Object(o.c)(e)()}},function(e,t,n){"use strict";n.r(t),n.d(t,"LogLevel",function(){return i}),n.d(t,"SessionStatus",function(){return r.a}),n.d(t,"Severity",function(){return a.a}),n.d(t,"Status",function(){return s.a}),n.d(t,"TransactionSamplingMethod",function(){return o}),(t=i=i||{})[t.None=0]="None",t[t.Error=1]="Error",t[t.Debug=2]="Debug",t[t.Verbose=3]="Verbose";var i,o,r=n(82),a=n(31),s=n(65);(t=o=o||{}).Explicit="explicitly_set",t.Sampler="client_sampler",t.Rate="client_rate",t.Inheritance="inheritance"},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i="<anonymous>";function o(e){try{return e&&"function"==typeof e?e.name||i:i}catch(e){return i}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var t=n(0),i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n]);return e});o=Error,Object(t.b)(a,o);var o,r=a;function a(e){var t=this.constructor,n=o.call(this,e)||this;return n.message=e,n.name=t.prototype.constructor.name,i(n,t.prototype),n}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=(Object.defineProperty(t,"__esModule",{value:!0}),t.StateBase=void 0,n(13)),s=n(29),l=n(10),c=n(43),u=r(n(23));function d(){var o=this;this.wasDomReadyExecutedBefore=!1,this.loadingElem=null,this.backdropElem=null,this.runTooltip=!0,this.showBackdrop=function(e,t,n){var i=o.appendBackdropElement(),e=(i.innerHTML="",e.classList.add("ilove-backdrop__content"),i.appendChild(e),i.querySelector(".ilove-backdrop__title")),t=(e.querySelector(".ilove-backdrop__title__text").innerHTML=null!=t?t:"",i.querySelector(".ilove-backdrop__subtitle"));t.querySelector(".ilove-backdrop__subtitle__text").innerHTML=null!=n?n:"",i.classList.add("ilove-backdrop--visible"),o.domRoot.style.overflow="hidden",e.addEventListener("click",function(){o._backdrop_click_callback1&&o._backdrop_click_callback1()}),t.addEventListener("click",function(){o._backdrop_click_callback2&&o._backdrop_click_callback2()})},this.setBackdropCallback=function(e,t){o._backdrop_click_callback1=e,o._backdrop_click_callback2=t},this.clearBackdrop=function(){var e;null!=(e=o.backdropElem)&&e.classList.remove("ilove-backdrop--visible"),o.domRoot.style.overflow="",o.setBackdropCallback(null,null)},this._onLayoutTemplateLoaded=function(){o.ctx._onDomReady(o.domRoot),o.dispatchEvent(new l.IloveEvent("unsetContentAbandonment")),!0===o.runTooltip&&c.Tooltip.init(),o.onDomReady(),o.wasDomReadyExecutedBefore=!0},this.showLoadingScreen=function(){o.appendLoadingElement().classList.add("wait--visible"),o.domRoot.style.overflow="hidden"},this.clearLoadingScreen=function(){var e;null!=(e=o.loadingElem)&&e.classList.remove("wait--visible"),o.domRoot.style.overflow=""},this.goToPreviousStateButtonIsVisible=function(){var e=o.domStateRoot.querySelector(".dialog__back");return!!e&&!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},this.t=function(e,t){if(o._t){if(e in o._t)return a.Lang.tr(o._t[e],t);throw"Key '"+e+"' not found"}var n=o.domRoot.querySelector("[data-state='"+o.name+"'] .text-translations");if(!n)throw"Text translations for state '"+o.name+"' not found";if("html"===n.dataset.format){var i=n.querySelector("[data-key="+e+"]");if(i)return i=i.innerHTML,a.Lang.tr(i,t);throw"Key '"+e+"' not found"}if(o._t=JSON.parse(n.textContent),"object"!=typeof o._t)throw"Translation object not found";return o.t(e,t)},this.eventEmitter=new s.ILoveEventEmitter}d.prototype.render=function(e,t){var n=this;void 0===t&&(t={}),this.domRoot=e,this.ctx.isInline?(this.showCurrentStateScreens(),this._onLayoutTemplateLoaded()):this.loadTemplateOn(this.LAYOUT_TEMPLATE_NAME,this.domRoot,t).then(function(){n.showLoadingScreen(),n.showCurrentStateScreens().then(n._onLayoutTemplateLoaded).catch(function(e){throw e})}).catch(function(e){e="Problem loading template "+n.LAYOUT_TEMPLATE_NAME+": "+e;throw u.captureMessage(e),e})},d.prototype.reset=function(){},d.prototype.appendLoadingElement=function(){var e=this.domRoot;return this.loadingElem||(this.loadingElem=document.createElement("div"),this.loadingElem.classList.add("wait","wait--animated","wait--sm"),e.parentNode.appendChild(this.loadingElem)),this.loadingElem},d.prototype.appendBackdropElement=function(){var e=this.domRoot;return this.backdropElem||(this.backdropElem=document.createElement("div"),this.backdropElem.classList.add("ilove-backdrop","ilove-backdrop--animated","ilove-backdrop--sm"),e.parentNode.appendChild(this.backdropElem)),this.backdropElem},d.prototype.isTemplateAppended=function(e){return this.ctx.appendedTemplates.includes(e)},d.prototype.loadTemplateOn=function(i,o,e){var r=this;return this.isTemplateAppended(i)?(e&&!0===(null==e?void 0:e.clearDom)&&(this.ctx.appendedTemplates[i],o.innerHTML=this.ctx.getCachedTemplateHtml(i)),Promise.resolve()):new Promise(function(t,n){r.ctx.getTemplateViaAjax(i).then(function(e){r.ctx.appendedTemplates.push(i),o.innerHTML=e,t()},function(e){n()})})},d.prototype.showCurrentStateScreens=function(){this.domRoot.querySelectorAll("[data-state]").forEach(function(e){return e.style.display="none"});var e=this.domRoot.querySelector("[data-state='"+this.name+"']");if(!e)throw"Template container for '"+this.name+"' state not found";e.style.display="";var t=e.getAttribute("data-template-name");return t?this.loadTemplateOn(t,e,{}):Promise.resolve()},d.prototype.changeScreen=function(e){this.domRoot.querySelectorAll("[data-state='"+this.name+"'] [data-screen]").forEach(function(e){e.style.display="none"});var t=this.domRoot.querySelector("[data-state="+this.name+"] [data-screen='"+e+"']");if(!t)throw"Screen '"+e+"' for state '"+this.name+"' not found";t.style.display="",this.currentScreen=t},d.prototype.setContext=function(e){this.ctx=e},Object.defineProperty(d.prototype,"domStateRoot",{get:function(){var e=this.domRoot.querySelector("[data-state="+this.name+"]");if(e)return e;throw"Dom State root for "+this.name+" not found"},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"dialogCloseBtn",{get:function(){return this.domStateRoot.querySelector(".dialog__close")},enumerable:!1,configurable:!0}),d.prototype.dispatchEvent=function(e){return this.eventEmitter.dispatchEvent(e)},d.prototype.addEventListener=function(e,t){return this.eventEmitter.addEventListener(e,t)},t.StateBase=d},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return p});var a=n(0),o=n(31),s=n(3),r=n(12),l=n(2),c=n(26),u=n(22);function i(e,t,n){t=p(t,n&&n.syntheticException||void 0,{attachStacktrace:e.attachStacktrace});return Object(s.a)(t,{handled:!0,type:"generic"}),t.level=o.a.Error,n&&n.event_id&&(t.event_id=n.event_id),r.a.resolve(t)}function d(e,t,n,i){void 0===n&&(n=o.a.Info);t=f(t,i&&i.syntheticException||void 0,{attachStacktrace:e.attachStacktrace});return t.level=n,i&&i.event_id&&(t.event_id=i.event_id),r.a.resolve(t)}function p(e,t,n){var i,o,r;if(void 0===n&&(n={}),Object(l.e)(e)&&e.error)return e=e.error,o=Object(c.b)(Object(u.a)(e));if(Object(l.a)(e)||Object(l.b)(e))r=(i=e).name||(Object(l.a)(i)?"DOMError":"DOMException"),o=f(r=i.message?r+": "+i.message:r,t,n),Object(s.b)(o,r),"code"in i&&(o.tags=Object(a.a)(Object(a.a)({},o.tags),{"DOMException.code":""+i.code}));else{if(Object(l.d)(e))return o=Object(c.b)(Object(u.a)(e));Object(l.h)(e)||Object(l.f)(e)?(r=e,o=Object(c.a)(r,t,n.rejection)):(o=f(e,t,n),Object(s.b)(o,""+e,void 0)),Object(s.a)(o,{synthetic:!0})}return o}function f(e,t,n){e={message:e};return(n=void 0===n?{}:n).attachStacktrace&&t&&(n=Object(u.a)(t),t=Object(c.d)(n.stack),e.stacktrace={frames:t}),e}},function(e,t,n){"use strict";n.d(t,"d",function(){return o}),n.d(t,"c",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return s});var i=n(2);function o(e,t){return void 0===t&&(t=0),"string"!=typeof e||0===t||e.length<=t?e:e.substr(0,t)+"..."}function r(e,t){var n,i=e.length;return i<=150||(i<t&&(t=i),(t=Math.max(t-60,0))<5&&(t=0),(n=i-5<(n=Math.min(t+140,i))?i:n)===i&&(t=Math.max(n-140,0)),e=e.slice(t,n),0<t&&(e="'{snip} "+e),n<i&&(e+=" {snip}")),e}function a(e,t){if(!Array.isArray(e))return"";for(var n=[],i=0;i<e.length;i++){var o=e[i];try{n.push(String(o))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function s(e,t){return!!Object(i.k)(e)&&(Object(i.j)(t)?t.test(e):"string"==typeof t&&-1!==e.indexOf(t))}},function(e,n,t){"use strict";!function(o){var e=this&&this.__awaiter||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,o)}r((l=l.apply(e,a||[])).next())})},r=this&&this.__generator||function(i,o){var r,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(s=0<(s=l.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],a=0}finally{r=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},t=(Object.defineProperty(n,"__esModule",{value:!0}),n.UserModel=void 0,Object.defineProperty(a,"userType",{get:function(){return a.isPremium()?"premium":a.isUser()?"user":"guest"},enumerable:!1,configurable:!0}),a.isTeamManaged=function(){var e=window.userModel;return e&&null!=e.team_role&&"owner"!=e.team_role},a.hasSubscription=function(){var e=window.userModel;return"object"==typeof e&&null!=e&&null!=e.current_subscription},a.prototype.login=function(n){var i="//"+this.domain+"/"+this.loginUrl;return new Promise(function(t,e){o.post(i,n,function(e){window.ilovepdfConfig&&(window.ilovepdfConfig.fileLimits=e.user.limits,window.ilovepdfConfig.userToken=e.token),t(e)}).fail(e)})},a.prototype.register=function(n){var i="//"+this.domain+"/"+this.registerUrl;return new Promise(function(t,e){o.post(i,n,function(e){t(e)}).fail(e)})},a.prototype.sendResetPasswordEmail=function(n){var i="//"+this.domain+"/"+this.sendResetPasswordEmailUrl;return new Promise(function(t,e){o.post(i,n,function(e){t(e)}).fail(e)})},a.isLoggedIn=function(){return!!window.userModel},a.get=function(){return window.userModel},a.set=function(e){window.userModel=e},a.logout=function(){document.location.href=o(".logout").attr("href")},a.isUser=function(){var e=a.get();return"object"==typeof e&&null!=e},a.isPremium=function(){return a.isRealPremium()},a.isPremiumTemp=function(){return window.ilovepdfConfig&&"premium"==window.ilovepdfConfig.levelTemp},a.isTempPremium=function(){return a.isPremiumTemp()},a.isRealPremium=function(){var e=window.userModel;return"object"==typeof e&&null!=e&&e.premium},a.canDoTrial=function(){var e=window.userModel;return"object"==typeof e&&null!=e?e.can_trial:!!window.uct},a.refresh=function(o){return void 0===o&&(o=null),e(this,void 0,void 0,function(){var t,n,i;return r(this,function(e){switch(e.label){case 0:return[4,fetch(o?"/user/info/"+o:"/user/info")];case 1:return t=e.sent(),i=(n=JSON).parse,[4,t.json()];case 2:return t=i.apply(n,[e.sent()]),a.set(t.user),[2]}})})},a.removeAds=function(){var e=document.getElementsByClassName("add");e&&Array.from(e).forEach(function(e){e.remove()})},a.updateUser=function(e){window.userModel=e,window.ilovepdfConfig&&(window.ilovepdfConfig.user=e),1==a.isRealPremium()&&a.removeAds()},a.serviceToken=function(){var e=window.userModel;return e?e.token:null},a);function a(e){void 0===e&&(e={}),this.loginUrl="auth",this.registerUrl="signup",this.sendResetPasswordEmailUrl="login/forgetpassword",Object.assign(this,e);e="en-US"==window.lang?"":"/"+window.lang;this.domain=window.location.hostname+e}n.UserModel=t}.call(this,t(1))},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(0),c="?",s=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,l=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,u=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,d=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,p=/\((\S*)(?::(\d+))(?::(\d+))\)/,o=/Minified React error #\d+;/i;function r(e){var t=null,n=0;e&&("number"==typeof e.framesToPop?n=e.framesToPop:o.test(e.message)&&(n=1));try{if(t=function(e){if(!e||!e.stacktrace)return null;for(var t,n=e.stacktrace,i=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,o=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,r=n.split("\n"),a=[],s=0;s<r.length;s+=2){var l=null;(t=i.exec(r[s]))?l={url:t[2],func:t[3],args:[],line:+t[1],column:null}:(t=o.exec(r[s]))&&(l={url:t[6],func:t[3]||t[4],args:t[5]?t[5].split(","):[],line:+t[1],column:+t[2]}),l&&(!l.func&&l.line&&(l.func=c),a.push(l))}return a.length?{message:f(e),name:e.name,stack:a}:null}(e))return a(t,n)}catch(e){}try{if(t=function(e){if(!e||!e.stack)return null;for(var t,n,i=[],o=e.stack.split("\n"),r=0;r<o.length;++r){if(n=s.exec(o[r])){var a=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=p.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),a={url:n[2]&&0===n[2].indexOf("address at ")?n[2].substr("address at ".length):n[2],func:n[1]||c,args:a?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=u.exec(o[r]))a={url:n[2],func:n[1]||c,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=l.exec(o[r])))continue;n[3]&&-1<n[3].indexOf(" > eval")&&(t=d.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=t[1],n[4]=t[2],n[5]=""):0!==r||n[5]||void 0===e.columnNumber||(i[0].column=e.columnNumber+1),a={url:n[3],func:n[1]||c,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!a.func&&a.line&&(a.func=c),i.push(a)}return i.length?{message:f(e),name:e.name,stack:i}:null}(e))return a(t,n)}catch(e){}return{message:f(e),name:e&&e.name,stack:[],failed:!0}}function a(t,e){try{return Object(i.a)(Object(i.a)({},t),{stack:t.stack.slice(e)})}catch(e){return t}}function f(e){e=e&&e.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}},function(e,t,n){"use strict";n.r(t),n.d(t,"Severity",function(){return i.a}),n.d(t,"Status",function(){return o.a}),n.d(t,"addGlobalEventProcessor",function(){return r.b}),n.d(t,"addBreadcrumb",function(){return a.a}),n.d(t,"captureException",function(){return a.c}),n.d(t,"captureEvent",function(){return a.b}),n.d(t,"captureMessage",function(){return a.d}),n.d(t,"configureScope",function(){return a.e}),n.d(t,"getHubFromCarrier",function(){return s.c}),n.d(t,"getCurrentHub",function(){return s.b}),n.d(t,"Hub",function(){return s.a}),n.d(t,"makeMain",function(){return s.d}),n.d(t,"Scope",function(){return r.a}),n.d(t,"startTransaction",function(){return a.l}),n.d(t,"setContext",function(){return a.f}),n.d(t,"setExtra",function(){return a.g}),n.d(t,"setExtras",function(){return a.h}),n.d(t,"setTag",function(){return a.i}),n.d(t,"setTags",function(){return a.j}),n.d(t,"setUser",function(){return a.k}),n.d(t,"withScope",function(){return a.m}),n.d(t,"BrowserClient",function(){return l.a}),n.d(t,"injectReportDialog",function(){return c.a}),n.d(t,"eventFromException",function(){return u.a}),n.d(t,"eventFromMessage",function(){return u.b}),n.d(t,"defaultIntegrations",function(){return d.b}),n.d(t,"forceLoad",function(){return d.d}),n.d(t,"init",function(){return d.e}),n.d(t,"lastEventId",function(){return d.f}),n.d(t,"onLoad",function(){return d.g}),n.d(t,"showReportDialog",function(){return d.h}),n.d(t,"flush",function(){return d.c}),n.d(t,"close",function(){return d.a}),n.d(t,"wrap",function(){return d.i}),n.d(t,"SDK_NAME",function(){return p.a}),n.d(t,"SDK_VERSION",function(){return p.b}),n.d(t,"Integrations",function(){return v}),n.d(t,"Transports",function(){return m});var t=n(0),i=n(31),o=n(65),r=n(32),a=n(7),s=n(6),l=n(40),c=n(9),u=n(19),d=n(14),p=n(24),f=n(8),h=n(3),g=n(39),m=n(45),n={},h=Object(h.e)(),v=(h.Sentry&&h.Sentry.Integrations&&(n=h.Sentry.Integrations),Object(t.a)(Object(t.a)(Object(t.a)({},n),f.a),g))},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var i="sentry.javascript.browser",o="5.30.0"},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r=n(0);function i(e,t){return{body:JSON.stringify({sent_at:(new Date).toISOString()})+"\n"+JSON.stringify({type:"session"})+"\n"+JSON.stringify(e),type:"session",url:t.getEnvelopeEndpointWithUrlEncodedAuth()}}function o(e,t){var n=e.tags||{},i=n.__sentry_samplingMethod,o=n.__sentry_sampleRate,n=Object(r.d)(n,["__sentry_samplingMethod","__sentry_sampleRate"]),n=(e.tags=n,"transaction"===e.type),t={body:JSON.stringify(e),type:e.type||"event",url:n?t.getEnvelopeEndpointWithUrlEncodedAuth():t.getStoreEndpointWithUrlEncodedAuth()};return n&&(n=JSON.stringify({event_id:e.event_id,sent_at:(new Date).toISOString()}),e=JSON.stringify({type:e.type,sample_rates:[{id:i,rate:o}]}),t.body=n+"\n"+e+"\n"+t.body),t}},function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return u});var i=n(2),o=n(5),r=n(22),a=50;function s(e){var t=u(e.stack),e={type:e.name,value:e.message};return t&&t.length&&(e.stacktrace={frames:t}),void 0===e.type&&""===e.value&&(e.value="Unrecoverable error caught"),e}function l(e,t,n){n={exception:{values:[{type:Object(i.f)(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+Object(o.b)(e)}]},extra:{__serialized__:Object(o.e)(e)}};return t&&(e=u(Object(r.a)(t).stack),n.stacktrace={frames:e}),n}function c(e){return{exception:{values:[s(e)]}}}function u(e){var t,n;return e&&e.length?(e=(t=e)[0].func||"",n=t[t.length-1].func||"",-1===e.indexOf("captureMessage")&&-1===e.indexOf("captureException")||(t=t.slice(1)),(t=-1!==n.indexOf("sentryWrapped")?t.slice(0,-1):t).slice(0,a).map(function(e){return{colno:null===e.column?void 0:e.column,filename:e.url||t[0].url,function:e.func||"?",in_app:!0,lineno:null===e.line?void 0:e.line}}).reverse()):[]}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r,l=n(0),c=n(2),u=n(11),t=n(3),d=n(5),s=n(16),o=n(41),p=Object(t.e)(),f={},h={};function i(e){var i,a,s,t;if(!h[e])switch(h[e]=!0,e){case"console":"console"in p&&["debug","info","warn","error","log","assert"].forEach(function(i){i in p.console&&Object(d.c)(p.console,i,function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];g("console",{args:e,level:i}),n&&Function.prototype.apply.call(n,p.console,e)}})});break;case"dom":"document"in p&&(p.document.addEventListener("click",b("click",g.bind(null,"dom")),!1),p.document.addEventListener("keypress",w(g.bind(null,"dom")),!1),["EventTarget","Node"].forEach(function(e){e=p[e]&&p[e].prototype;e&&e.hasOwnProperty&&e.hasOwnProperty("addEventListener")&&(Object(d.c)(e,"addEventListener",function(i){return function(e,t,n){return t&&t.handleEvent?("click"===e&&Object(d.c)(t,"handleEvent",function(t){return function(e){return b("click",g.bind(null,"dom"))(e),t.call(this,e)}}),"keypress"===e&&Object(d.c)(t,"handleEvent",function(t){return function(e){return w(g.bind(null,"dom"))(e),t.call(this,e)}})):("click"===e&&b("click",g.bind(null,"dom"),!0)(this),"keypress"===e&&w(g.bind(null,"dom"))(this)),i.call(this,e,t,n)}}),Object(d.c)(e,"removeEventListener",function(i){return function(e,t,n){try{i.call(this,e,t.__sentry_wrapped__,n)}catch(e){}return i.call(this,e,t,n)}}))}));break;case"xhr":"XMLHttpRequest"in p&&(a=[],s=[],t=XMLHttpRequest.prototype,Object(d.c)(t,"open",function(r){return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];function i(){if(4===o.readyState){try{o.__sentry_xhr__&&(o.__sentry_xhr__.status_code=o.status)}catch(e){}try{var e,t=a.indexOf(o);-1!==t&&(a.splice(t),e=s.splice(t)[0],o.__sentry_xhr__)&&void 0!==e[0]&&(o.__sentry_xhr__.body=e[0])}catch(e){}g("xhr",{args:n,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:o})}}var o=this,t=n[1];o.__sentry_xhr__={method:Object(c.k)(n[0])?n[0].toUpperCase():n[0],url:n[1]},Object(c.k)(t)&&"POST"===o.__sentry_xhr__.method&&t.match(/sentry_key/)&&(o.__sentry_own_request__=!0);return"onreadystatechange"in o&&"function"==typeof o.onreadystatechange?Object(d.c)(o,"onreadystatechange",function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i(),n.apply(o,e)}}):o.addEventListener("readystatechange",i),r.apply(o,n)}}),Object(d.c)(t,"send",function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.push(this),s.push(e),g("xhr",{args:e,startTimestamp:Date.now(),xhr:this}),n.apply(this,e)}}));break;case"fetch":Object(o.c)()&&Object(d.c)(p,"fetch",function(i){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={args:e,fetchData:{method:function(e){void 0===e&&(e=[]);if("Request"in p&&Object(c.g)(e[0],Request)&&e[0].method)return String(e[0].method).toUpperCase();if(e[1]&&e[1].method)return String(e[1].method).toUpperCase();return"GET"}(e),url:function(e){void 0===e&&(e=[]);if("string"==typeof e[0])return e[0];if("Request"in p&&Object(c.g)(e[0],Request))return e[0].url;return String(e[0])}(e)},startTimestamp:Date.now()};return g("fetch",Object(l.a)({},n)),i.apply(p,e).then(function(e){return g("fetch",Object(l.a)(Object(l.a)({},n),{endTimestamp:Date.now(),response:e})),e},function(e){throw g("fetch",Object(l.a)(Object(l.a)({},n),{endTimestamp:Date.now(),error:e})),e})}});break;case"history":Object(o.b)()&&(i=p.onpopstate,p.onpopstate=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=p.location.href;if(g("history",{from:r,to:r=n}),i)return i.apply(this,e)},Object(d.c)(p.history,"pushState",n),Object(d.c)(p.history,"replaceState",n));break;case"error":x=p.onerror,p.onerror=function(e,t,n,i,o){return g("error",{column:i,error:o,line:n,msg:e,url:t}),!!x&&x.apply(this,arguments)};break;case"unhandledrejection":E=p.onunhandledrejection,p.onunhandledrejection=function(e){return g("unhandledrejection",e),!E||E.apply(this,arguments)};break;default:u.a.warn("unknown instrumentation type:",e)}function n(o){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,i=2<e.length?e[2]:void 0;return i&&(n=r,i=String(i),g("history",{from:n,to:r=i})),o.apply(this,e)}}}function a(e){e&&"string"==typeof e.type&&"function"==typeof e.callback&&(f[e.type]=f[e.type]||[],f[e.type].push(e.callback),i(e.type))}function g(t,e){var n,i;if(t&&f[t])try{for(var o=Object(l.f)(f[t]||[]),r=o.next();!r.done;r=o.next()){var a=r.value;try{a(e)}catch(e){u.a.error("Error while triggering instrumentation handler.\nType: "+t+"\nName: "+Object(s.a)(a)+"\nError: "+e)}}}catch(e){n={error:e}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}var m,v,y=1e3,_=0;function b(t,n,i){return void 0===i&&(i=!1),function(e){m=void 0,e&&v!==e&&(v=e,_&&clearTimeout(_),i?_=setTimeout(function(){n({event:e,name:t})}):n({event:e,name:t}))}}function w(i){return function(e){var t;try{t=e.target}catch(e){return}var n=t&&t.tagName;n&&("INPUT"===n||"TEXTAREA"===n||t.isContentEditable)&&(m||b("input",i)(e),clearTimeout(m),m=setTimeout(function(){m=void 0},y))}}var x=null;var E=null},function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function i(){this._eventEmitterCallbacks={}}Object.defineProperty(t,"__esModule",{value:!0}),t.ILoveEventEmitter=void 0,i.prototype.addEventListener=function(e,t){e in this._eventEmitterCallbacks||(this._eventEmitterCallbacks[e]=[]),this._eventEmitterCallbacks[e].push(t)},i.prototype.dispatchEvent=function(t){t.name in this._eventEmitterCallbacks&&this._eventEmitterCallbacks[t.name].forEach(function(e){return e(t)});var e=new Event(t.name);document.dispatchEvent(e)},t.ILoveEventEmitter=i},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var g=n(0),i=n(46),a=n(65),o=n(17),r=n(12),s=(l.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},l.prototype.add=function(e){var t=this;return this.isReady()?(-1===this._buffer.indexOf(e)&&this._buffer.push(e),e.then(function(){return t.remove(e)}).then(null,function(){return t.remove(e).then(null,function(){})}),e):r.a.reject(new o.a("Not adding Promise due to buffer limit reached."))},l.prototype.remove=function(e){return this._buffer.splice(this._buffer.indexOf(e),1)[0]},l.prototype.length=function(){return this._buffer.length},l.prototype.drain=function(n){var i=this;return new r.a(function(e){var t=setTimeout(function(){n&&0<n&&e(!1)},n);r.a.all(i._buffer).then(function(){clearTimeout(t),e(!0)}).then(null,function(){e(!0)})})},l);function l(e){this._limit=e,this._buffer=[]}var c=n(11),m=n(3),u=(d.prototype.sendEvent=function(e){throw new o.a("Transport Class has to implement `sendEvent` method")},d.prototype.close=function(e){return this._buffer.drain(e)},d.prototype._handleResponse=function(e){var t=e.requestType,n=e.response,i=e.headers,o=e.resolve,e=e.reject,r=a.a.fromHttpCode(n.status);this._handleRateLimit(i)&&c.a.warn("Too many requests, backing off until: "+this._disabledUntil(t)),r===a.a.Success?o({status:r}):e(n)},d.prototype._disabledUntil=function(e){return this._rateLimits[e]||this._rateLimits.all},d.prototype._isRateLimited=function(e){return this._disabledUntil(e)>new Date(Date.now())},d.prototype._handleRateLimit=function(e){var t,n,i,o,r=Date.now(),a=e["x-sentry-rate-limits"],e=e["retry-after"];if(a){try{for(var s=Object(g.f)(a.trim().split(",")),l=s.next();!l.done;l=s.next()){var c=l.value.split(":",2),u=parseInt(c[0],10),d=1e3*(isNaN(u)?60:u);try{i=void 0;for(var p=Object(g.f)(c[1].split(";")),f=p.next();!f.done;f=p.next()){var h=f.value;this._rateLimits[h||"all"]=new Date(r+d)}}catch(e){i={error:e}}finally{try{f&&!f.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return!0}return!!e&&(this._rateLimits.all=new Date(r+Object(m.g)(r,e)),!0)},d);function d(e){this.options=e,this._buffer=new s(30),this._rateLimits={},this._api=new i.a(this.options.dsn),this.url=this._api.getStoreEndpointWithUrlEncodedAuth()}},function(e,t,n){"use strict";var i,o;n.d(t,"a",function(){return i}),(n=i=i||{}).Fatal="fatal",n.Error="error",n.Warning="warning",n.Log="log",n.Info="info",n.Debug="debug",n.Critical="critical",(o=i=i||{}).fromString=function(e){switch(e){case"debug":return o.Debug;case"info":return o.Info;case"warn":case"warning":return o.Warning;case"error":return o.Error;case"fatal":return o.Fatal;case"critical":return o.Critical;default:return o.Log}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return d});var l=n(0),c=n(2),i=n(89),u=n(12),o=n(3),r=(a.clone=function(e){var t=new a;return e&&(t._breadcrumbs=Object(l.e)(e._breadcrumbs),t._tags=Object(l.a)({},e._tags),t._extra=Object(l.a)({},e._extra),t._contexts=Object(l.a)({},e._contexts),t._user=e._user,t._level=e._level,t._span=e._span,t._session=e._session,t._transactionName=e._transactionName,t._fingerprint=e._fingerprint,t._eventProcessors=Object(l.e)(e._eventProcessors)),t},a.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},a.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},a.prototype.setUser=function(e){return this._user=e||{},this._session&&this._session.update({user:e}),this._notifyScopeListeners(),this},a.prototype.getUser=function(){return this._user},a.prototype.setTags=function(e){return this._tags=Object(l.a)(Object(l.a)({},this._tags),e),this._notifyScopeListeners(),this},a.prototype.setTag=function(e,t){var n;return this._tags=Object(l.a)(Object(l.a)({},this._tags),((n={})[e]=t,n)),this._notifyScopeListeners(),this},a.prototype.setExtras=function(e){return this._extra=Object(l.a)(Object(l.a)({},this._extra),e),this._notifyScopeListeners(),this},a.prototype.setExtra=function(e,t){var n;return this._extra=Object(l.a)(Object(l.a)({},this._extra),((n={})[e]=t,n)),this._notifyScopeListeners(),this},a.prototype.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},a.prototype.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},a.prototype.setTransactionName=function(e){return this._transactionName=e,this._notifyScopeListeners(),this},a.prototype.setTransaction=function(e){return this.setTransactionName(e)},a.prototype.setContext=function(e,t){var n;return null===t?delete this._contexts[e]:this._contexts=Object(l.a)(Object(l.a)({},this._contexts),((n={})[e]=t,n)),this._notifyScopeListeners(),this},a.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},a.prototype.getSpan=function(){return this._span},a.prototype.getTransaction=function(){var e,t=this.getSpan();return null!=(e=t)&&e.transaction?null==(e=t)?void 0:e.transaction:null!=(e=null==(e=t)?void 0:e.spanRecorder)&&e.spans[0]?t.spanRecorder.spans[0]:void 0},a.prototype.setSession=function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this},a.prototype.getSession=function(){return this._session},a.prototype.update=function(e){if(e){var t;if("function"==typeof e)return(t=e(this))instanceof a?t:this;e instanceof a?(this._tags=Object(l.a)(Object(l.a)({},this._tags),e._tags),this._extra=Object(l.a)(Object(l.a)({},this._extra),e._extra),this._contexts=Object(l.a)(Object(l.a)({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint)):Object(c.h)(e)&&(this._tags=Object(l.a)(Object(l.a)({},this._tags),e.tags),this._extra=Object(l.a)(Object(l.a)({},this._extra),e.extra),this._contexts=Object(l.a)(Object(l.a)({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint)&&(this._fingerprint=e.fingerprint)}return this},a.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},a.prototype.addBreadcrumb=function(e,t){e=Object(l.a)({timestamp:Object(i.a)()},e);return this._breadcrumbs=void 0!==t&&0<=t?Object(l.e)(this._breadcrumbs,[e]).slice(-t):Object(l.e)(this._breadcrumbs,[e]),this._notifyScopeListeners(),this},a.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},a.prototype.applyToEvent=function(e,t){var n;return this._extra&&Object.keys(this._extra).length&&(e.extra=Object(l.a)(Object(l.a)({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=Object(l.a)(Object(l.a)({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=Object(l.a)(Object(l.a)({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=Object(l.a)(Object(l.a)({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span&&(e.contexts=Object(l.a)({trace:this._span.getTraceContext()},e.contexts),n=null==(n=this._span.transaction)?void 0:n.name)&&(e.tags=Object(l.a)({transaction:n},e.tags)),this._applyFingerprint(e),e.breadcrumbs=Object(l.e)(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=0<e.breadcrumbs.length?e.breadcrumbs:void 0,this._notifyEventProcessors(Object(l.e)(s(),this._eventProcessors),e,t)},a.prototype._notifyEventProcessors=function(i,o,r,a){var s=this;return void 0===a&&(a=0),new u.a(function(t,e){var n=i[a];null===o||"function"!=typeof n?t(o):(n=n(Object(l.a)({},o),r),(Object(c.m)(n)?n.then(function(e){return s._notifyEventProcessors(i,e,r,a+1).then(t)}):s._notifyEventProcessors(i,n,r,a+1).then(t)).then(null,e))})},a.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(e){e(t)}),this._notifyingListeners=!1)},a.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},a);function a(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}function s(){var e=Object(o.e)();return e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.globalEventProcessors=e.__SENTRY__.globalEventProcessors||[],e.__SENTRY__.globalEventProcessors}function d(e){s().push(e)}},function(e,o,r){"use strict";!function(i){Object.defineProperty(o,"__esModule",{value:!0}),o.Tools=void 0;var t=r(13);function n(){}n.isRtlPage=function(){var e=null!=document.dir?document.dir:document.getElementsByTagName("html")[0].getAttribute("dir");return"rtl"==e},n.sleep=function(n){return new Promise(function(e,t){setTimeout(e,n)})},n.bytesToSize=function(e){var t;return 0==e?"0 Byte":(t=Math.floor(Math.log(e)/Math.log(1024)),(e/Math.pow(1024,t)).toFixed(2)+" "+["Bytes","KB","MB","GB","TB"][t])},n.mbytesToSize=function(e){return n.bytesToSize(1e6*e)},n.convertPointsToPixels=function(e){return e*(1+1/3)},n.strCapitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},n.isRTL=function(){return i("body").hasClass("rtl")},n.isTextRTL=function(e){return new RegExp("^[^A-Za-z--------]*[---]").test(e)},Object.defineProperty(n,"textDirection",{get:function(){return n.isRTL()?"right":"left"},enumerable:!1,configurable:!0}),n.getClosestNumber=function(e,t){for(var n=Math.abs(t[0]-e),i=0,o=1;o<t.length;o++){var r=Math.abs(t[o]-e);r<n&&(i=o,n=r)}return t[i]},n.modalView=function(e){var t='<div class="modal fade" id="'+e.id+'" aria-labelledby="'+e.id+'Modal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog '+(e.size?"modal-"+e.size:"")+'" role="document"><div class="modal-content">',n='<div class="dialog__close" data-dismiss="modal" aria-label="Close"></div>';return"title"in e&&(t=t+('<div class="dialog__header"><h4 class="dialog__title">'+e.title)+"</h4>"+n+"</div>"),"content"in e?t=t+('<div class="dialog__body">'+(e.title?"":n)+e.content)+"</div>":t+='<div class="dialog__body"></div>',"btn"in e&&(t=t+('<div class="dialog__footer"><button type="button" class="btn" data-dismiss="modal">'+e.btn)+"</button></div>"),t+="</div></div></div>"},n.modalViewOk=function(e){return e.btn=t.Lang.t("Ok"),n.modalView(e)},n.setInputCursorAtTheEnd=function(e){var t=e.val().length;e.focus(),e[0].setSelectionRange(t,t)},n.svgClose=function(){return n.svgRemove(12,12)},n.svgRotate=function(e,t){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+(e=void 0===e?14:e)+'" height="'+(t=void 0===t?16:t)+'" viewBox="0 0 14 16"><path d="M11.328 6.364l1.24-1.2c.79.98 1.283 2.113 1.433 3.288h-1.775c-.123-.735-.43-1.454-.896-2.088zm.896 3.778H14c-.15 1.175-.633 2.308-1.424 3.288l-1.24-1.2c.457-.634.765-1.344.888-2.088zm-.888 4.497C10.318 15.4 9.13 15.856 7.9 16v-1.716a5.31 5.31 0 0 0 2.162-.871l1.266 1.226zM6.152 2.595V0l4 3.846-4 3.76V4.302c-2.496.406-4.394 2.485-4.394 4.995s1.898 4.59 4.394 4.995V16C2.68 15.586 0 12.746 0 9.297s2.68-6.29 6.152-6.703z" fill="#47474F" fill-rule="evenodd"/></svg>'},n.svgRemove=function(e,t){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+(e=void 0===e?12:e)+'" height="'+(t=void 0===t?12:t)+'" viewBox="0 0 12 12"><polygon fill="#47474F" fill-rule="evenodd" points="12 1.208 10.79 0 6 4.792 1.21 0 0 1.208 4.79 6 0 10.792 1.21 12 6 7.208 10.79 12 12 10.792 7.21 6"/></svg>'},n.svgArrowRight=function(e,t){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+(e=void 0===e?12:e)+'" height="'+(t=void 0===t?12:t)+'" viewBox="0 0 448 512"><path d="M313.94 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.94v46.06c0 21.382 25.85 32.1 40.97 16.97l86.06-86.06c9.373-9.373 9.373-24.57 0-33.94l-86.06-86.06c-15.12-15.12-40.97-4.41-40.97 16.97V216z"/></svg>'},n.svgHome=function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="26" height="21"><path d="M22.028 12.67v6.468a1.08 1.08 0 0 1-1.083 1.083h-5.236c-.298 0-.542-.244-.542-.542v-5.056c0-.298-.244-.542-.542-.542h-3.25c-.298 0-.542.244-.542.542v5.056c0 .298-.244.542-.542.542H5.056a1.08 1.08 0 0 1-1.083-1.083V12.67a.54.54 0 0 1 .199-.42l8.486-6.987a.55.55 0 0 1 .691 0l8.486 6.987c.122.104.194.257.194.42zm3.774-2.75l-3.774-3.1V.56c0-.298-.244-.542-.542-.542h-2.528c-.298 0-.542.244-.542.542v3.277L14.377.5c-.8-.66-1.955-.66-2.753 0L.2 9.922c-.23.2-.262.533-.072.763l1.15 1.4c.2.23.533.262.763.072l10.617-8.743a.55.55 0 0 1 .691 0l10.617 8.743c.23.2.573.158.763-.072l1.15-1.4c.2-.235.153-.573-.077-.763z"/></svg>'},n.randomId=function(){for(var e="";e.length<8;)e+=Math.random().toString(36).replace(/[^a-z]+/g,"");return e.slice(0,8)},n.colorpicker=function(t){var e=null,e=1==i(t).data("limit")?{preferredFormat:"hex",showPaletteOnly:!0,color:"blanchedalmond",palette:[["#000","#444","#666","#999","#ccc","#eee","#f3f3f3","#fff"],["#f00","#f90","#ff0","#0f0","#0ff","#00f","#90f","#f0f"],["#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d0e0e3","#cfe2f3","#d9d2e9","#ead1dc"],["#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd"],["#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0"],["#c00","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79"],["#900","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47"],["#600","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"]]}:{allowEmpty:!0,showInitial:!0,preferredFormat:"hex"};1==i(t).data("input")&&(e.showInput=!0),1==i(t).data("empty")&&(e.allowEmpty=!0,1==i(t).data("limit")&&e.palette.push(["transparent"]),e.change=function(e){e=0===e._a?"transparent":e.toHexString(),i(t).val(e)}),1==i(t).data("inline")&&(e.flat=!0),1==i(t).data("aplha")&&(e.showAlpha=!0),e.clickoutFiresChange=!0;try{i(t).spectrum(e)}catch(t){}},n.isElementInView=function(e,t){return void 0===t&&(t=!1),0!=e.length&&(0==t?e.offset().top<i(window).height()&&60<e.offset().top+e.height():e.offset().top+e.height()<i(window).height()&&60<e.offset().top)},n.keepInNumericBounds=function(e,t,n){return null!==e&&n<e&&(n=e),n=null!==t&&t<n?t:n},n.scrollControl=function(t,n,i){var o=0;t.scroll(function(){var e=t.scrollTop();o<e&&"function"==typeof i&&i(),e<o&&"function"==typeof n&&n(),o=e})},n.loadingFromPreviousStart=function(){var e=i(".fromPrevious");0<=e.length||(e=i('<div class="wait fromPrevious">'+t.Lang.t("previousTaskLoading")+"</div>"),i(".main").append(e)),e.css("display","flex")},n.loadingFromPreviousFail=function(){var e="<div><p>"+t.Lang.t("previousFail")+'</p><p></p><p><button class="btn" onclick="window.history.go(-1); return false;">'+t.Lang.t("previousFailBack")+'</button> <button class="btn btn--red" id="closePrevious">'+t.Lang.t("previousFailContinue")+"</button></p></div>";i(".fromPrevious").html(e).css("background-image","none")},n.loadingFromPreviousEnd=function(){i(".fromPrevious").remove()},n.serializeFormData=function(e){var t={};try{for(var n=0,i=e.entries();n<i.length;n++){var o=i[n],r=o[0],a=o[1];t[r]=a}}catch(e){}return t={info:"form data serialize failed"}},n.parseTemplate=function(n,e,t){return void 0===t&&(t="simple"),null!=(e=void 0===e?null:e)&&("simple"==t&&i.each(e,function(e,t){n=n.replace("{"+e+"}",t)}),"dollar"==t)&&i.each(e,function(e,t){n=n.replace("${"+e+"}",t)}),n},n.isEmail=function(e){return!!/^\w+([\+\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w+)+$/.test(e)},n.getBrowserTimezone=function(){var e,t="UTC";return t=window.Intl&&window.Intl.DateTimeFormat()&&(e=window.Intl.DateTimeFormat().resolvedOptions().timeZone)?e:t},o.Tools=n}.call(this,r(1))},,function(e,o,r){"use strict";!function(e,t){r.d(o,"b",function(){return n}),r.d(o,"a",function(){return i});r(2),r(5);function n(){return"[object process]"===Object.prototype.toString.call(void 0!==e?e:0)}function i(e,t){return e.require(t)}}.call(this,r(81),r(58)(e))},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var l=n(2);function i(e){try{for(var t,n=e,i=[],o=0,r=0,a=" > ".length;n&&o++<5&&!("html"===(t=function(e){var t,n,i,o,r=e,a=[];if(!r||!r.tagName)return"";a.push(r.tagName.toLowerCase()),r.id&&a.push("#"+r.id);if((e=r.className)&&Object(l.k)(e))for(t=e.split(/\s+/),o=0;o<t.length;o++)a.push("."+t[o]);var s=["type","name","title","alt"];for(o=0;o<s.length;o++)n=s[o],(i=r.getAttribute(n))&&a.push("["+n+'="'+i+'"]');return a.join("")}(n))||1<o&&80<=r+i.length*a+t.length);)i.push(t),r+=t.length,n=n.parentNode;return i.reverse().join(" > ")}catch(e){return"<unknown>"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lazyload=void 0,t.lazyload=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n="async");for(var i=document.getElementsByTagName("script"),o=i.length;o--;)if(i[o].src.match(e))return!0;var r,a,s=document.createElement("script");for(r in s.type="text/javascript",0 in document.createElement("script"),"defer"in document.createElement("script")&&(s.defer=!0),s.src=e,t)t.hasOwnProperty(r)&&(a=t[r],s.setAttribute(r,a));return(n=document.getElementsByTagName("script")[0]).parentNode.insertBefore(s,n),!0}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(65),o=n(12),r=(a.prototype.sendEvent=function(e){return o.a.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:i.a.Skipped})},a.prototype.close=function(e){return o.a.resolve(!0)},a);function a(){}},function(e,t,n){"use strict";n.r(t);var i=n(49),o=(n.d(t,"GlobalHandlers",function(){return i.a}),n(48)),r=(n.d(t,"TryCatch",function(){return o.a}),n(47)),a=(n.d(t,"Breadcrumbs",function(){return r.a}),n(50)),s=(n.d(t,"LinkedErrors",function(){return a.a}),n(51));n.d(t,"UserAgent",function(){return s.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return _});var i,o=n(0),t=n(64),r=n(3),a=n(11),s=n(61),l=n(31),c=n(41),u=n(19),d=n(59),p=n(60),f=(i=s.a,Object(o.b)(h,i),h.prototype.eventFromException=function(e,t){return Object(u.a)(this._options,e,t)},h.prototype.eventFromMessage=function(e,t,n){return void 0===t&&(t=l.a.Info),Object(u.b)(this._options,e,t,n)},h.prototype._setupTransport=function(){var e;return this._options.dsn?(e=Object(o.a)(Object(o.a)({},this._options.transportOptions),{dsn:this._options.dsn}),new(this._options.transport||(Object(c.a)()?d:p).a)(e)):i.prototype._setupTransport.call(this)},h);function h(){return null!==i&&i.apply(this,arguments)||this}var g,m=n(9),v=n(47),y=n(24),_=(g=t.a,Object(o.b)(b,g),b.prototype.showReportDialog=function(e){void 0===e&&(e={}),Object(r.e)().document&&(this._isEnabled()?Object(m.a)(Object(o.a)(Object(o.a)({},e),{dsn:e.dsn||this.getDsn()})):a.a.error("Trying to call showReportDialog with Sentry Client disabled"))},b.prototype._prepareEvent=function(e,t,n){return e.platform=e.platform||"javascript",e.sdk=Object(o.a)(Object(o.a)({},e.sdk),{name:y.a,packages:Object(o.e)(e.sdk&&e.sdk.packages||[],[{name:"npm:@sentry/browser",version:y.b}]),version:y.b}),g.prototype._prepareEvent.call(this,e,t,n)},b.prototype._sendEvent=function(e){var t=this.getIntegration(v.a);t&&t.addSentryBreadcrumb(e),g.prototype._sendEvent.call(this,e)},b);function b(e){return g.call(this,f,e=void 0===e?{}:e)||this}},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return l}),n.d(t,"b",function(){return c});var i=n(11),o=n(3);function r(){if(!("fetch"in Object(o.e)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function a(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function s(){if(!r())return!1;var e=Object(o.e)();if(a(e.fetch))return!0;var t=!1,e=e.document;if(e&&"function"==typeof e.createElement)try{var n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=a(n.contentWindow.fetch)),e.head.removeChild(n)}catch(e){i.a.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return t}function l(){if(!r())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}}function c(){var e=Object(o.e)(),t=e.chrome,t=t&&t.app&&t.app.runtime,e="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!t&&e}},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=(Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=void 0,r(n(83)));function s(){}s.get=function(e){var t="production";return a[t][e]},s.mode=function(){var e="production";return e},s.env=function(){return"production"},t.Settings=s},function(e,s,l){"use strict";!function(i){var o=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),e=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t},t=(Object.defineProperty(s,"__esModule",{value:!0}),s.Tooltip=void 0,e(l(37))),n=l(79),e=(a.compat=function(){(-1!==navigator.appVersion.indexOf("MSIE 10")||0<=navigator.userAgent.indexOf(" UCBrowser/")||0<=navigator.userAgent.indexOf("Opera Mini")||0<=navigator.userAgent.indexOf("Android")&&4.4<parseFloat(navigator.userAgent.slice(navigator.userAgent.indexOf("Android")+8)))&&t.lazyload("//cdn.jsdelivr.net/npm/mutationobserver-shim/dist/mutationobserver.min.js")},a.init=function(e){void 0===e&&(e=null),window.tippy&&(i(e=null==e?".tooltip":e).each(function(e,t){i(t)[0]._tippy||(window._tippyInstances=window._tippyInstances||[],t=window.tippy(i(t)[0],a.getOptions(t)),window._tippyInstances.push(t))}),n.LinkTitle.disable(e),i(e).hover(function(){if(i(this).hasClass("rotate")||i(this).hasClass("remove"))try{var e=i(this).parent().parent()[0]._tippy;e&&(e.hide(),e.disable())}catch(e){}},function(){if(i(this).hasClass("rotate")||i(this).hasClass("remove"))try{var e=i(this).parent().parent()[0]._tippy;e&&e.enable()}catch(e){}}),i(".tooltip").on("mouseenter",function(e){e.preventDefault()}))},a.getOptions=function(e){var t={animation:"fade",delay:[0,0],offset:[0,20],allowHTML:!0,content:i(e).is("[data-title]")?i(e).attr("data-title"):i(e).attr("title"),arrow:!0,placement:a.getPlacement(e),showOnCreate:i(e).hasClass("tooltip--show"),hideOnClick:!i(e).hasClass("tooltip--fixed"),theme:i(e).is("[data-theme]")?i(e).attr("data-theme"):""};return i(e).is("[data-z]")&&(t.zIndex=i(e).attr("data-z")),t},a.getPlacement=function(e){e=i(e);return e.hasClass("tooltip--top")?"top":e.hasClass("tooltip--top-start")?"top-start":e.hasClass("tooltip--top-end")?"top-end":e.hasClass("tooltip--bottom")?"bottom":e.hasClass("tooltip--left")?"left":e.hasClass("tooltip--right")?"right":"top"},a.setContent=function(e,n){if(1==i(e).length)return i(e).attr("title",n),i(e).attr("data-title",n),i(e)[0]._tippy?(i(e)[0]._tippy.hide(),void i(e)[0]._tippy.setContent(n)):void a.init(e);i(e).each(function(e,t){a.setContent(t,n)})},a.show=function(e,t){void 0===t&&(t=null);var n;i(e)[0];0!=i(e).length&&("_tippy"in i(e)[0]||a.init(i(e)),n=i(e)[0]._tippy,i(e).is(":disabled")?(i(e).attr("disabled",!1),n.show(),setTimeout(function(){i(e).attr("disabled",!0)},100)):n.show(),null!=t)&&setTimeout(function(){i(e)[0]._tippy.hide()},t)},a.shake=function(e){var t=i(e)[0]._tippy;window.setTimeout(function(){i(t.popper).children().addClass("shake")},500)},a.hide=function(e){try{i(e)[0]._tippy.hide()}catch(e){}},a.enable=function(e){if(1==i(e).length)try{i(e)[0]._tippy.enable()}catch(e){}else i(e).each(function(e,t){a.enable(t)})},a.disable=function(e){if(1==i(e).length)try{i(e)[0]._tippy.hide(),i(e)[0]._tippy.disable()}catch(e){}else i(e).each(function(e,t){a.disable(t)})},a.destroy=function(e){if(1==i(e).length)try{i(e)}catch(e){}else i(e).each(function(e,t){a.destroy(t)})},a.wrapDisabled=function(e){i(e).wrap("<div class='tootlip-wrap'></div>")},a);function a(){}s.Tooltip=e,window.tootip=e}.call(this,l(1))},function(e,t,n){var i,o;!function(){"use strict";o=[n(1)],void 0!==(o="function"==typeof(i=function(e){"use strict";return e.ui=e.ui||{},e.ui.version="1.13.0"})?i.apply(t,o):i)&&(e.exports=o)}()},function(e,t,n){"use strict";n.r(t);var i=n(30),o=(n.d(t,"BaseTransport",function(){return i.a}),n(59)),r=(n.d(t,"FetchTransport",function(){return o.a}),n(60));n.d(t,"XHRTransport",function(){return r.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(90),o=n(5),r=(a.prototype.getDsn=function(){return this._dsnObject},a.prototype.getBaseApiEndpoint=function(){var e=this._dsnObject,t=e.protocol?e.protocol+":":"",n=e.port?":"+e.port:"";return t+"//"+e.host+n+(e.path?"/"+e.path:"")+"/api/"},a.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},a.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},a.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},a.prototype.getStoreEndpointPath=function(){var e=this._dsnObject;return(e.path?"/"+e.path:"")+"/api/"+e.projectId+"/store/"},a.prototype.getRequestHeaders=function(e,t){var n=this._dsnObject,i=["Sentry sentry_version=7"];return i.push("sentry_client="+e+"/"+t),i.push("sentry_key="+n.user),n.pass&&i.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":i.join(", ")}},a.prototype.getReportDialogEndpoint=function(e){void 0===e&&(e={});var t,n=this._dsnObject,i=this.getBaseApiEndpoint()+"embed/error-page/",o=[];for(t in o.push("dsn="+n.toString()),e)"dsn"!==t&&("user"===t?e.user&&(e.user.name&&o.push("name="+encodeURIComponent(e.user.name)),e.user.email)&&o.push("email="+encodeURIComponent(e.user.email)):o.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t])));return o.length?i+"?"+o.join("&"):i},a.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},a.prototype._getIngestEndpoint=function(e){return""+this.getBaseApiEndpoint()+this._dsnObject.projectId+"/"+e+"/"},a.prototype._encodedAuth=function(){var e={sentry_key:this._dsnObject.user,sentry_version:"7"};return Object(o.f)(e)},a);function a(e){this.dsn=e,this._dsnObject=new i.a(e)}},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var i=n(0),r=n(6),o=n(31),a=n(3),s=n(27),l=n(20),c=n(36),u=(d.prototype.addSentryBreadcrumb=function(e){this._options.sentry&&Object(r.b)().addBreadcrumb({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:Object(a.d)(e)},{event:e})},d.prototype.setupOnce=function(){var n=this;this._options.console&&Object(s.a)({callback:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n._consoleBreadcrumb.apply(n,Object(i.e)(e))},type:"console"}),this._options.dom&&Object(s.a)({callback:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n._domBreadcrumb.apply(n,Object(i.e)(e))},type:"dom"}),this._options.xhr&&Object(s.a)({callback:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n._xhrBreadcrumb.apply(n,Object(i.e)(e))},type:"xhr"}),this._options.fetch&&Object(s.a)({callback:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n._fetchBreadcrumb.apply(n,Object(i.e)(e))},type:"fetch"}),this._options.history&&Object(s.a)({callback:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n._historyBreadcrumb.apply(n,Object(i.e)(e))},type:"history"})},d.prototype._consoleBreadcrumb=function(e){var t={category:"console",data:{arguments:e.args,logger:"console"},level:o.a.fromString(e.level),message:Object(l.b)(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;t.message="Assertion failed: "+(Object(l.b)(e.args.slice(1)," ")||"console.assert"),t.data.arguments=e.args.slice(1)}Object(r.b)().addBreadcrumb(t,{input:e.args,level:e.level})},d.prototype._domBreadcrumb=function(e){var t;try{t=e.event.target?Object(c.a)(e.event.target):Object(c.a)(e.event)}catch(e){t="<unknown>"}0!==t.length&&Object(r.b)().addBreadcrumb({category:"ui."+e.name,message:t},{event:e.event,name:e.name})},d.prototype._xhrBreadcrumb=function(e){var t,n,i,o;e.endTimestamp&&!e.xhr.__sentry_own_request__&&(t=(o=e.xhr.__sentry_xhr__||{}).method,n=o.url,i=o.status_code,o=o.body,Object(r.b)().addBreadcrumb({category:"xhr",data:{method:t,url:n,status_code:i},type:"http"},{xhr:e.xhr,input:o}))},d.prototype._fetchBreadcrumb=function(e){!e.endTimestamp||e.fetchData.url.match(/sentry_key/)&&"POST"===e.fetchData.method||(e.error?Object(r.b)().addBreadcrumb({category:"fetch",data:e.fetchData,level:o.a.Error,type:"http"},{data:e.error,input:e.args}):Object(r.b)().addBreadcrumb({category:"fetch",data:Object(i.a)(Object(i.a)({},e.fetchData),{status_code:e.response.status}),type:"http"},{input:e.args,response:e.response}))},d.prototype._historyBreadcrumb=function(e){var t=Object(a.e)(),n=e.from,e=e.to,t=Object(a.h)(t.location.href),i=Object(a.h)(n),o=Object(a.h)(e);i.path||(i=t),t.protocol===o.protocol&&t.host===o.host&&(e=o.relative),t.protocol===i.protocol&&t.host===i.host&&(n=i.relative),Object(r.b)().addBreadcrumb({category:"navigation",data:{from:n,to:e}})},d.id="Breadcrumbs",d);function d(e){this.name=d.id,this._options=Object(i.a)({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e)}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n(0),r=n(3),a=n(5),s=n(16),l=n(9),o=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],c=(u.prototype.setupOnce=function(){var e=Object(r.e)();this._options.setTimeout&&Object(a.c)(e,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&Object(a.c)(e,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&Object(a.c)(e,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in e&&Object(a.c)(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget&&(Array.isArray(this._options.eventTarget)?this._options.eventTarget:o).forEach(this._wrapEventTarget.bind(this))},u.prototype._wrapTimeFunction=function(i){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0];return e[0]=Object(l.c)(n,{mechanism:{data:{function:Object(s.a)(i)},handled:!0,type:"instrument"}}),i.apply(this,e)}},u.prototype._wrapRAF=function(t){return function(e){return t.call(this,Object(l.c)(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Object(s.a)(t)},handled:!0,type:"instrument"}}))}},u.prototype._wrapEventTarget=function(o){var e=Object(r.e)(),e=e[o]&&e[o].prototype;e&&e.hasOwnProperty&&e.hasOwnProperty("addEventListener")&&(Object(a.c)(e,"addEventListener",function(i){return function(e,t,n){try{"function"==typeof t.handleEvent&&(t.handleEvent=Object(l.c)(t.handleEvent.bind(t),{mechanism:{data:{function:"handleEvent",handler:Object(s.a)(t),target:o},handled:!0,type:"instrument"}}))}catch(e){}return i.call(this,e,Object(l.c)(t,{mechanism:{data:{function:"addEventListener",handler:Object(s.a)(t),target:o},handled:!0,type:"instrument"}}),n)}}),Object(a.c)(e,"removeEventListener",function(r){return function(e,t,n){var i;try{var o=null==(i=t)?void 0:i.__sentry_wrapped__;o&&r.call(this,e,o,n)}catch(e){}return r.call(this,e,t,n)}}))},u.prototype._wrapXHR=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(function(n){n in i&&"function"==typeof i[n]&&Object(a.c)(i,n,function(e){var t={mechanism:{data:{function:n,handler:Object(s.a)(e)},handled:!0,type:"instrument"}};return e.__sentry_original__&&(t.mechanism.data.handler=Object(s.a)(e.__sentry_original__)),Object(l.c)(e,t)})}),n.apply(this,e)}},u.id="TryCatch",u);function u(e){this.name=u.id,this._options=Object(i.a)({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e)}},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var i=n(0),a=n(6),r=n(31),o=n(11),s=n(27),l=n(2),c=n(3),u=n(19),d=n(9),p=(f.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(o.a.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(o.a.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},f.prototype._installGlobalOnErrorHandler=function(){var r=this;this._onErrorHandlerInstalled||(Object(s.a)({callback:function(e){var t=e.error,n=Object(a.b)(),i=n.getIntegration(f),o=t&&!0===t.__sentry_own_request__;!i||Object(d.b)()||o||(i=n.getClient(),o=Object(l.i)(t)?r._eventFromIncompleteOnError(e.msg,e.url,e.line,e.column):r._enhanceEventWithInitialFrame(Object(u.c)(t,void 0,{attachStacktrace:i&&i.getOptions().attachStacktrace,rejection:!1}),e.url,e.line,e.column),Object(c.a)(o,{handled:!1,type:"onerror"}),n.captureEvent(o,{originalException:t}))},type:"error"}),this._onErrorHandlerInstalled=!0)},f.prototype._installGlobalOnUnhandledRejectionHandler=function(){var o=this;this._onUnhandledRejectionHandlerInstalled||(Object(s.a)({callback:function(e){var t=e;try{"reason"in e?t=e.reason:"detail"in e&&"reason"in e.detail&&(t=e.detail.reason)}catch(e){}var e=Object(a.b)(),n=e.getIntegration(f),i=t&&!0===t.__sentry_own_request__;if(!n||Object(d.b)()||i)return!0;n=e.getClient(),i=Object(l.i)(t)?o._eventFromRejectionWithPrimitive(t):Object(u.c)(t,void 0,{attachStacktrace:n&&n.getOptions().attachStacktrace,rejection:!0});i.level=r.a.Error,Object(c.a)(i,{handled:!1,type:"onunhandledrejection"}),e.captureEvent(i,{originalException:t})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},f.prototype._eventFromIncompleteOnError=function(e,t,n,i){var o,e=Object(l.e)(e)?e.message:e,r=(Object(l.k)(e)&&(r=e.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i))&&(o=r[1],e=r[2]),{exception:{values:[{type:o||"Error",value:e}]}});return this._enhanceEventWithInitialFrame(r,t,n,i)},f.prototype._eventFromRejectionWithPrimitive=function(e){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(e)}]}}},f.prototype._enhanceEventWithInitialFrame=function(e,t,n,i){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].stacktrace=e.exception.values[0].stacktrace||{},e.exception.values[0].stacktrace.frames=e.exception.values[0].stacktrace.frames||[];i=isNaN(parseInt(i,10))?void 0:i,n=isNaN(parseInt(n,10))?void 0:n,t=Object(l.k)(t)&&0<t.length?t:Object(c.f)();return 0===e.exception.values[0].stacktrace.frames.length&&e.exception.values[0].stacktrace.frames.push({colno:i,filename:t,function:"?",in_app:!0,lineno:n}),e},f.id="GlobalHandlers",f);function f(e){this.name=f.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=Object(i.a)({onerror:!0,onunhandledrejection:!0},e)}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var o=n(0),i=n(32),r=n(6),a=n(2),s=n(26),l=n(22),c=(u.prototype.setupOnce=function(){Object(i.b)(function(e,t){var n=Object(r.b)().getIntegration(u);return n?n._handler(e,t):e})},u.prototype._handler=function(e,t){return e.exception&&e.exception.values&&t&&Object(a.g)(t.originalException,Error)&&(t=this._walkErrorTree(t.originalException,this._key),e.exception.values=Object(o.e)(t,e.exception.values)),e},u.prototype._walkErrorTree=function(e,t,n){var i;return void 0===n&&(n=[]),!Object(a.g)(e[t],Error)||n.length+1>=this._limit?n:(i=Object(l.a)(e[t]),i=Object(s.c)(i),this._walkErrorTree(e[t],t,Object(o.e)([i],n)))},u.id="LinkedErrors",u);function u(e){void 0===e&&(e={}),this.name=u.id,this._key=e.key||"cause",this._limit=e.limit||5}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),i=n(32),a=n(6),t=n(3),s=Object(t.e)(),o=(l.prototype.setupOnce=function(){Object(i.b)(function(e){var t,n,i,o;return Object(a.b)().getIntegration(l)&&(s.navigator||s.location||s.document)?(t=(null==(t=e.request)?void 0:t.url)||(null==(t=s.location)?void 0:t.href),o=(s.document||{}).referrer,n=(s.navigator||{}).userAgent,i=Object(r.a)(Object(r.a)(Object(r.a)({},null==(i=e.request)?void 0:i.headers),o&&{Referer:o}),n&&{"User-Agent":n}),o=Object(r.a)(Object(r.a)({},t&&{url:t}),{headers:i}),Object(r.a)(Object(r.a)({},e),{request:o})):e})},l.id="UserAgent",l);function l(){this.name=l.id}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(6),o=n(11);function r(e,t){!0===t.debug&&o.a.enable();var n=Object(i.b)(),e=new e(t);n.bindClient(e)}},function(e,t,r){"use strict";!function(n){Object.defineProperty(t,"__esModule",{value:!0}),t.UserAuth=void 0;var i=r(21);function o(e){var t=this;this.onLoginSucess=null,this.onLoginError=null,this.onRegisterSuccess=null,this.onRegisterError=null,this.loginSuccess=function(e){e.token&&(e.user.token=e.token),window.userModel=e.user,window.ilovepdfConfig&&(o.updateUserMenu(e.content),o.updateUser(e.user)),null===t.onLoginSucess||"function"!=typeof t.onLoginSucess&&"object"!=typeof t.onLoginSucess||t.onLoginSucess(e.user)},this.registerSuccess=function(e){o.updateUserMenu(e.content),o.updateUser(e.user),e.token&&(e.user.token=e.token),n(".user-menu__item--premium").remove(),o.sendGA_registered(t.runningFrom),"function"==typeof t.onRegisterSuccess&&t.onRegisterSuccess(e)},this.registerError=function(e){"function"==typeof t.onRegisterError&&t.onRegisterError(e)},Object.assign(this,e),this.userModel=new i.UserModel}o.initActions=function(){n(".logout").click(function(e){e.preventDefault(),i.UserModel.logout()})},o.sendGA_registered=function(e){window.ev("send","event","user","registered",e),window.ev("event","sign_up",{mode:e})},o.prototype.login=function(t){var n=this;(t=void 0===t?null:t)||this.extraLoginParams&&this.extraLoginParams.forEach(function(e){t.push(e)}),this.userModel.login(t).then(this.loginSuccess,function(e){return n.loginError(e.responseJSON)})},o.prototype.sendResetPasswordEmail=function(e){return this.userModel.sendResetPasswordEmail(e)},o.prototype.loginError=function(e){"function"==typeof this.onLoginError&&this.onLoginError(e)},o.updateUser=function(e){window.userModel=e,window.ilovepdfConfig&&(window.ilovepdfConfig.user=e),i.UserModel.updateUser(e),o.initActions()},o.updateUserMenu=function(e){var t,n=document.querySelector(".header .actions");n&&(t=n.querySelectorAll(":scope > a"),n.querySelector(".avatar")||(t.forEach(function(e){e.remove()}),n.innerHTML=e+n.innerHTML))},o.prototype.register=function(e){e=this.userModel.register(e);return e.then(this.registerSuccess,this.registerError),e},o.sendEventUserAuth=function(){var e=new CustomEvent("userAuth");window.dispatchEvent(e)},t.UserAuth=o}.call(this,r(1))},function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,o)}r((l=l.apply(e,a||[])).next())})},r=this&&this.__generator||function(i,o){var r,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(s=0<(s=l.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],a=0}finally{r=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},i=(Object.defineProperty(t,"__esModule",{value:!0}),t.ContextBase=void 0,n(21)),a=n(97),s=n(55),l=n(29),c=n(10),n=(u.prototype.setContextPlacement=function(e){this._ctxPlacement=e},u.prototype.getContextPlacement=function(){return this._ctxPlacement},u.prototype.render=function(e,t){void 0===t&&(t={}),this.state||(this.state=this.getInitialState(),this.changeState(this.state)),this.state.render(e,t)},Object.defineProperty(u.prototype,"isInline",{get:function(){return this._isInline},enumerable:!1,configurable:!0}),u.prototype.getState=function(){return this.state},u.prototype.changeState=function(e){if(!e)throw"State cannot be empty";if(this._inEndState)throw"Context is in end state; Cannot transition to state '"+e.name+"'";this.state=e,this.state.setContext(this),this.stateHistory.push(this.state),this.listenToEvents(this.state)},u.prototype.canGoToAPreviousState=function(){return!(this.stateHistory.length<2)},u.prototype.goToPreviousState=function(){var e;if(this.canGoToAPreviousState())return this.stateHistory.pop(),e=this.stateHistory.pop(),this.changeState(e),e;throw"Cannot transition to previous state"},u.prototype.getTemplateViaAjax=function(i){return o(this,void 0,void 0,function(){var t,n;return r(this,function(e){switch(e.label){case 0:return t="template_"+i,u.cache.existsEntry(t)?[2,u.cache.getEntry(t)]:[4,s.AjaxTemplate.load(i)];case 1:return n=e.sent(),u.cache.setEntry(t,n),[2,n]}})})},u.prototype.getCachedTemplateHtml=function(e){return u.cache.getEntry("template_"+e)},u.prototype.getStateHistory=function(){return this.stateHistory.map(function(e){return e.name})},u.prototype.wasUserLoggedOnInitialization=function(){return this._wasUserLoggedOnInitialization},u.prototype.reset=function(){this.state&&this.state.reset()},Object.defineProperty(u.prototype,"userType",{get:function(){var e=i.UserModel.userType;return 1!=i.UserModel.isTeamManaged()&&"premium"==e&&0==i.UserModel.hasSubscription()?"user":e},enumerable:!1,configurable:!0}),u.prototype.canUserDoTrial=function(){switch(this.userType){case"guest":case"user":return i.UserModel.canDoTrial();case"premium":return!1;default:throw"Unknown userType "+this.userType+" to determine if can do trial"}},u.prototype.isTeamManaged=function(){return i.UserModel.isPremium()&&i.UserModel.isTeamManaged()},u.prototype.isTrialEnabledForThisTool=function(){return!(window.ilovepdfConfig&&"dtr"in window.ilovepdfConfig&&window.ilovepdfConfig.dtr)},u.prototype.isLoggedIn=function(){return"guest"!==this.userType},Object.defineProperty(u.prototype,"user",{get:function(){return i.UserModel.get()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"userCurrentPaymentMethod",{get:function(){var e=this.user.last_payment;return e&&e.provider?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"userCurrentSubscription",{get:function(){return this.user&&this.user.current_subscription||null},enumerable:!1,configurable:!0}),u.prototype.dispatchEvent=function(e){return this.eventEmitter.dispatchEvent(e)},u.prototype.addEventListener=function(e,t){return this.eventEmitter.addEventListener(e,t)},u.prototype.getInstanceID=function(){return this._instanceID},u.cache=new a.Cache,u._static_instanceID=0,u);function u(e){var t=this;void 0===e&&(e={}),this.state=null,this.stateHistory=[],this.objsListeningTo=new WeakMap,this.appendedTemplates=[],this._isInline=!1,this._ctxPlacement="dom",this._inEndState=!1,this.setEndState=function(){t._inEndState=!0},this.isInEndState=function(){return t._inEndState},this.listenToEvents=function(e){t.objsListeningTo.has(e)&&!0===t.objsListeningTo.get(e)||(e.addEventListener("end",function(e){t.setEndState(),t.dispatchEvent(new c.IloveEvent("end",e.detail))}),e.addEventListener("disableContentAbandonment",function(e){return t.dispatchEvent(new c.IloveEvent("disableContentAbandonment"))}),e.addEventListener("unsetContentAbandonment",function(e){return t.dispatchEvent(new c.IloveEvent("unsetContentAbandonment"))}),t.objsListeningTo.set(e,!0))},this.notifyOfContainerClosing=function(){t.dispatchEvent(new c.IloveEvent("contextContainerClosed")),t.isInEndState()&&t.dispatchEvent(new c.IloveEvent("end"))},this._onDomReady=function(e){t.dispatchEvent(new c.IloveEvent("domReady",{domRoot:e}))},this.eventEmitter=new l.ILoveEventEmitter,this._instanceID=++u._static_instanceID,this._wasUserLoggedOnInitialization=this.isLoggedIn(),this._isInline=e.isInline||!1}t.ContextBase=n},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,o)}r((l=l.apply(e,a||[])).next())})},a=this&&this.__generator||function(i,o){var r,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(s=0<(s=l.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],a=0}finally{r=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},o=(Object.defineProperty(t,"__esModule",{value:!0}),t.AjaxTemplate=void 0,s.load=function(r){return i(this,void 0,void 0,function(){var n,t,i,o;return a(this,function(e){return n=new XMLHttpRequest,i=t=!1,o=function(e){return!t&&!i&&200===e.status},n.open("GET",s.getLangBaseUrl()+"/"+r,!0),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("Accept","text/html"),n.ontimeout=function(){return t=!0},n.onerror=function(){return i=!0},[2,new Promise(function(e,t){n.onreadystatechange=function(){4===n.readyState&&(o(n)?e(n.responseText):t(n.response))},n.send()})]})})},s.getLangBaseUrl=function(){var e=window.lang;return"en-US"==e?"/"+s.BASE_URL:"/"+e+"/"+s.BASE_URL},s.BASE_URL="templates",s);function s(){}t.AjaxTemplate=o},function(e,n,i){var s;!function(o){"use strict";function a(t,n,i){var o,r=document.createElement("img");return r.onerror=function(e){return a.onerror(r,e,t,n,i)},r.onload=function(e){return a.onload(r,e,t,n,i)},"string"==typeof t?(a.fetchBlob(t,function(e){e&&a.isInstanceOf("Blob",e)?(t=e,o=a.createObjectURL(t)):(o=t,i&&i.crossOrigin&&(r.crossOrigin=i.crossOrigin)),r.src=o},i),r):a.isInstanceOf("Blob",t)||a.isInstanceOf("File",t)?(o=r._objectURL=a.createObjectURL(t))?(r.src=o,r):a.readFile(t,function(e){var t=e.target;t&&t.result?r.src=t.result:n&&n(e)}):void 0}var t=o.createObjectURL&&o||o.URL&&URL.revokeObjectURL&&URL||o.webkitURL&&webkitURL;function r(e,t){!e._objectURL||t&&t.noRevoke||(a.revokeObjectURL(e._objectURL),delete e._objectURL)}a.fetchBlob=function(e,t){t()},a.isInstanceOf=function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},a.transform=function(e,t,n,i,o){n(e,o)},a.onerror=function(e,t,n,i,o){r(e,o),i&&i.call(e,t)},a.onload=function(e,t,n,i,o){r(e,o),i&&a.transform(e,o,i,n,{originalWidth:e.naturalWidth||e.width,originalHeight:e.naturalHeight||e.height})},a.createObjectURL=function(e){return!!t&&t.createObjectURL(e)},a.revokeObjectURL=function(e){return!!t&&t.revokeObjectURL(e)},a.readFile=function(e,t,n){if(o.FileReader){var i=new FileReader;if(i.onload=i.onerror=t,i[n=n||"readAsDataURL"])return i[n](e),i}return!1},void 0!==(s=function(){return a}.call(n,i,n,e))&&(e.exports=s)}("undefined"!=typeof window&&window||this)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lazyloadCss=void 0,t.lazyloadCss=function(e,t){void 0===t&&(t={});for(var n=document.getElementsByTagName("link"),i=n.length;i--;)if(n[i].hasAttribute("href")&&n[i].href.match(e))return!0;var o,r,a=document.createElement("link");for(o in a.rel="stylesheet",a.href=e,t)t.hasOwnProperty(o)&&(r=t[o],a.setAttribute(o,r));var s=document.getElementsByTagName("link")[0];return s.parentNode.insertBefore(a,s),!0}},function(e,t){e.exports=function(e){var t;return e.webpackPolyfill||((t=Object.create(e)).children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1),t}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i,t=n(0),o=n(25),r=n(3),a=n(41),s=n(12),n=n(30),l=Object(r.e)(),c=(i=n.a,Object(t.b)(u,i),u.prototype.sendEvent=function(e){return this._sendRequest(Object(o.a)(e,this._api),e)},u.prototype.sendSession=function(e){return this._sendRequest(Object(o.b)(e,this._api),e)},u.prototype._sendRequest=function(o,e){var t,r=this;return this._isRateLimited(o.type)?Promise.reject({event:e,type:o.type,reason:"Transport locked till "+this._disabledUntil(o.type)+" due to too many requests.",status:429}):(t={body:o.body,method:"POST",referrerPolicy:Object(a.d)()?"origin":""},void 0!==this.options.fetchParameters&&Object.assign(t,this.options.fetchParameters),void 0!==this.options.headers&&(t.headers=this.options.headers),this._buffer.add(new s.a(function(n,i){l.fetch(o.url,t).then(function(e){var t={"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")};r._handleResponse({requestType:o.type,response:e,headers:t,resolve:n,reject:i})}).catch(i)})))},u);function u(){return null!==i&&i.apply(this,arguments)||this}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i,t=n(0),o=n(25),a=n(12),n=n(30),r=(i=n.a,Object(t.b)(s,i),s.prototype.sendEvent=function(e){return this._sendRequest(Object(o.a)(e,this._api),e)},s.prototype.sendSession=function(e){return this._sendRequest(Object(o.b)(e,this._api),e)},s.prototype._sendRequest=function(o,e){var r=this;return this._isRateLimited(o.type)?Promise.reject({event:e,type:o.type,reason:"Transport locked till "+this._disabledUntil(o.type)+" due to too many requests.",status:429}):this._buffer.add(new a.a(function(t,n){var e,i=new XMLHttpRequest;for(e in i.onreadystatechange=function(){var e;4===i.readyState&&(e={"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")},r._handleResponse({requestType:o.type,response:i,headers:e,resolve:t,reject:n}))},i.open("POST",o.url),r.options.headers)r.options.headers.hasOwnProperty(e)&&i.setRequestHeader(e,r.options.headers[e]);i.send(o.body)}))},s);function s(){return null!==i&&i.apply(this,arguments)||this}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n(11),o=n(17),r=n(38),a=(s.prototype.eventFromException=function(e,t){throw new o.a("Backend has to implement `eventFromException` method")},s.prototype.eventFromMessage=function(e,t,n){throw new o.a("Backend has to implement `eventFromMessage` method")},s.prototype.sendEvent=function(e){this._transport.sendEvent(e).then(null,function(e){i.a.error("Error while sending event: "+e)})},s.prototype.sendSession=function(e){this._transport.sendSession?this._transport.sendSession(e).then(null,function(e){i.a.error("Error while sending session: "+e)}):i.a.warn("Dropping session because custom transport doesn't implement sendSession")},s.prototype.getTransport=function(){return this._transport},s.prototype._setupTransport=function(){return new r.a},s);function s(e){this._options=e,this._options.dsn||i.a.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}},function(e,h,g){"use strict";!function(c){var u,i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),e=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},t=this&&this.__awaiter||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,o)}r((l=l.apply(e,a||[])).next())})},d=this&&this.__generator||function(i,o){var r,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(s=0<(s=l.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],a=0}finally{r=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},n=(Object.defineProperty(h,"__esModule",{value:!0}),h.UserPayment=void 0,g(98)),p=e(g(23)),r=g(101),f=g(10),a=g(29),s=g(53),e=((e=u=u||{}).SUMMARY_INFO="/<locale?>/purchase-summary/info",e.CANCEL_SUBSCRIPTION="/user/subscription/cancel",e.CANCEL_SUBSCRIPTION_REASON="/user/subscription/cancel/reason",e.CANCEL_SUBSCR_OFFER="/user/subscription/canceloffer",e.REACTIVATE_SUBSCRIPTION="/user/subscription/reactivate",e.REMOVE_PAYMENT_DATA="/user/subscription/payment-remov:376e",l.prototype.notifyPaymentError=function(e,t,n){var i,o="generic_payment_error";"update_card"===n&&(o="generic_card_update_error");try{var r=JSON.parse(t.responseText).msg;return void("stripe"===e?this.stripeService.view.notifyCardErrorMsg(r):"paypal"===e&&this.paypalService.notifyErrorMsg(r))}catch(e){}"stripe"===e?(i=(null==(n=null==t?void 0:t.error)?void 0:n.message)||this.stripeService.view.getTranslationText(o),this.stripeService.view.notifyCardErrorMsg(i)):"paypal"===e&&(i=this.paypalService.getTranslationText(o),this.paypalService.notifyErrorMsg(i))},l.prototype.clearPaymentError=function(e){function t(){i.paypalService.clearErrorMsg()}function n(){i.stripeService.view.clearCardErrorMsg()}var i=this;if(null===(e=void 0===e?null:e))t(),n();else if("paypal"===e)t();else{if("stripe"!==e)throw"Unknown provider "+e;n()}},l.prototype.enableActionButton=function(e){if("stripe"===e)this.stripeService.view.enableActionButton();else if("paypal"!==e)throw"Not implemented provider"},l.prototype.disableActionButton=function(e){if("stripe"===e)this.stripeService.view.disableActionButton();else if("paypal"!==e)throw"Not implemented provider"},l.prototype.initEventListenersOnProviders=function(){var t=this;this.stripeService.addEventListener("View:ActionButtonClicked",function(){t.dispatchEvent(new f.IloveEvent("UserPayment:ActionButtonClicked"))}),this.paypalService.addEventListener("onPaymentInited",function(e){e=Object.assign({provider:"paypal"},e.detail);t.dispatchEvent(new f.IloveEvent("UserPayment:BeforeExternalAction",e))}),this.paypalService.addEventListener("onPaymentAuthorized",function(e){e=Object.assign({provider:"paypal"},e.detail);t.updateUser(e.response),t.dispatchEvent(new f.IloveEvent("UserPayment:AfterExternalAction",e))}),this.paypalService.addEventListener("onPaymentInited_error",function(e){e=Object.assign({provider:"paypal"},e.detail);t.dispatchEvent(new f.IloveEvent("UserPayment:Error",e))}),this.paypalService.addEventListener("onPaymentAuthorized_error",function(e){e=Object.assign({provider:"paypal"},e.detail);t.dispatchEvent(new f.IloveEvent("UserPayment:Error",e))})},l.prototype.updateCard=function(i){return t(this,void 0,void 0,function(){var t,n;return d(this,function(e){switch(e.label){case 0:if("stripe"!==i.provider)return[3,5];t=void 0,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.stripeService.updateCard(i.element)];case 2:return t=e.sent(),[3,4];case 3:throw n=e.sent(),p.configureScope(function(e){e.setExtra("error",{err:null!=(e=null==n?void 0:n.responseText)?e:n,params:i})}),p.captureMessage("Failed Stripe updateCard"),n;case 4:return this.updateUser(t),[2,t];case 5:throw"'Update card' is not implemented for provider '"+i.provider+"'"}})})},l.prototype.payPackage=function(r){return t(this,void 0,void 0,function(){var t,n,i,o;return d(this,function(e){switch(e.label){case 0:if("paypal"===r.provider)throw"This action is performed by PaypalService by mounting the view";if(t="payPackage",n=null,"stripe"!==r.provider)return[3,5];i=this.stripeService.paymentVia,i={paymentVia:i,packageName:r.packageName,quantity:r.packageQuantity,disableTrial:r.disableTrial},this.dispatchEvent(new f.IloveEvent("UserPayment:BeforeAction",{action:t,params:r})),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.stripeService.payPackage(i)];case 2:return n=e.sent(),[3,4];case 3:throw o=e.sent(),p.configureScope(function(e){e.setExtra("error",{err:null!=(e=null==o?void 0:o.responseText)?e:o,params:r})}),p.captureMessage("Failed Stripe payPackage"),o;case 4:return this.updateUser(n),this.dispatchEvent(new f.IloveEvent("UserPayment:AfterAction",{action:t,params:r,response:n})),[2,n];case 5:throw"Unknown provider "+r.provider}})})},l.prototype.subscribeNextMonthsWithDiscount=function(){return t(this,void 0,void 0,function(){var t,n,i,o,r,a,s;return d(this,function(e){switch(e.label){case 0:t="subscribeNextMonthsWithDiscount",this.dispatchEvent(new f.IloveEvent("UserPayment:BeforeAction",{action:t,params:null})),n=c.post(u.CANCEL_SUBSCR_OFFER),e.label=1;case 1:return e.trys.push([1,3,,4]),r=(o=JSON).parse,[4,n.promise()];case 2:return i=r.apply(o,[e.sent()]),[3,4];case 3:throw a=e.sent(),p.configureScope(function(e){e.setExtra("error",{err:null!=(e=null==a?void 0:a.responseText)?e:a,params:null})}),p.captureMessage("Failed subscribeNextMonthsWithDiscount"),a;case 4:return s=i.data,this.updateUser(i),this.dispatchEvent(new f.IloveEvent("UserPayment:AfterAction",{action:t,params:null,response:i})),[2,s]}})})},l.prototype.cancelSubscription=function(){return t(this,void 0,void 0,function(){var t,n,i,o,r,a,s;return d(this,function(e){switch(e.label){case 0:t="cancelSubscription",this.dispatchEvent(new f.IloveEvent("UserPayment:BeforeAction",{action:t,params:null})),n=c.post(u.CANCEL_SUBSCRIPTION),e.label=1;case 1:return e.trys.push([1,3,,4]),r=(o=JSON).parse,[4,n.promise()];case 2:return i=r.apply(o,[e.sent()]),[3,4];case 3:throw a=e.sent(),p.configureScope(function(e){e.setExtra("error",{err:null!=(e=null==a?void 0:a.responseText)?e:a,params:null})}),p.captureMessage("Failed cancelSubscription"),a;case 4:return s=i.data,this.updateUser(i),this.dispatchEvent(new f.IloveEvent("UserPayment:AfterAction",{action:t,params:null,response:i})),[2,s]}})})},l.prototype.reactivateSubscription=function(){return t(this,void 0,void 0,function(){var t,n,i,o,r,a,s;return d(this,function(e){switch(e.label){case 0:t="reactivateSubscription",this.dispatchEvent(new f.IloveEvent("UserPayment:BeforeAction",{action:t,params:null})),n=c.post(u.REACTIVATE_SUBSCRIPTION),e.label=1;case 1:return e.trys.push([1,3,,4]),r=(o=JSON).parse,[4,n.promise()];case 2:return i=r.apply(o,[e.sent()]),[3,4];case 3:throw a=e.sent(),p.configureScope(function(e){e.setExtra("error",{err:null!=(e=null==a?void 0:a.responseText)?e:a,params:null})}),p.captureMessage("Failed reactivateSubscription"),a;case 4:return s=i.data,this.updateUser(i),this.dispatchEvent(new f.IloveEvent("UserPayment:AfterAction",{action:t,params:null,response:i})),[2,s]}})})},l.prototype.cancelSubscriptionReason=function(l){return t(this,void 0,void 0,function(){var t,n,i,o,r,a,s;return d(this,function(e){switch(e.label){case 0:t="cancelSubscriptionReason",n={reason:l.reason,message:l.message},this.dispatchEvent(new f.IloveEvent("UserPayment:BeforeAction",{action:t,params:l})),n=c.post(u.CANCEL_SUBSCRIPTION_REASON,n),e.label=1;case 1:return e.trys.push([1,3,,4]),r=(o=JSON).parse,[4,n.promise()];case 2:return i=r.apply(o,[e.sent()]),[3,4];case 3:throw a=e.sent(),p.configureScope(function(e){e.setExtra("error",{err:null!=(e=null==a?void 0:a.responseText)?e:a,params:l})}),p.captureMessage("Failed cancelSubscriptionReason"),a;case 4:return s=i.data,this.updateUser(i),this.dispatchEvent(new f.IloveEvent("UserPayment:AfterAction",{action:t,params:null,response:i})),[2,s]}})})},l.prototype.paySubscription=function(r){return t(this,void 0,void 0,function(){var t,n,i,o;return d(this,function(e){switch(e.label){case 0:if("paypal"===r.provider)throw"This action is performed by PaypalService by mounting the view";if(n="paySubscription","stripe"!==r.provider)return[3,5];i=this.stripeService.paymentVia,i={paymentVia:i,numUsers:r.numUsers,subscriptionInterval:r.subscriptionInterval,disableTrial:r.disableTrial,couponCode:r.couponCode},this.dispatchEvent(new f.IloveEvent("UserPayment:BeforeAction",{detail:{action:n,params:r}})),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.stripeService.paySubscription(i)];case 2:return t=e.sent(),[3,4];case 3:throw o=e.sent(),p.configureScope(function(e){e.setExtra("error",{err:null!=(e=null==o?void 0:o.responseText)?e:o,params:r})}),p.captureMessage("Failed Stripe PaySubscription"),o;case 4:return this.updateUser(t),this.dispatchEvent(new f.IloveEvent("UserPayment:AfterAction",{detail:{action:n,params:null,response:t}})),[2,t];case 5:throw"Unknown provider "+r.provider}})})},l.prototype.updateSubscription=function(r){return t(this,void 0,void 0,function(){var t,n,i,o;return d(this,function(e){switch(e.label){case 0:if("paypal"===r.provider)throw"This action is performed by PaypalService by mounting the view";if(t="updateSubscription","stripe"!==r.provider)return[3,5];i=this.stripeService.paymentVia,n=void 0,i={paymentVia:i,numDigitalSignatures:r.numSignatures,numUsers:r.numUsers,subscriptionInterval:r.subscriptionInterval,disableTrial:r.disableTrial,couponCode:r.couponCode},this.dispatchEvent(new f.IloveEvent("UserPayment:BeforeAction",{action:t,params:r})),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.stripeService.paySubscription(i)];case 2:return n=e.sent(),[3,4];case 3:throw o=e.sent(),p.configureScope(function(e){e.setExtra("error",{err:null!=(e=null==o?void 0:o.responseText)?e:o,params:r})}),p.captureMessage("Failed Stripe UpdateSubscription"),o;case 4:return this.updateUser(n),this.dispatchEvent(new f.IloveEvent("UserPayment:AfterAction",{action:t,params:null,response:n})),[2,n];case 5:throw"Unknown provider "+r.provider}})})},l.prototype.paymentRemove=function(){return t(this,void 0,void 0,function(){var t,n,i,o,r,a,s;return d(this,function(e){switch(e.label){case 0:t="paymentRemove",this.dispatchEvent(new f.IloveEvent("UserPayment:BeforeAction",{detail:{action:t,params:null}})),n=c.post(u.REMOVE_PAYMENT_DATA),e.label=1;case 1:return e.trys.push([1,3,,4]),r=(o=JSON).parse,[4,n.promise()];case 2:return i=r.apply(o,[e.sent()]),[3,4];case 3:throw a=e.sent(),p.configureScope(function(e){e.setExtra("error",{err:null!=(e=null==a?void 0:a.responseText)?e:a,params:null})}),p.captureMessage("Failed paymentRemove"),a;case 4:return s=i.data,this.updateUser(i),this.dispatchEvent(new f.IloveEvent("UserPayment:AfterAction",{detail:{action:t,params:null,response:i}})),[2,s]}})})},l.prototype.getPaymentSummary_updateSubscription=function(e,t,n,i){return this._getPaymentSummary({type:"subscription",numDigitalSignatures:e,numUsers:t,subscriptionInterval:n,subscriptionPlan:void 0,couponCode:i})},l.prototype.getPaymentSummary_package=function(e,t){return this._getPaymentSummary({type:"package",package:e,quantity:t})},l.prototype._getPaymentSummary=function(e){var t=u.SUMMARY_INFO,t="en-US"===window.lang?t.replace("/<locale?>",""):t.replace("<locale?>",window.lang),n=null;return"subscription"===e.type?n=c.post(t,{type:"subscription",users:e.numUsers,signatures:e.numDigitalSignatures,interval:e.subscriptionInterval,code:e.couponCode}):"package"===e.type&&(n=c.post(t,{type:"package",package:e.package,quantity:e.quantity})),new Promise(function(t,i){n.done(function(e){e=JSON.parse(e);t(e)}).fail(function(t,e,n){p.configureScope(function(e){e.setExtra("error",t.responseText)}),p.captureMessage("Error while fetching payment summary"),i(t.responseText)})})},l.prototype.mountView=function(r,a,s){return t(this,void 0,void 0,function(){var t,n,i,o;return d(this,function(e){switch(e.label){case 0:switch(r){case"stripe":return[3,1];case"paypal":return[3,3]}return[3,5];case 1:return t=this.views,n="stripe",[4,this.stripeService.view.mount(a,s)];case 2:return t[n]=e.sent(),[2,this.views.stripe];case 3:return i=this.views,o="paypal",[4,this.paypalService.mountView(a,s)];case 4:return i[o]=e.sent(),[2,this.views.paypal];case 5:return[2]}})})},l.prototype.updateUser=function(e){s.UserAuth.updateUser(e.user),e.content&&s.UserAuth.updateUserMenu(e.content)},l.prototype.dispatchEvent=function(e){return this.eventEmitter.dispatchEvent(e)},l.prototype.addEventListener=function(e,t){return this.eventEmitter.addEventListener(e,t)},l);function l(e){void 0===e&&(e={}),this.views={},this.eventEmitter=new a.ILoveEventEmitter,Object.assign(this,e),this.stripeService=new n.StripeService,this.paypalService=new r.PaypalService,this.initEventListenersOnProviders()}h.UserPayment=e}.call(this,g(1))},function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;t.assign=function(e){for(var t,n,i=Array.prototype.slice.call(arguments,1);i.length;){var o=i.shift();if(o){if("object"!=typeof o)throw new TypeError(o+"must be non-object");for(var r in o)t=o,n=r,Object.prototype.hasOwnProperty.call(t,n)&&(e[r]=o[r])}}return e},t.shrinkBuf=function(e,t){if(e.length!==t){if(e.subarray)return e.subarray(0,t);e.length=t}return e};var o={arraySet:function(e,t,n,i,o){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),o);else for(var r=0;r<i;r++)e[o+r]=t[n+r]},flattenChunks:function(e){for(var t,n,i,o=0,r=0,a=e.length;r<a;r++)o+=e[r].length;for(i=new Uint8Array(o),r=t=0,a=e.length;r<a;r++)n=e[r],i.set(n,t),t+=n.length;return i}},r={arraySet:function(e,t,n,i,o){for(var r=0;r<i;r++)e[o+r]=t[n+r]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,o)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,r))},t.setTyped(i)},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var f=n(0),a=n(32),h=n(82),i=n(90),s=n(2),l=n(11),c=n(12),u=n(3),d=n(89),o=n(5),p=n(20),g=n(17),m=n(6),v=[];function r(e){var t,n,i,o,r={};return i=(e=e).defaultIntegrations&&Object(f.e)(e.defaultIntegrations)||[],e=e.integrations,o=[],Array.isArray(e)?(t=e.map(function(e){return e.name}),n=[],i.forEach(function(e){-1===t.indexOf(e.name)&&-1===n.indexOf(e.name)&&(o.push(e),n.push(e.name))}),e.forEach(function(e){-1===n.indexOf(e.name)&&(o.push(e),n.push(e.name))})):o="function"==typeof e?(o=e(i),Array.isArray(o)?o:[o]):Object(f.e)(i),-1!==(e=o.map(function(e){return e.name})).indexOf("Debug")&&o.push.apply(o,Object(f.e)(o.splice(e.indexOf("Debug"),1))),o.forEach(function(e){r[e.name]=e,e=e,-1===v.indexOf(e.name)&&(e.setupOnce(a.b,m.b),v.push(e.name),l.a.log("Integration installed: "+e.name))}),r}_.prototype.captureException=function(e,t,n){var i=this,o=t&&t.event_id;return this._process(this._getBackend().eventFromException(e,t).then(function(e){return i._captureEvent(e,t,n)}).then(function(e){o=e})),o},_.prototype.captureMessage=function(e,t,n,i){var o=this,r=n&&n.event_id,t=Object(s.i)(e)?this._getBackend().eventFromMessage(String(e),t,n):this._getBackend().eventFromException(e,n);return this._process(t.then(function(e){return o._captureEvent(e,n,i)}).then(function(e){r=e})),r},_.prototype.captureEvent=function(e,t,n){var i=t&&t.event_id;return this._process(this._captureEvent(e,t,n).then(function(e){i=e})),i},_.prototype.captureSession=function(e){e.release?this._sendSession(e):l.a.warn("Discarded session because of missing release")},_.prototype.getDsn=function(){return this._dsn},_.prototype.getOptions=function(){return this._options},_.prototype.flush=function(e){var n=this;return this._isClientProcessing(e).then(function(t){return n._getBackend().getTransport().close(e).then(function(e){return t&&e})})},_.prototype.close=function(e){var t=this;return this.flush(e).then(function(e){return t.getOptions().enabled=!1,e})},_.prototype.setupIntegrations=function(){this._isEnabled()&&(this._integrations=r(this._options))},_.prototype.getIntegration=function(t){try{return this._integrations[t.id]||null}catch(e){return l.a.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},_.prototype._updateSessionFromEvent=function(e,t){var n,i,o,r=!1,a=!1,s=t.exception&&t.exception.values;if(s){a=!0;try{for(var l=Object(f.f)(s),c=l.next();!c.done;c=l.next()){var u=c.value.mechanism;if(u&&!1===u.handled){r=!0;break}}}catch(e){n={error:e}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}}s=t.user;if(!e.userAgent){var d,p=t.request?t.request.headers:{};for(d in p)if("user-agent"===d.toLowerCase()){o=p[d];break}}e.update(Object(f.a)(Object(f.a)({},r&&{status:h.a.Crashed}),{user:s,userAgent:o,errors:e.errors+Number(a||r)}))},_.prototype._sendSession=function(e){this._getBackend().sendSession(e)},_.prototype._isClientProcessing=function(i){var o=this;return new c.a(function(e){var t=0,n=setInterval(function(){0==o._processing?(clearInterval(n),e(!0)):(t+=1,i&&i<=t&&(clearInterval(n),e(!1)))},1)})},_.prototype._getBackend=function(){return this._backend},_.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},_.prototype._prepareEvent=function(e,t,n){var i=this,o=this.getOptions().normalizeDepth,r=void 0===o?3:o,o=Object(f.a)(Object(f.a)({},e),{event_id:e.event_id||(n&&n.event_id?n.event_id:Object(u.i)()),timestamp:e.timestamp||Object(d.a)()}),e=(this._applyClientOptions(o),this._applyIntegrationsMetadata(o),t),t=(n&&n.captureContext&&(e=a.a.clone(e).update(n.captureContext)),c.a.resolve(o));return(t=e?e.applyToEvent(o,n):t).then(function(e){return"number"==typeof r&&0<r?i._normalizeEvent(e,r):e})},_.prototype._normalizeEvent=function(e,t){var n;return e?(n=Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(function(e){return Object(f.a)(Object(f.a)({},e),e.data&&{data:Object(o.d)(e.data,t)})})}),e.user&&{user:Object(o.d)(e.user,t)}),e.contexts&&{contexts:Object(o.d)(e.contexts,t)}),e.extra&&{extra:Object(o.d)(e.extra,t)}),e.contexts&&e.contexts.trace&&(n.contexts.trace=e.contexts.trace),n):null},_.prototype._applyClientOptions=function(e){var t=this.getOptions(),n=t.environment,i=t.release,o=t.dist,r=t.maxValueLength,r=void 0===r?250:r,t=("environment"in e||(e.environment="environment"in t?n:"production"),void 0===e.release&&void 0!==i&&(e.release=i),void 0===e.dist&&void 0!==o&&(e.dist=o),e.message&&(e.message=Object(p.d)(e.message,r)),e.exception&&e.exception.values&&e.exception.values[0]),n=(t&&t.value&&(t.value=Object(p.d)(t.value,r)),e.request);n&&n.url&&(n.url=Object(p.d)(n.url,r))},_.prototype._applyIntegrationsMetadata=function(e){var e=e.sdk,t=Object.keys(this._integrations);e&&0<t.length&&(e.integrations=t)},_.prototype._sendEvent=function(e){this._getBackend().sendEvent(e)},_.prototype._captureEvent=function(e,t,n){return this._processEvent(e,t,n).then(function(e){return e.event_id},function(e){l.a.error(e)})},_.prototype._processEvent=function(e,t,n){var i,o=this,r=this.getOptions(),a=r.beforeSend,r=r.sampleRate;return this._isEnabled()?!(i="transaction"===e.type)&&"number"==typeof r&&Math.random()>r?c.a.reject(new g.a("Discarding event because it's not included in the random sample (sampling rate = "+r+")")):this._prepareEvent(e,n,t).then(function(e){if(null===e)throw new g.a("An event processor returned null, will not send event.");if(t&&t.data&&!0===t.data.__sentry__||i||!a)return e;e=a(e,t);if(void 0===e)throw new g.a("`beforeSend` method has to return `null` or a valid event.");return Object(s.m)(e)?e.then(function(e){return e},function(e){throw new g.a("beforeSend rejected with "+e)}):e}).then(function(e){if(null===e)throw new g.a("`beforeSend` returned `null`, will not send event.");var t=n&&n.getSession&&n.getSession();return!i&&t&&o._updateSessionFromEvent(t,e),o._sendEvent(e),e}).then(null,function(e){if(e instanceof g.a)throw e;throw o.captureException(e,{data:{__sentry__:!0},originalException:e}),new g.a("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+e)}):c.a.reject(new g.a("SDK not enabled, will not send event."))},_.prototype._process=function(e){var t=this;this._processing+=1,e.then(function(e){return--t._processing,e},function(e){return--t._processing,e})};var y=_;function _(e,t){this._integrations={},this._processing=0,this._backend=new e(t),(this._options=t).dsn&&(this._dsn=new i.a(t.dsn))}},function(e,t,n){"use strict";var i,o;n.d(t,"a",function(){return i}),(n=i=i||{}).Unknown="unknown",n.Skipped="skipped",n.Success="success",n.RateLimit="rate_limit",n.Invalid="invalid",n.Failed="failed",(o=i=i||{}).fromHttpCode=function(e){return 200<=e&&e<300?o.Success:429===e?o.RateLimit:400<=e&&e<500?o.Invalid:500<=e?o.Failed:o.Unknown}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});o.prototype.memoize=function(e){if(this._hasWeakSet)return!!this._inner.has(e)||(this._inner.add(e),!1);for(var t=0;t<this._inner.length;t++)if(this._inner[t]===e)return!0;return this._inner.push(e),!1},o.prototype.unmemoize=function(e){if(this._hasWeakSet)this._inner.delete(e);else for(var t=0;t<this._inner.length;t++)if(this._inner[t]===e){this._inner.splice(t,1);break}};var i=o;function o(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}},function(e,t,n){"use strict";var i,o,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,o)}r((l=l.apply(e,a||[])).next())})},s=this&&this.__generator||function(i,o){var r,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(s=0<(s=l.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],a=0}finally{r=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},l=(Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractPaymentState=void 0,n(18)),c=n(62),f=n(10),n=(o=l.StateBase,r(u,o),u.prototype.initAbstractPayment=function(n){var i;return a(this,void 0,void 0,function(){var t=this;return s(this,function(e){switch(e.label){case 0:if(this.ctx.canGoToAPreviousState()&&this.goToPreviousStateButtonIsVisible()?(this.dispatchEvent(new f.IloveEvent("disableContentAbandonment")),this.dialogCloseBtn&&(this.dialogCloseBtn.style.display="none")):this.dialogCloseBtn&&(this.dialogCloseBtn.style.display=""),this.abstractPaymentInited)return[2];if(this.userPayment=n.userPayment||new c.UserPayment,this.abstractPaymentInited=!0,Object.assign(this,n),"gui"===(null==(i=this.paymentInterval)?void 0:i.type))switch(this.paymentInterval.gui){case"radio":break;case"boxes":this.initPaymentIntervalSelectorButtons();break;default:throw"Unknown way to determine paymentInterval '"+this.paymentInterval.type+"'"}return[4,this.initUserPayment(this.userPayment).then(function(){t.userPayment.addEventListener("UserPayment:ActionButtonClicked",t._abstractOnPayButtonClicked),t.userPayment.addEventListener("UserPayment:BeforeExternalAction",function(e){return t._onExternalPaymentAction("UserPayment:BeforeExternalAction",e)}),t.userPayment.addEventListener("UserPayment:AfterExternalAction",function(e){return t._onExternalPaymentAction("UserPayment:AfterExternalAction",e)})})];case 1:return e.sent(),[2]}})})},u.prototype.initAbstractCard=function(n){return a(this,void 0,void 0,function(){var t=this;return s(this,function(e){switch(e.label){case 0:return this.abstractPaymentInited=!0,Object.assign(this,n),this.userPayment=n.userPayment||new c.UserPayment,[4,this.initUserPayment(this.userPayment).then(function(){t.userPayment.addEventListener("UserPayment:ActionButtonClicked",t._abstractOnPayButtonClicked)})];case 1:return e.sent(),[2]}})})},Object.defineProperty(u.prototype,"stripeViewParams",{get:function(){return{paymentButtonText:this.paymentProviderProps.find(function(e){return"stripe"===e.name}).paymentButtonText,currentPaymentMethod:this.currentPaymentMethod}},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"paypalViewParams",{get:function(){function e(){return!(n.ctx.isTrialEnabledForThisTool()&&n.ctx.canUserDoTrial())}var t,n=this;this.paymentProviderProps.find(function(e){return"paypal"===e.name});switch(this.paymentAction){case"become_premium":case"subsc_update":t={actionName:"become_premium"===this.paymentAction?"PaySubscription":"UpdateSubscription",actionParams:{subscriptionInterval:function(){return n.selectedPaymentInterval},numUsers:function(){return n.numUsers?n.numUsers():n.paymentNumUsersDefault},numDigitalSignatures:function(){return n.numSignatures?n.numSignatures():void 0},disableTrial:e}};break;case"pay_package":t={actionName:"PayPackage",actionParams:{packageName:function(){return n.package.name},quantity:function(){return n.package.qty},disableTrial:e}};break;default:throw"Unknown paypal paymentAction '"+this.paymentAction+"'"}return{action:t}},enumerable:!1,configurable:!0}),u.prototype._executePaymentAction=function(e,t){var n=this,i=this.selectedPaymentProvider,o=this.paymentAction,r=this.paymentInterval?this.selectedPaymentInterval:void 0,a=this.numUsers?this.numUsers():this.paymentNumUsersDefault,s=(this.showLoadingScreen(),this.userPayment.disableActionButton(i),this.dispatchEvent(new f.IloveEvent("disableContentAbandonment")),!(this.ctx.isTrialEnabledForThisTool()&&this.ctx.canUserDoTrial())),l=this.couponCode?this.couponCode():void 0;switch(o){case"become_premium":u=this.userPayment.paySubscription({numUsers:a,provider:i,subscriptionInterval:r,disableTrial:s,couponCode:l});break;case"subsc_update":var c=this.numSignatures(),u=this.userPayment.updateSubscription({numSignatures:c,numUsers:a,provider:i,subscriptionInterval:r,disableTrial:s,couponCode:l});break;case"pay_package":var c=this.package.name,d=this.package.qty;u=this.userPayment.payPackage({packageName:c,packageQuantity:d,provider:i,disableTrial:s});break;case"update_card":c=this.userPayment.stripeService.view.card;u=this.userPayment.updateCard({provider:i,element:c})}u.then(function(e){return n._abstractOnPaymentSuccess(i,e)}),u.catch(function(e){return n._abstractOnPaymentFailed(i,e)});function p(e){n.clearLoadingScreen(),n.userPayment.enableActionButton(i),n.dispatchEvent(new f.IloveEvent("unsetContentAbandonment"))}return u.then(p,p),u},u.prototype.initUserPayment=function(i){var o;return a(this,void 0,void 0,function(){var t,n;return s(this,function(e){switch(e.label){case 0:return(t=this.initializedPaymentProviders).includes("stripe")?[4,i.mountView("stripe",this.stripeViewMountPoint,this.stripeViewParams)]:[3,2];case 1:e.sent(),e.label=2;case 2:return t.includes("paypal")?[4,i.mountView("paypal",this.paypalViewMountPoint,this.paypalViewParams)]:[3,4];case 3:e.sent(),e.label=4;case 4:return n=null!=(o=null==(o=this.currentPaymentMethod)?void 0:o.provider)?o:this.DEFAULT_SELECTED_PROVIDER_BTN,this.initPaymentProviderSelectorButtons(),this.clickProviderButton(n),[2]}})})},Object.defineProperty(u.prototype,"initializedPaymentProviders",{get:function(){return this.paymentProviderProps.map(function(e){return e.name})},enumerable:!1,configurable:!0}),u.prototype.initPaymentIntervalSelectorButtons=function(){var e=this.domStateRoot.querySelectorAll(".payment__interval-selector__select-box"),t=function(){e.forEach(function(e){return e.setAttribute("data-selected","false")})};e.forEach(function(e){return e.addEventListener("click",function(e){return e=e.currentTarget,t(),void e.setAttribute("data-selected","true")})})},u.prototype.clickProviderButton=function(t){var e=this,n=this.domRoot,i=(n.querySelector(".payment__provider-views"),n.querySelector(".payment__provider-selector")),n=(n.querySelectorAll(".payment__provider-selector .payment__provider-selector__item"),Array.from(i.querySelectorAll(".payment__provider-selector__item"))),i=(n.forEach(function(e){return e.setAttribute("data-checked","false")}),n.find(function(e){return e.dataset.value===t}));i.setAttribute("data-checked","true");n=i.getAttribute("data-value");e.domRoot.querySelectorAll(".payment__provider-views .payment__provider-views__item").forEach(function(e){return e.classList.remove("payment__provider-views__item--appeared")}),(n=e.domRoot.querySelector('.payment__provider-views .payment__provider-views__item[data-provider-name="'+n+'"]'))&&n.classList.add("payment__provider-views__item--appeared")},u.prototype.initPaymentProviderSelectorButtons=function(){var n=this,e=this.domRoot,t=e.querySelector(".payment__provider-selector").querySelectorAll(".payment__provider-selector__item"),e=e.querySelectorAll(".payment__provider-selector .payment__provider-selector__item"),i=(t.forEach(function(t){t.addEventListener("click",function(e){n.clickProviderButton(t.dataset.value)})}),this.initializedPaymentProviders);e.forEach(function(e){var t=e.getAttribute("data-value");if(!t)throw"Provider selector button is missing data-value attribute";i.includes(t)||(e.style.display="none")})},Object.defineProperty(u.prototype,"stripeViewMountPoint",{get:function(){var e=this.domRoot.querySelector(".payment__stripe-view");if(e)return e;throw"Mountpoint for Stripe view not found"},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"paypalViewMountPoint",{get:function(){var e=this.domRoot.querySelector(".payment__paypal-view");if(e)return e;throw"Mountpoint for Paypal view not found"},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"selectedPaymentProvider",{get:function(){return 1==this.paymentProviderProps.length?this.paymentProviderProps[0].name:this.domRoot.querySelector(".payment__provider-selector .payment__provider-selector__item[data-checked='true']").getAttribute("data-value")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"selectedPaymentInterval",{get:function(){if("gui"===this.paymentInterval.type){if("boxes"===this.paymentInterval.gui)return this.selected_paymentInterval_boxes;if("radio"===this.paymentInterval.gui)return this.selected_paymentInterval_radio}else if("predefined"===this.paymentInterval.type)return this.paymentInterval.value;throw"Unknown way to determine paymentInterval '"+this.paymentInterval.type+"'"},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"selected_paymentInterval_radio",{get:function(){var e=Array.from(this.domRoot.querySelectorAll(".payment__interval-selector [name='paymentInterval']"));if(0===e.length)throw"Radio buttons for payment interval not found";for(var t=0;t<e.length;t++)if(e[t].checked)return e[t].value;return null},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"selected_paymentInterval_boxes",{get:function(){var e=this.domStateRoot.querySelector(".payment__interval-selector__select-box[data-selected='true']");if(e)return e.getAttribute("data-value");throw"No selected interval box found"},enumerable:!1,configurable:!0}),u);function u(){var n=null!==o&&o.apply(this,arguments)||this;return n.abstractPaymentInited=!1,n.paymentNumUsersDefault=1,n.DEFAULT_SELECTED_PROVIDER_BTN="stripe",n._onExternalPaymentAction=function(e,t){t=t.detail;"UserPayment:AfterExternalAction"===e&&n._onPaymentSuccess(t.provider,t)},n._abstractOnPayButtonClicked=function(e){n._executePaymentAction("payButton",e)},n._abstractOnPaymentSuccess=function(e,t){n._onPaymentSuccess(e,t)},n._abstractOnPaymentFailed=function(e,t){n.userPayment.notifyPaymentError(e,t,n.paymentAction),n._onPaymentFailed(e,t)},n}t.AbstractPaymentState=n},function(e,l,c){"use strict";!function(o){var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},e=this&&this.__awaiter||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,o)}r((l=l.apply(e,a||[])).next())})},a=this&&this.__generator||function(i,o){var r,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(s=0<(s=l.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],a=0}finally{r=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},s=(Object.defineProperty(l,"__esModule",{value:!0}),l.Api=l.APP_VERSION=l.API_VERSION=void 0,c(71)),t=c(42),n=(l.API_VERSION="v1",l.APP_VERSION="web.0",Object.defineProperty(i.prototype,"userToken",{get:function(){return"function"==typeof this._userToken?this._userToken():this._userToken},set:function(e){this._userToken=e},enumerable:!1,configurable:!0}),i.ping=function(r,a){return void 0===a&&(a=!1),new Promise(function(e,t){var n=new XMLHttpRequest,i=0,o=0;n.open("GET",r,!0),n.onreadystatechange=function(){4==n.readyState&&(200==n.status||0==i&&0==o&&0!=n.status&&1==a?e({}):t())},n.ontimeout=function(){i=1},n.onerror=function(e){o=1},n.send()})},i.prototype.pingService=function(){return i.ping(this.serviceServer+"/ping")},i.prototype.sendRequest=function(e,t,n,i,o){void 0===n&&(n=null),void 0===i&&(i=!1),void 0===o&&(o=!1);var r=new XMLHttpRequest;return r.open(e,this.workerServer+"/"+this.apiVersion+"/"+t,!0),r.setRequestHeader("Authorization","Bearer "+this.token),r.setRequestHeader("Accept","application/json"),1==o&&r.setRequestHeader("Content-Type","application/json"),i&&(r.responseType="blob"),1==o?r.send(JSON.stringify(n)):r.send(n),r},i.prototype.sendServiceRequest=function(e,t,n,i,o){void 0===n&&(n=null),void 0===i&&(i=!1),void 0===o&&(o=!1);var r=new XMLHttpRequest;return r.open(e,this.serviceServer+"/"+t,!0),r.setRequestHeader("Authorization","Bearer "+this.userToken),r.setRequestHeader("Accept","application/json"),1==o&&r.setRequestHeader("Content-Type","application/json"),i&&(r.responseType="blob"),1==o?r.send(JSON.stringify(n)):r.send(n),r},i.prototype.query=function(e,o,r,a,s,l){void 0===r&&(r=null),void 0===a&&(a=!1),void 0===s&&(s=!1),void 0===l&&(l="api");var c=this;return new Promise(function(t,n){var i=null;if("api"==l)i=c.sendRequest(e,o,r,a,s);else{if("service"!=l)throw new Error("invalid target api");i=c.sendServiceRequest(e,o,r,a,s)}i.onerror=function(e){n({status:-1})},i.onload=function(){if(4==i.readyState)if(200==i.status)try{t(JSON.parse(i.responseText))}catch(e){n({error:"invalidJSONResponse",status:500,response:i.responseText})}else if(400==i.status||500==i.status)try{(e=JSON.parse(i.responseText)).status=i.status,n(e)}catch(e){n({error:"invalidJSONResponse",status:500,response:i.responseText})}else{var e={};try{e=JSON.parse(i.responseText)}catch(e){}e.status=i.status,n(e)}}})},i.prototype.process=function(e){return this.query("POST","process",e)},i.prototype.getSigner=function(e){return this.query("GET","signature/signer/"+e)},i.prototype.request=function(e,t,n){n=s.FormDataHelper.jsonToFormData(n);return this.query(e,t,n)},i.prototype.getTask=function(){var i=this;return new Promise(function(e,t){var n=i.sendRequest("GET","task/"+i.taskId);n.onreadystatechange=function(){4==n.readyState&&(200==n.status?e(JSON.parse(n.responseText)):(400!=n.status&&n.status,window.ev("event","send","download_deleted",i.workerServer),t(n.responseText)))}})},i.prototype.getLink=function(e){return this.workerServer+"/"+this.apiVersion+"/"+e},i.prototype.deleteTask=function(){return this.request("delete","task/"+this.taskId,{})},i.prototype.getSubdomain=function(e){return e.split("/")[2].split(".")[0]},i.prototype.getDomain=function(e){return e.split("/")[2]},i.prototype.uploadFromUrl=function(e){var t=new FormData;return t.append("cloud_file",e),t.append("cloud_source","public"),t.append("task",this.taskId),this.query("post","upload",t)},i.prototype.getPreview=function(e,t){var n,i=new FormData;for(n in i.append("server_filename",e),i.append("task",this.taskId),delete t.output_filename,delete t.packaged_filename,t)t.hasOwnProperty(n)&&i.append(n,t[n]);return this.query("post","preview",i)},i.prototype.upscale=function(n,i){return e(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return(t=new FormData).append("task",this.taskId),t.append("server_filename",n),t.append("scale",""+i),[4,fetch(this.getLink("upscale"),{method:"POST",body:t,headers:{Authorization:"Bearer "+this.token}})];case 1:return[4,e.sent().blob()];case 2:return[2,e.sent()]}})})},i.prototype.removeBackground=function(n){return e(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return(t=new FormData).append("task",this.taskId),t.append("server_filename",n),[4,fetch(this.getLink("removebackground"),{method:"POST",body:t,headers:{Authorization:"Bearer "+this.token}})];case 1:return[4,e.sent().blob()];case 2:return[2,e.sent()]}})})},i.prototype.detectFaces=function(n,i,o){return e(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return t=s.FormDataHelper.jsonToFormData(r({task:this.taskId,level:n,fileArray:i},void 0!==o?{face:o}:{})),[4,this.query("post","detectfaces",t)];case 1:return[2,e.sent().data.coordArray]}})})},i.prototype.removeFile=function(i){var o=this,r=new FormData;return new Promise(function(e,t){var n=o.sendRequest("delete","upload/"+o.taskId+"/"+i,r);n.onreadystatechange=function(){4==n.readyState&&(404!=n.status&&(400==n.status||500==n.status)?t():e({}))}})},i.prototype.next=function(e,t,n){var i=new FormData;return i.append("task",e),i.append("tool",t),i.append("worker",n),i.append("thumbnails","1"),this.query("post","task/next",i)},i.prototype.nextFile=function(e,t){return this.workerServer+"/thumbnails/"+e+"/"+t},i.prototype.info=function(){return this.query("get","info")},i.prototype.getStatus=function(n,i){return void 0===i&&(i=0),n=(n=void 0===n?null:n)||this.workerServer,new Promise(function(t,e){o.ajax({url:n+"/status.json",dataType:"json",success:function(e){t(e)},timeout:i,error:function(){e()}})})},i.prototype.getFilePreviewInfo=function(e,t,n,i){void 0===i&&(i=null),n=(n=void 0===n?150:n)||150;i="pdfrender/"+e+"/"+t.replace(".pdf","");return this.query("get",i)},i.prototype.saveToolConfig=function(e,t,n){e=s.FormDataHelper.jsonToFormData({tool:e,options:t});return this.userToken=n,this.query("post","tool/save",e,!1,!1,"service")},i.prototype.touchTask=function(e){return this.query("get","task/touch/"+e)},i);function i(e){this.taskId=null,this.tool=null,this.preWorker=null,this.serviceServer=t.Settings.get("service"),this.workerServer=null,this.downloadUrl="",this.apiVersion=l.API_VERSION,this.appVersion=l.APP_VERSION,this.token=null,this.encrypted=!1,this.encryptKey=null,Object.assign(this,e)}l.Api=n}.call(this,c(1))},function(e,u,d){"use strict";!function(t){var i,e,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=(Object.defineProperty(u,"__esModule",{value:!0}),u.TemporaryDialog=void 0,d(10)),r=d(29),a=d(121),s=(e=a.Dialog,n(l,e),l);function l(){return null!==e&&e.apply(this,arguments)||this}function c(e){var n=this;void 0===e&&(e={}),this.isShown=!1,this.setTemplate=function(e,t){return void 0===t&&(t=null),n.contentBuilderFn=null,n.template=e,n.onTemplateRenderFn=t,n},this.show=function(){var e;if(!n.isShown)return t(".modal:visible").removeAttr("tabindex"),(e=new s(n.dialogProps)).addEventListener("closed",function(){n.currentDialog=null,n.dispatchEvent(new o.IloveEvent("closed"))}),e.addEventListener("hidden",function(){n.isShown=!1,e.destroy(),n.dispatchEvent(new o.IloveEvent("hidden"))}),e.addEventListener("shown",function(){n.dispatchEvent(new o.IloveEvent("shown"))}),n.fillDialog(e),e.show(),n.isShown=!0,n.currentDialog=e},this.close=function(){n.currentDialog&&(n.currentDialog.close(),n.currentDialog=null)},this.setContentBuilder=function(e){return n.template=null,n.onTemplateRenderFn=null,n.contentBuilderFn=e,n},this.eventEmitter=new r.ILoveEventEmitter,this.dialogProps=e}u.TemporaryDialog=s,c.prototype.fillDialog=function(e){if(this.contentBuilderFn)e.setContent(this.contentBuilderFn());else{if(!this.template)throw"Unknown DisposableDialog creation mechanism";var t;this.template.content?(t=this.template.content.cloneNode(!0),e.domRoot.appendChild(t)):(this.template,e.domRoot.innerHTML=this.template.innerHTML),this.onTemplateRenderFn&&this.onTemplateRenderFn(e.domRoot)}},c.prototype.dispatchEvent=function(e){return this.eventEmitter.dispatchEvent(e)},c.prototype.addEventListener=function(e,t){return this.eventEmitter.addEventListener(e,t)},Object.defineProperty(c.prototype,"domRoot",{get:function(){var e;return null==(e=this.currentDialog)?void 0:e.domRoot},enumerable:!1,configurable:!0}),u.default=c}.call(this,d(1))},function(e,t,n){var i,o;void 0!==(n="function"==typeof(i=o=function(){function s(){for(var e=0,t={};e<arguments.length;e++){var n,i=arguments[e];for(n in i)t[n]=i[n]}return t}function c(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function e(l){function a(){}function n(e,t,n){if("undefined"!=typeof document){"number"==typeof(n=s({path:"/"},a.defaults,n)).expires&&(n.expires=new Date(+new Date+864e5*n.expires)),n.expires=n.expires?n.expires.toUTCString():"";try{var i=JSON.stringify(t);/^[\{\[]/.test(i)&&(t=i)}catch(e){}t=l.write?l.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var o,r="";for(o in n)n[o]&&(r+="; "+o,!0!==n[o])&&(r+="="+n[o].split(";")[0]);return document.cookie=e+"="+t+r}}function t(e,t){if("undefined"!=typeof document){for(var n={},i=document.cookie?document.cookie.split("; "):[],o=0;o<i.length;o++){var r=i[o].split("="),a=r.slice(1).join("=");t||'"'!==a.charAt(0)||(a=a.slice(1,-1));try{var s=c(r[0]),a=(l.read||l)(a,s)||c(a);if(t)try{a=JSON.parse(a)}catch(e){}if(n[s]=a,e===s)break}catch(e){}}return e?n[e]:n}}return a.set=n,a.get=function(e){return t(e,!1)},a.getJSON=function(e){return t(e,!0)},a.remove=function(e,t){n(e,"",s(t,{expires:-1}))},a.defaults={},a.withConverter=e,a}(function(){})})?i.call(t,n,t,e):i)&&(e.exports=n),e.exports=o()},function(e,t,n){"use strict";function o(){}Object.defineProperty(t,"__esModule",{value:!0}),t.FormDataHelper=void 0,o.buildFormData=function(t,n,i){void 0===i&&(i=null),!n||"object"!=typeof n||n instanceof Date||n instanceof File?t.append(i,null==n?"":n):Object.keys(n).forEach(function(e){o.buildFormData(t,n[e],null!=i?i+"["+e+"]":e)})},o.jsonToFormData=function(e){var t=new FormData;return o.buildFormData(t,e),t},t.FormDataHelper=o},function(e,o,r){"use strict";!function(i){Object.defineProperty(o,"__esModule",{value:!0}),o.Tools=void 0;var t=r(87);function n(){}n.bytesToSize=function(e){var t;return 0==e?"0 Byte":(t=Math.floor(Math.log(e)/Math.log(1024)),(e/Math.pow(1024,t)).toFixed(2)+" "+["Bytes","KB","MB","GB","TB"][t])},n.mbytesToSize=function(e){return n.bytesToSize(1e6*e)},n.convertPointsToPixels=function(e){return e*(1+1/3)},n.strCapitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},n.isRtlPage=function(){var e=null!=document.dir?document.dir:document.getElementsByTagName("html")[0].getAttribute("dir");return"rtl"==e},n.isRTL=function(){return i("body").hasClass("rtl")},Object.defineProperty(n,"textDirection",{get:function(){return n.isRTL()?"right":"left"},enumerable:!1,configurable:!0}),n.getClosestNumber=function(e,t){for(var n=Math.abs(t[0]-e),i=0,o=1;o<t.length;o++){var r=Math.abs(t[o]-e);r<n&&(i=o,n=r)}return t[i]},n.createHTMLFromText=function(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild},n.modalView=function(e){var t='<div class="modal fade" id="'+e.id+'" aria-labelledby="'+e.id+'Modal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog" role="document"><div class="modal-content">',t="title"in e?t+('<div class="modal-header"><h4 class="modal-title">'+e.title+'</h4><button type="button" class="close" data-dismiss="modal">'+n.svgClose())+"</button></div>":t+('<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close">'+n.svgClose())+"</button></div>";return"content"in e?t=t+('<div class="modal-body">'+e.content)+"</div>":t+='<div class="modal-body"></div>',"btn"in e&&(t=t+('<div class="modal-footer"><button type="button" class="btn btn-link" data-dismiss="modal">'+e.btn)+"</button></div>"),t+="</div></div></div>"},n.feedbackModalView=function(e){var t=e.id,n=e.title,n=void 0===n?"":n,i=e.content,i=void 0===i?"":i,o=e.img,o=void 0===o?"":o,r=e.primaryBtn,e=e.secondaryBtn,a="",s="";return('\n            <div class="modal modal--alert" id="'+t+'" aria-labelledby="'+t+'Modal" tabindex="-1" role="dialog"\n            aria-hidden="true">\n                <div class="modal-dialog modal-dialog-centered" role="document">\n                    <div class="modal-content modal-content--alert">\n                        <div class="dialog__content">\n                            <div class="dialog__body">\n                                '+(a=n?(o?'<img id="'+t+'-img" src='+o+' alt="Visual feedback" />':"")+'<div id="'+t+'-title" class="dialog__title">'+n+"</div>":a)+"\n                      \n                                "+(s=i?'<div id="'+t+'-content">'+i+"</div>":s)+'\n                                <div class="dialog__actions">\n                                    <button id="'+t+'-secondary-btn" type="button" class="btn btn--secondary" data-dismiss="modal">'+(void 0===e?"No":e)+'</button>\n                                    <button id="'+t+'-primary-btn" type="button" class="btn" data-dismiss="modal">'+(void 0===r?"Yes":r)+"</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ").trim()},n.codeModalView=function(e){return('\n        <div class="modal fade" id="'+e.id+'" aria-labelledby="'+e.id+'Modal" tabindex="-1" role="dialog"\n        aria-hidden="true">\n            <div class="modal-dialog modal-dialog-centered" role="document">\n                <div class="modal-content modal-content--code">\n                    <div class="code-editor code-editor--light">\n                        <div class="code-editor__libraries">\n                            <div class="code-editor__libraries__title black-3">\n                                <span>'+e.title+'</span>\n                            </div>\n                        </div>\n                        <div class="code-editor__content">\n                            <textarea class="code-editor__content__textarea" data-mode="javascript" readonly>\n'+e.code+"\n                            </textarea>\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n        </div>\n        ").trim()},n.modalViewOk=function(e){return e.btn=t.Lang.t("Ok"),n.modalView(e)},n.setInputCursorAtTheEnd=function(e){var t=e.val().length;e.focus(),e[0].setSelectionRange(t,t)},n.svgClose=function(){return n.svgRemove(12,12)},n.svgRotate=function(e,t){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+(e=void 0===e?14:e)+'" height="'+(t=void 0===t?16:t)+'" viewBox="0 0 14 16"><path d="M11.328 6.364l1.24-1.2c.79.98 1.283 2.113 1.433 3.288h-1.775c-.123-.735-.43-1.454-.896-2.088zm.896 3.778H14c-.15 1.175-.633 2.308-1.424 3.288l-1.24-1.2c.457-.634.765-1.344.888-2.088zm-.888 4.497C10.318 15.4 9.13 15.856 7.9 16v-1.716a5.31 5.31 0 0 0 2.162-.871l1.266 1.226zM6.152 2.595V0l4 3.846-4 3.76V4.302c-2.496.406-4.394 2.485-4.394 4.995s1.898 4.59 4.394 4.995V16C2.68 15.586 0 12.746 0 9.297s2.68-6.29 6.152-6.703z" fill="#47474F" fill-rule="evenodd"/></svg>'},n.svgRemove=function(e,t){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+(e=void 0===e?12:e)+'" height="'+(t=void 0===t?12:t)+'" viewBox="0 0 12 12"><polygon fill="#47474F" fill-rule="evenodd" points="12 1.208 10.79 0 6 4.792 1.21 0 0 1.208 4.79 6 0 10.792 1.21 12 6 7.208 10.79 12 12 10.792 7.21 6"/></svg>'},n.svgArrowRight=function(e,t){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+(e=void 0===e?12:e)+'" height="'+(t=void 0===t?12:t)+'" viewBox="0 0 448 512"><path d="M313.94 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.94v46.06c0 21.382 25.85 32.1 40.97 16.97l86.06-86.06c9.373-9.373 9.373-24.57 0-33.94l-86.06-86.06c-15.12-15.12-40.97-4.41-40.97 16.97V216z"/></svg>'},n.svgHome=function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="26" height="21"><path d="M22.028 12.67v6.468a1.08 1.08 0 0 1-1.083 1.083h-5.236c-.298 0-.542-.244-.542-.542v-5.056c0-.298-.244-.542-.542-.542h-3.25c-.298 0-.542.244-.542.542v5.056c0 .298-.244.542-.542.542H5.056a1.08 1.08 0 0 1-1.083-1.083V12.67a.54.54 0 0 1 .199-.42l8.486-6.987a.55.55 0 0 1 .691 0l8.486 6.987c.122.104.194.257.194.42zm3.774-2.75l-3.774-3.1V.56c0-.298-.244-.542-.542-.542h-2.528c-.298 0-.542.244-.542.542v3.277L14.377.5c-.8-.66-1.955-.66-2.753 0L.2 9.922c-.23.2-.262.533-.072.763l1.15 1.4c.2.23.533.262.763.072l10.617-8.743a.55.55 0 0 1 .691 0l10.617 8.743c.23.2.573.158.763-.072l1.15-1.4c.2-.235.153-.573-.077-.763z"/></svg>'},n.randomId=function(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(2,10)},n.colorpicker=function(t){var e=null,e=1==i(t).data("limit")?{preferredFormat:"hex",showPaletteOnly:!0,color:"blanchedalmond",palette:[["#000","#444","#666","#999","#ccc","#eee","#f3f3f3","#fff"],["#f00","#f90","#ff0","#0f0","#0ff","#00f","#90f","#f0f"],["#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d0e0e3","#cfe2f3","#d9d2e9","#ead1dc"],["#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd"],["#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0"],["#c00","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79"],["#900","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47"],["#600","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"]]}:{allowEmpty:!0,showInitial:!0,preferredFormat:"hex"};1==i(t).data("input")&&(e.showInput=!0),1==i(t).data("empty")&&(e.allowEmpty=!0,1==i(t).data("limit")&&e.palette.push(["transparent"]),e.change=function(e){e=0===e._a?"transparent":e.toHexString(),i(t).val(e)}),1==i(t).data("inline")&&(e.flat=!0),1==i(t).data("aplha")&&(e.showAlpha=!0),e.clickoutFiresChange=!0;try{i(t).spectrum(e)}catch(t){}},n.isElementInView=function(e,t){return void 0===t&&(t=!1),0!=e.length&&(0==t?e.offset().top<i(window).height()&&60<e.offset().top+e.height():e.offset().top+e.height()<i(window).height()&&60<e.offset().top)},n.keepInNumericBounds=function(e,t,n){return null!==e&&n<e&&(n=e),n=null!==t&&t<n?t:n},n.scrollControl=function(t,n,i){var o=0;t.scroll(function(){var e=t.scrollTop();o<e&&"function"==typeof i&&i(),e<o&&"function"==typeof n&&n(),o=e})},n.loadingFromPreviousStart=function(){var e=i(".fromPrevious");0<=e.length||(e=i('<div class="wait fromPrevious">'+t.Lang.t("previousTaskLoading")+"</div>"),i(".main").append(e)),e.css("display","flex")},n.loadingFromPreviousFail=function(){var e="<div><p>"+t.Lang.t("previousFail")+'</p><p></p><p><button class="btn" onclick="window.history.go(-1); return false;">'+t.Lang.t("previousFailBack")+'</button> <button class="btn btn--red" id="closePrevious">'+t.Lang.t("previousFailContinue")+"</button></p></div>";i(".fromPrevious").html(e).css("background-image","none")},n.loadingFromPreviousEnd=function(){i(".fromPrevious").remove()},n.serializeFormData=function(e){var t={};try{for(var n=0,i=e.entries();n<i.length;n++){var o=i[n],r=o[0],a=o[1];t[r]=a}}catch(e){}return t={info:"form data serialize failed"}},n.parseTemplate=function(n,e,t){return void 0===t&&(t="simple"),null!=(e=void 0===e?null:e)&&("simple"==t&&i.each(e,function(e,t){n=n.replace("{"+e+"}",t)}),"dollar"==t)&&i.each(e,function(e,t){n=n.replace("${"+e+"}",t)}),n},n.isEmail=function(e){return!!/^\w+([\+\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)},o.Tools=n}.call(this,r(1))},function(t,e,n){!function(e){t.exports=e.$=n(74)}.call(this,n(28))},function(Kt,Qt,e){var $t;!function(e,t){"use strict";"object"==typeof Kt.exports?Kt.exports=e.document?t(e,!0):function(e){if(e.document)return t(e);throw new Error("jQuery requires a window with a document")}:t(e)}("undefined"!=typeof window?window:this,function(w,D){"use strict";function y(e){return"function"==typeof e&&"number"!=typeof e.nodeType}function g(e){return null!=e&&e===e.window}var e=[],x=w.document,F=Object.getPrototypeOf,s=e.slice,N=e.concat,B=e.push,z=e.indexOf,U={},H=U.toString,q=U.hasOwnProperty,W=q.toString,V=W.call(Object),m={},G={type:!0,src:!0,noModule:!0};function Y(e,t,n){var i,o=(t=t||x).createElement("script");if(o.text=e,n)for(i in G)n[i]&&(o[i]=n[i]);t.head.appendChild(o).parentNode.removeChild(o)}function h(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?U[H.call(e)]||"object":typeof e}var E=function(e,t){return new E.fn.init(e,t)},X=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function Z(e){var t=!!e&&"length"in e&&e.length,n=h(e);return!y(e)&&!g(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}E.fn=E.prototype={jquery:"3.3.1",constructor:E,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){e=E.merge(this.constructor(),e);return e.prevObject=this,e},each:function(e){return E.each(this,e)},map:function(n){return this.pushStack(E.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,e=+e+(e<0?t:0);return this.pushStack(0<=e&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:B,sort:e.sort,splice:e.splice},E.extend=E.fn.extend=function(){var e,t,n,i,o,r=arguments[0]||{},a=1,s=arguments.length,l=!1;for("boolean"==typeof r&&(l=r,r=arguments[a]||{},a++),"object"==typeof r||y(r)||(r={}),a===s&&(r=this,a--);a<s;a++)if(null!=(e=arguments[a]))for(t in e)o=r[t],r!==(n=e[t])&&(l&&n&&(E.isPlainObject(n)||(i=Array.isArray(n)))?(o=i?(i=!1,o&&Array.isArray(o)?o:[]):o&&E.isPlainObject(o)?o:{},r[t]=E.extend(l,o,n)):void 0!==n&&(r[t]=n));return r},E.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){return!(!e||"[object Object]"!==H.call(e)||(e=F(e))&&("function"!=typeof(e=q.call(e,"constructor")&&e.constructor)||W.call(e)!==V))},isEmptyObject:function(e){for(var t in e)return!1;return!0},globalEval:function(e){Y(e)},each:function(e,t){var n,i=0;if(Z(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(X,"")},makeArray:function(e,t){t=t||[];return null!=e&&(Z(Object(e))?E.merge(t,"string"==typeof e?[e]:e):B.call(t,e)),t},inArray:function(e,t,n){return null==t?-1:z.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,o=e.length;i<n;i++)e[o++]=t[i];return e.length=o,e},grep:function(e,t,n){for(var i=[],o=0,r=e.length,a=!n;o<r;o++)!t(e[o],o)!=a&&i.push(e[o]);return i},map:function(e,t,n){var i,o,r=0,a=[];if(Z(e))for(i=e.length;r<i;r++)null!=(o=t(e[r],r,n))&&a.push(o);else for(r in e)null!=(o=t(e[r],r,n))&&a.push(o);return N.apply([],a)},guid:1,support:m}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=e[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){U["[object "+t+"]"]=t.toLowerCase()});function i(e,t,n){for(var i=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&E(e).is(n))break;i.push(e)}return i}function K(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}var e=function(D){function d(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(65536+i):String.fromCharCode(i>>10|55296,1023&i|56320)}function F(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}function N(){x()}var e,f,b,r,B,h,z,U,w,l,c,x,E,n,S,g,i,o,m,k="sizzle"+ +new Date,v=D.document,O=0,H=0,q=de(),W=de(),y=de(),V=function(e,t){return e===t&&(c=!0),0},G={}.hasOwnProperty,t=[],Y=t.pop,X=t.push,T=t.push,Z=t.slice,_=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",a="[\\x20\\t\\r\\n\\f]",s="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",Q="\\["+a+"*("+s+")(?:"+a+"*([*^$|!~]?=)"+a+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+s+"))|)"+a+"*\\]",$=":("+s+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Q+")*)|.*)\\)|)",J=new RegExp(a+"+","g"),C=new RegExp("^"+a+"+|((?:^|[^\\\\])(?:\\\\.)*)"+a+"+$","g"),ee=new RegExp("^"+a+"*,"+a+"*"),te=new RegExp("^"+a+"*([>+~]|"+a+")"+a+"*"),ne=new RegExp("="+a+"*([^\\]'\"]*?)"+a+"*\\]","g"),ie=new RegExp($),oe=new RegExp("^"+s+"$"),p={ID:new RegExp("^#("+s+")"),CLASS:new RegExp("^\\.("+s+")"),TAG:new RegExp("^("+s+"|[*])"),ATTR:new RegExp("^"+Q),PSEUDO:new RegExp("^"+$),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+a+"*(even|odd|(([+-]|)(\\d*)n|)"+a+"*(?:([+-]|)"+a+"*(\\d+)|))"+a+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+a+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+a+"*((?:-\\d)?\\d*)"+a+"*\\)|)(?=[^-]|$)","i")},re=/^(?:input|select|textarea|button)$/i,ae=/^h\d$/i,u=/^[^{]+\{\s*\[native \w/,se=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,le=/[+~]/,P=new RegExp("\\\\([\\da-f]{1,6}"+a+"?|("+a+")|.)","ig"),ce=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ue=R(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{T.apply(t=Z.call(v.childNodes),v.childNodes),t[v.childNodes.length].nodeType}catch(e){T={apply:t.length?function(e,t){X.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function A(e,t,n,i){var o,r,a,s,l,c,u,d=t&&t.ownerDocument,p=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==p&&9!==p&&11!==p)return n;if(!i&&((t?t.ownerDocument||t:v)!==E&&x(t),t=t||E,S)){if(11!==p&&(l=se.exec(e)))if(o=l[1]){if(9===p){if(!(a=t.getElementById(o)))return n;if(a.id===o)return n.push(a),n}else if(d&&(a=d.getElementById(o))&&m(t,a)&&a.id===o)return n.push(a),n}else{if(l[2])return T.apply(n,t.getElementsByTagName(e)),n;if((o=l[3])&&f.getElementsByClassName&&t.getElementsByClassName)return T.apply(n,t.getElementsByClassName(o)),n}if(f.qsa&&!y[e+" "]&&(!g||!g.test(e))){if(1!==p)d=t,u=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(ce,F):t.setAttribute("id",s=k),r=(c=h(e)).length;r--;)c[r]="#"+s+" "+j(c[r]);u=c.join(","),d=le.test(e)&&ge(t.parentNode)||t}if(u)try{return T.apply(n,d.querySelectorAll(u)),n}catch(e){}finally{s===k&&t.removeAttribute("id")}}}return U(e.replace(C,"$1"),t,n,i)}function de(){var n=[];function i(e,t){return n.push(e+" ")>b.cacheLength&&delete i[n.shift()],i[e+" "]=t}return i}function L(e){return e[k]=!0,e}function I(e){var t=E.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t)}}function pe(e,t){for(var n=e.split("|"),i=n.length;i--;)b.attrHandle[n[i]]=t}function fe(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function he(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ue(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function M(a){return L(function(r){return r=+r,L(function(e,t){for(var n,i=a([],e.length,r),o=i.length;o--;)e[n=i[o]]&&(e[n]=!(t[n]=e[n]))})})}function ge(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in f=A.support={},B=A.isXML=function(e){e=e&&(e.ownerDocument||e).documentElement;return!!e&&"HTML"!==e.nodeName},x=A.setDocument=function(e){var e=e?e.ownerDocument||e:v;return e!==E&&9===e.nodeType&&e.documentElement&&(n=(E=e).documentElement,S=!B(E),v!==E&&(e=E.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",N,!1):e.attachEvent&&e.attachEvent("onunload",N)),f.attributes=I(function(e){return e.className="i",!e.getAttribute("className")}),f.getElementsByTagName=I(function(e){return e.appendChild(E.createComment("")),!e.getElementsByTagName("*").length}),f.getElementsByClassName=u.test(E.getElementsByClassName),f.getById=I(function(e){return n.appendChild(e).id=k,!E.getElementsByName||!E.getElementsByName(k).length}),f.getById?(b.filter.ID=function(e){var t=e.replace(P,d);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if(void 0!==t.getElementById&&S)return(t=t.getElementById(e))?[t]:[]}):(b.filter.ID=function(e){var t=e.replace(P,d);return function(e){e=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return e&&e.value===t}},b.find.ID=function(e,t){if(void 0!==t.getElementById&&S){var n,i,o,r=t.getElementById(e);if(r){if((n=r.getAttributeNode("id"))&&n.value===e)return[r];for(o=t.getElementsByName(e),i=0;r=o[i++];)if((n=r.getAttributeNode("id"))&&n.value===e)return[r]}return[]}}),b.find.TAG=f.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):f.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],o=0,r=t.getElementsByTagName(e);if("*"!==e)return r;for(;n=r[o++];)1===n.nodeType&&i.push(n);return i},b.find.CLASS=f.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&S)return t.getElementsByClassName(e)},i=[],g=[],(f.qsa=u.test(E.querySelectorAll))&&(I(function(e){n.appendChild(e).innerHTML="<a id='"+k+"'></a><select id='"+k+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+a+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+a+"*(?:value|"+K+")"),e.querySelectorAll("[id~="+k+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+k+"+*").length||g.push(".#.+[+~]")}),I(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=E.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+a+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),n.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(f.matchesSelector=u.test(o=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.oMatchesSelector||n.msMatchesSelector))&&I(function(e){f.disconnectedMatch=o.call(e,"*"),o.call(e,"[s!='']:x"),i.push("!=",$)}),g=g.length&&new RegExp(g.join("|")),i=i.length&&new RegExp(i.join("|")),e=u.test(n.compareDocumentPosition),m=e||u.test(n.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(n.contains?n.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=e?function(e,t){var n;return e===t?(c=!0,0):(n=!e.compareDocumentPosition-!t.compareDocumentPosition)||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!f.sortDetached&&t.compareDocumentPosition(e)===n?e===E||e.ownerDocument===v&&m(v,e)?-1:t===E||t.ownerDocument===v&&m(v,t)?1:l?_(l,e)-_(l,t):0:4&n?-1:1)}:function(e,t){if(e===t)return c=!0,0;var n,i=0,o=e.parentNode,r=t.parentNode,a=[e],s=[t];if(!o||!r)return e===E?-1:t===E?1:o?-1:r?1:l?_(l,e)-_(l,t):0;if(o===r)return fe(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?fe(a[i],s[i]):a[i]===v?-1:s[i]===v?1:0}),E},A.matches=function(e,t){return A(e,null,null,t)},A.matchesSelector=function(e,t){if((e.ownerDocument||e)!==E&&x(e),t=t.replace(ne,"='$1']"),f.matchesSelector&&S&&!y[t+" "]&&(!i||!i.test(t))&&(!g||!g.test(t)))try{var n=o.call(e,t);if(n||f.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<A(t,E,null,[e]).length},A.contains=function(e,t){return(e.ownerDocument||e)!==E&&x(e),m(e,t)},A.attr=function(e,t){(e.ownerDocument||e)!==E&&x(e);var n=b.attrHandle[t.toLowerCase()],n=n&&G.call(b.attrHandle,t.toLowerCase())?n(e,t,!S):void 0;return void 0!==n?n:f.attributes||!S?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},A.escape=function(e){return(e+"").replace(ce,F)},A.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},A.uniqueSort=function(e){var t,n=[],i=0,o=0;if(c=!f.detectDuplicates,l=!f.sortStable&&e.slice(0),e.sort(V),c){for(;t=e[o++];)t===e[o]&&(i=n.push(o));for(;i--;)e.splice(n[i],1)}return l=null,e},r=A.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=r(t);return n},(b=A.selectors={cacheLength:50,createPseudo:L,match:p,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(P,d),e[3]=(e[3]||e[4]||e[5]||"").replace(P,d),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||A.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&A.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return p.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ie.test(n)&&(t=(t=h(n,!0))&&n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(P,d).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=q[e+" "];return t||(t=new RegExp("(^|"+a+")"+e+"("+a+"|$)"))&&q(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(e){e=A.attr(e,t);return null==e?"!="===n:!n||(e+="","="===n?e===i:"!="===n?e!==i:"^="===n?i&&0===e.indexOf(i):"*="===n?i&&-1<e.indexOf(i):"$="===n?i&&e.slice(-i.length)===i:"~="===n?-1<(" "+e.replace(J," ")+" ").indexOf(i):"|="===n&&(e===i||e.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,m){var v="nth"!==h.slice(0,3),y="last"!==h.slice(-4),_="of-type"===e;return 1===g&&0===m?function(e){return!!e.parentNode}:function(e,t,n){var i,o,r,a,s,l,c=v!=y?"nextSibling":"previousSibling",u=e.parentNode,d=_&&e.nodeName.toLowerCase(),p=!n&&!_,f=!1;if(u){if(v){for(;c;){for(a=e;a=a[c];)if(_?a.nodeName.toLowerCase()===d:1===a.nodeType)return!1;l=c="only"===h&&!l&&"nextSibling"}return!0}if(l=[y?u.firstChild:u.lastChild],y&&p){for(f=(s=(i=(o=(r=(a=u)[k]||(a[k]={}))[a.uniqueID]||(r[a.uniqueID]={}))[h]||[])[0]===O&&i[1])&&i[2],a=s&&u.childNodes[s];a=++s&&a&&a[c]||(f=s=0,l.pop());)if(1===a.nodeType&&++f&&a===e){o[h]=[O,s,f];break}}else if(!1===(f=p?s=(i=(o=(r=(a=e)[k]||(a[k]={}))[a.uniqueID]||(r[a.uniqueID]={}))[h]||[])[0]===O&&i[1]:f))for(;(a=++s&&a&&a[c]||(f=s=0,l.pop()))&&((_?a.nodeName.toLowerCase()!==d:1!==a.nodeType)||!++f||(p&&((o=(r=a[k]||(a[k]={}))[a.uniqueID]||(r[a.uniqueID]={}))[h]=[O,f]),a!==e)););return(f-=m)===g||f%g==0&&0<=f/g}}},PSEUDO:function(e,r){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||A.error("unsupported pseudo: "+e);return a[k]?a(r):1<a.length?(t=[e,e,"",r],b.setFilters.hasOwnProperty(e.toLowerCase())?L(function(e,t){for(var n,i=a(e,r),o=i.length;o--;)e[n=_(e,i[o])]=!(t[n]=i[o])}):function(e){return a(e,0,t)}):a}},pseudos:{not:L(function(e){var i=[],o=[],s=z(e.replace(C,"$1"));return s[k]?L(function(e,t,n,i){for(var o,r=s(e,null,i,[]),a=e.length;a--;)(o=r[a])&&(e[a]=!(t[a]=o))}):function(e,t,n){return i[0]=e,s(i,null,n,o),i[0]=null,!o.pop()}}),has:L(function(t){return function(e){return 0<A(t,e).length}}),contains:L(function(t){return t=t.replace(P,d),function(e){return-1<(e.textContent||e.innerText||r(e)).indexOf(t)}}),lang:L(function(n){return oe.test(n||"")||A.error("unsupported lang: "+n),n=n.replace(P,d).toLowerCase(),function(e){var t;do{if(t=S?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=D.location&&D.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===n},focus:function(e){return e===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:he(!1),disabled:he(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return ae.test(e.nodeName)},input:function(e){return re.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:M(function(){return[0]}),last:M(function(e,t){return[t-1]}),eq:M(function(e,t,n){return[n<0?n+t:n]}),even:M(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:M(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:M(function(e,t,n){for(var i=n<0?n+t:n;0<=--i;)e.push(i);return e}),gt:M(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=function(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}(e);function me(){}function j(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function R(a,e,t){var s=e.dir,l=e.next,c=l||s,u=t&&"parentNode"===c,d=H++;return e.first?function(e,t,n){for(;e=e[s];)if(1===e.nodeType||u)return a(e,t,n);return!1}:function(e,t,n){var i,o,r=[O,d];if(n){for(;e=e[s];)if((1===e.nodeType||u)&&a(e,t,n))return!0}else for(;e=e[s];)if(1===e.nodeType||u)if(o=(o=e[k]||(e[k]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[s]||e;else{if((i=o[c])&&i[0]===O&&i[1]===d)return r[2]=i[2];if((o[c]=r)[2]=a(e,t,n))return!0}return!1}}function ve(o){return 1<o.length?function(e,t,n){for(var i=o.length;i--;)if(!o[i](e,t,n))return!1;return!0}:o[0]}function ye(e,t,n,i,o){for(var r,a=[],s=0,l=e.length,c=null!=t;s<l;s++)!(r=e[s])||n&&!n(r,i,o)||(a.push(r),c&&t.push(s));return a}function _e(f,h,g,m,v,e){return m&&!m[k]&&(m=_e(m)),v&&!v[k]&&(v=_e(v,e)),L(function(e,t,n,i){var o,r,a,s=[],l=[],c=t.length,u=e||function(e,t,n){for(var i=0,o=t.length;i<o;i++)A(e,t[i],n);return n}(h||"*",n.nodeType?[n]:n,[]),d=!f||!e&&h?u:ye(u,s,f,n,i),p=g?v||(e?f:c||m)?[]:t:d;if(g&&g(d,p,n,i),m)for(o=ye(p,l),m(o,[],n,i),r=o.length;r--;)(a=o[r])&&(p[l[r]]=!(d[l[r]]=a));if(e){if(v||f){if(v){for(o=[],r=p.length;r--;)(a=p[r])&&o.push(d[r]=a);v(null,p=[],o,i)}for(r=p.length;r--;)(a=p[r])&&-1<(o=v?_(e,a):s[r])&&(e[o]=!(t[o]=a))}}else p=ye(p===t?p.splice(c,p.length):p),v?v(null,t,p,i):T.apply(t,p)})}function be(m,v){function e(e,t,n,i,o){var r,a,s,l=0,c="0",u=e&&[],d=[],p=w,f=e||_&&b.find.TAG("*",o),h=O+=null==p?1:Math.random()||.1,g=f.length;for(o&&(w=t===E||t||o);c!==g&&null!=(r=f[c]);c++){if(_&&r){for(a=0,t||r.ownerDocument===E||(x(r),n=!S);s=m[a++];)if(s(r,t||E,n)){i.push(r);break}o&&(O=h)}y&&((r=!s&&r)&&l--,e)&&u.push(r)}if(l+=c,y&&c!==l){for(a=0;s=v[a++];)s(u,d,t,n);if(e){if(0<l)for(;c--;)u[c]||d[c]||(d[c]=Y.call(i));d=ye(d)}T.apply(i,d),o&&!e&&0<d.length&&1<l+v.length&&A.uniqueSort(i)}return o&&(O=h,w=p),u}var y=0<v.length,_=0<m.length;return y?L(e):e}return me.prototype=b.filters=b.pseudos,b.setFilters=new me,h=A.tokenize=function(e,t){var n,i,o,r,a,s,l,c=W[e+" "];if(c)return t?0:c.slice(0);for(a=e,s=[],l=b.preFilter;a;){for(r in n&&!(i=ee.exec(a))||(i&&(a=a.slice(i[0].length)||a),s.push(o=[])),n=!1,(i=te.exec(a))&&(n=i.shift(),o.push({value:n,type:i[0].replace(C," ")}),a=a.slice(n.length)),b.filter)!(i=p[r].exec(a))||l[r]&&!(i=l[r](i))||(n=i.shift(),o.push({value:n,type:r,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?A.error(e):W(e,s).slice(0)},z=A.compile=function(e,t){var n,i=[],o=[],r=y[e+" "];if(!r){for(n=(t=t||h(e)).length;n--;)((r=function e(t){for(var i,n,o,r=t.length,a=b.relative[t[0].type],s=a||b.relative[" "],l=a?1:0,c=R(function(e){return e===i},s,!0),u=R(function(e){return-1<_(i,e)},s,!0),d=[function(e,t,n){return e=!a&&(n||t!==w)||((i=t).nodeType?c:u)(e,t,n),i=null,e}];l<r;l++)if(n=b.relative[t[l].type])d=[R(ve(d),n)];else{if((n=b.filter[t[l].type].apply(null,t[l].matches))[k]){for(o=++l;o<r&&!b.relative[t[o].type];o++);return _e(1<l&&ve(d),1<l&&j(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(C,"$1"),n,l<o&&e(t.slice(l,o)),o<r&&e(t=t.slice(o)),o<r&&j(t))}d.push(n)}return ve(d)}(t[n]))[k]?i:o).push(r);(r=y(e,be(o,i))).selector=e}return r},U=A.select=function(e,t,n,i){var o,r,a,s,l,c="function"==typeof e&&e,u=!i&&h(e=c.selector||e);if(n=n||[],1===u.length){if(2<(r=u[0]=u[0].slice(0)).length&&"ID"===(a=r[0]).type&&9===t.nodeType&&S&&b.relative[r[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(P,d),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(o=p.needsContext.test(e)?0:r.length;o--&&(a=r[o],!b.relative[s=a.type]);)if((l=b.find[s])&&(i=l(a.matches[0].replace(P,d),le.test(r[0].type)&&ge(t.parentNode)||t))){if(r.splice(o,1),e=i.length&&j(r))break;return T.apply(n,i),n}}return(c||z(e,u))(i,t,!S,n,!t||le.test(e)&&ge(t.parentNode)||t),n},f.sortStable=k.split("").sort(V).join("")===k,f.detectDuplicates=!!c,x(),f.sortDetached=I(function(e){return 1&e.compareDocumentPosition(E.createElement("fieldset"))}),I(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||pe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),f.attributes&&I(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||pe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),I(function(e){return null==e.getAttribute("disabled")})||pe(K,function(e,t,n){if(!n)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),A}(w),Q=(E.find=e,E.expr=e.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=e.uniqueSort,E.text=e.getText,E.isXMLDoc=e.isXML,E.contains=e.contains,E.escapeSelector=e.escape,E.expr.match.needsContext);function l(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var $=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function J(e,n,i){return y(n)?E.grep(e,function(e,t){return!!n.call(e,t,e)!==i}):n.nodeType?E.grep(e,function(e){return e===n!==i}):"string"!=typeof n?E.grep(e,function(e){return-1<z.call(n,e)!==i}):E.filter(n,e,i)}E.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?E.find.matchesSelector(i,e)?[i]:[]:E.find.matches(e,E.grep(t,function(e){return 1===e.nodeType}))},E.fn.extend({find:function(e){var t,n,i=this.length,o=this;if("string"!=typeof e)return this.pushStack(E(e).filter(function(){for(t=0;t<i;t++)if(E.contains(o[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)E.find(e,o[t],n);return 1<i?E.uniqueSort(n):n},filter:function(e){return this.pushStack(J(this,e||[],!1))},not:function(e){return this.pushStack(J(this,e||[],!0))},is:function(e){return!!J(this,"string"==typeof e&&Q.test(e)?E(e):e||[],!1).length}});var ee,te=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ne=((E.fn.init=function(e,t,n){if(e){if(n=n||ee,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==n.ready?n.ready(e):e(E):E.makeArray(e,this);if(!(i="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:te.exec(e))||!i[1]&&t)return(!t||t.jquery?t||n:this.constructor(t)).find(e);if(i[1]){if(t=t instanceof E?t[0]:t,E.merge(this,E.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:x,!0)),$.test(i[1])&&E.isPlainObject(t))for(var i in t)y(this[i])?this[i](t[i]):this.attr(i,t[i])}else(n=x.getElementById(i[2]))&&(this[0]=n,this.length=1)}return this}).prototype=E.fn,ee=E(x),/^(?:parents|prev(?:Until|All))/),ie={children:!0,contents:!0,next:!0,prev:!0};function oe(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}E.fn.extend({has:function(e){var t=E(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(E.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,o=this.length,r=[],a="string"!=typeof e&&E(e);if(!Q.test(e))for(;i<o;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&E.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(1<r.length?E.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?z.call(E(e),this[0]):z.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),E.each({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return i(e,"parentNode")},parentsUntil:function(e,t,n){return i(e,"parentNode",n)},next:function(e){return oe(e,"nextSibling")},prev:function(e){return oe(e,"previousSibling")},nextAll:function(e){return i(e,"nextSibling")},prevAll:function(e){return i(e,"previousSibling")},nextUntil:function(e,t,n){return i(e,"nextSibling",n)},prevUntil:function(e,t,n){return i(e,"previousSibling",n)},siblings:function(e){return K((e.parentNode||{}).firstChild,e)},children:function(e){return K(e.firstChild)},contents:function(e){return l(e,"iframe")?e.contentDocument:(l(e,"template")&&(e=e.content||e),E.merge([],e.childNodes))}},function(i,o){E.fn[i]=function(e,t){var n=E.map(this,o,e);return(t="Until"!==i.slice(-5)?e:t)&&"string"==typeof t&&(n=E.filter(t,n)),1<this.length&&(ie[i]||E.uniqueSort(n),ne.test(i))&&n.reverse(),this.pushStack(n)}});var S=/[^\x20\t\r\n\f]+/g;function u(e){return e}function re(e){throw e}function ae(e,t,n,i){var o;try{e&&y(o=e.promise)?o.call(e).done(t).fail(n):e&&y(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}E.Callbacks=function(i){var e,n;i="string"==typeof i?(e=i,n={},E.each(e.match(S)||[],function(e,t){n[t]=!0}),n):E.extend({},i);function o(){for(s=s||i.once,a=r=!0;c.length;u=-1)for(t=c.shift();++u<l.length;)!1===l[u].apply(t[0],t[1])&&i.stopOnFalse&&(u=l.length,t=!1);i.memory||(t=!1),r=!1,s&&(l=t?[]:"")}var r,t,a,s,l=[],c=[],u=-1,d={add:function(){return l&&(t&&!r&&(u=l.length-1,c.push(t)),function n(e){E.each(e,function(e,t){y(t)?i.unique&&d.has(t)||l.push(t):t&&t.length&&"string"!==h(t)&&n(t)})}(arguments),t)&&!r&&o(),this},remove:function(){return E.each(arguments,function(e,t){for(var n;-1<(n=E.inArray(t,l,n));)l.splice(n,1),n<=u&&u--}),this},has:function(e){return e?-1<E.inArray(e,l):0<l.length},empty:function(){return l=l&&[],this},disable:function(){return s=c=[],l=t="",this},disabled:function(){return!l},lock:function(){return s=c=[],t||r||(l=t=""),this},locked:function(){return!!s},fireWith:function(e,t){return s||(t=[e,(t=t||[]).slice?t.slice():t],c.push(t),r)||o(),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!a}};return d},E.extend({Deferred:function(e){var r=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],o="pending",a={state:function(){return o},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var o=arguments;return E.Deferred(function(i){E.each(r,function(e,t){var n=y(o[t[4]])&&o[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&y(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[t[0]+"With"](this,n?[e]:arguments)})}),o=null}).promise()},then:function(t,n,i){var l=0;function c(o,r,a,s){return function(){function e(){var e,t;if(!(o<l)){if((e=a.apply(n,i))===r.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,y(t)?s?t.call(e,c(l,r,u,s),c(l,r,re,s)):(l++,t.call(e,c(l,r,u,s),c(l,r,re,s),c(l,r,u,r.notifyWith))):(a!==u&&(n=void 0,i=[e]),(s||r.resolveWith)(n,i))}}var n=this,i=arguments,t=s?e:function(){try{e()}catch(e){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(e,t.stackTrace),l<=o+1&&(a!==re&&(n=void 0,i=[e]),r.rejectWith(n,i))}};o?t():(E.Deferred.getStackHook&&(t.stackTrace=E.Deferred.getStackHook()),w.setTimeout(t))}}return E.Deferred(function(e){r[0][3].add(c(0,e,y(i)?i:u,e.notifyWith)),r[1][3].add(c(0,e,y(t)?t:u)),r[2][3].add(c(0,e,y(n)?n:re))}).promise()},promise:function(e){return null!=e?E.extend(e,a):a}},s={};return E.each(r,function(e,t){var n=t[2],i=t[5];a[t[1]]=n.add,i&&n.add(function(){o=i},r[3-e][2].disable,r[3-e][3].disable,r[0][2].lock,r[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){function t(t){return function(e){o[t]=this,r[t]=1<arguments.length?s.call(arguments):e,--n||a.resolveWith(o,r)}}var n=arguments.length,i=n,o=Array(i),r=s.call(arguments),a=E.Deferred();if(n<=1&&(ae(e,a.done(t(i)).resolve,a.reject,!n),"pending"===a.state()||y(r[i]&&r[i].then)))return a.then();for(;i--;)ae(r[i],t(i),a.reject);return a.promise()}});var se=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/,le=(E.Deferred.exceptionHook=function(e,t){w.console&&w.console.warn&&e&&se.test(e.name)&&w.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},E.readyException=function(e){w.setTimeout(function(){throw e})},E.Deferred());function ce(){x.removeEventListener("DOMContentLoaded",ce),w.removeEventListener("load",ce),E.ready()}E.fn.ready=function(e){return le.then(e).catch(function(e){E.readyException(e)}),this},E.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--E.readyWait:E.isReady)||(E.isReady=!0)!==e&&0<--E.readyWait||le.resolveWith(x,[E])}}),E.ready.then=le.then,"complete"===x.readyState||"loading"!==x.readyState&&!x.documentElement.doScroll?w.setTimeout(E.ready):(x.addEventListener("DOMContentLoaded",ce),w.addEventListener("load",ce));function d(e,t,n,i,o,r,a){var s=0,l=e.length,c=null==n;if("object"===h(n))for(s in o=!0,n)d(e,t,s,n[s],!0,r,a);else if(void 0!==i&&(o=!0,y(i)||(a=!0),t=c?a?(t.call(e,i),null):(c=t,function(e,t,n){return c.call(E(e),n)}):t))for(;s<l;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return o?e:c?t.call(e):l?t(e[0],n):r}var ue=/^-ms-/,de=/-([a-z])/g;function pe(e,t){return t.toUpperCase()}function _(e){return e.replace(ue,"ms-").replace(de,pe)}function fe(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function t(){this.expando=E.expando+t.uid++}t.uid=1,t.prototype={cache:function(e){var t=e[this.expando];return t||(t={},fe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,o=this.cache(e);if("string"==typeof t)o[_(t)]=n;else for(i in t)o[_(i)]=t[i];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][_(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(_):(t=_(t))in i?[t]:t.match(S)||[]).length;for(;n--;)delete i[t[n]]}void 0!==t&&!E.isEmptyObject(i)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){e=e[this.expando];return void 0!==e&&!E.isEmptyObject(e)}};var v=new t,c=new t,he=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ge=/[A-Z]/g;function me(e,t,n){var i,o;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(ge,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===(o=n)||"false"!==o&&("null"===o?null:o===+o+""?+o:he.test(o)?JSON.parse(o):o)}catch(e){}c.set(e,t,n)}else n=void 0;return n}E.extend({hasData:function(e){return c.hasData(e)||v.hasData(e)},data:function(e,t,n){return c.access(e,t,n)},removeData:function(e,t){c.remove(e,t)},_data:function(e,t,n){return v.access(e,t,n)},_removeData:function(e,t){v.remove(e,t)}}),E.fn.extend({data:function(n,e){var t,i,o,r=this[0],a=r&&r.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){c.set(this,n)}):d(this,function(e){var t;if(r&&void 0===e)return void 0!==(t=c.get(r,n))||void 0!==(t=me(r,n))?t:void 0;this.each(function(){c.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(o=c.get(r),1===r.nodeType)&&!v.get(r,"hasDataAttrs")){for(t=a.length;t--;)a[t]&&0===(i=a[t].name).indexOf("data-")&&(i=_(i.slice(5)),me(r,i,o[i]));v.set(r,"hasDataAttrs",!0)}return o},removeData:function(e){return this.each(function(){c.remove(this,e)})}}),E.extend({queue:function(e,t,n){var i;if(e)return i=v.get(e,t=(t||"fx")+"queue"),n&&(!i||Array.isArray(n)?i=v.access(e,t,E.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=E.queue(e,t),i=n.length,o=n.shift(),r=E._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete r.stop,o.call(e,function(){E.dequeue(e,t)},r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return v.get(e,n)||v.access(e,n,{empty:E.Callbacks("once memory").add(function(){v.remove(e,[t+"queue",n])})})}}),E.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?E.queue(this[0],t):void 0===n?this:this.each(function(){var e=E.queue(this,t,n);E._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&E.dequeue(this,t)})},dequeue:function(e){return this.each(function(){E.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--o||r.resolveWith(a,[a])}var i,o=1,r=E.Deferred(),a=this,s=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(i=v.get(a[s],e+"queueHooks"))&&i.empty&&(o++,i.empty.add(n));return n(),r.promise(t)}});function ve(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&E.contains(e.ownerDocument,e)&&"none"===E.css(e,"display")}function ye(e,t,n,i){var o,r={};for(o in t)r[o]=e.style[o],e.style[o]=t[o];for(o in n=n.apply(e,i||[]),t)e.style[o]=r[o];return n}var e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,p=new RegExp("^(?:([+-])=|)("+e+")([a-z%]*)$","i"),f=["Top","Right","Bottom","Left"];function _e(e,t,n,i){var o,r,a=20,s=i?function(){return i.cur()}:function(){return E.css(e,t,"")},l=s(),c=n&&n[3]||(E.cssNumber[t]?"":"px"),u=(E.cssNumber[t]||"px"!==c&&+l)&&p.exec(E.css(e,t));if(u&&u[3]!==c){for(c=c||u[3],u=+(l/=2)||1;a--;)E.style(e,t,u+c),(1-r)*(1-(r=s()/l||.5))<=0&&(a=0),u/=r;E.style(e,t,(u*=2)+c),n=n||[]}return n&&(u=+u||+l||0,o=n[1]?u+(n[1]+1)*n[2]:+n[2],i)&&(i.unit=c,i.start=u,i.end=o),o}var be={};function b(e,t){for(var n,i,o,r,a,s=[],l=0,c=e.length;l<c;l++)(i=e[l]).style&&(n=i.style.display,t?("none"===n&&(s[l]=v.get(i,"display")||null,s[l]||(i.style.display="")),""===i.style.display&&ve(i)&&(s[l]=(a=r=void 0,r=(o=i).ownerDocument,o=o.nodeName,(a=be[o])||(r=r.body.appendChild(r.createElement(o)),a=E.css(r,"display"),r.parentNode.removeChild(r),be[o]=a="none"===a?"block":a),a))):"none"!==n&&(s[l]="none",v.set(i,"display",n)));for(l=0;l<c;l++)null!=s[l]&&(e[l].style.display=s[l]);return e}E.fn.extend({show:function(){return b(this,!0)},hide:function(){return b(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ve(this)?E(this).show():E(this).hide()})}});var we=/^(?:checkbox|radio)$/i,xe=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ee=/^$|^module$|\/(?:java|ecma)script/i,k={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function O(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&l(e,t)?E.merge([e],n):n}function Se(e,t){for(var n=0,i=e.length;n<i;n++)v.set(e[n],"globalEval",!t||v.get(t[n],"globalEval"))}k.optgroup=k.option,k.tbody=k.tfoot=k.colgroup=k.caption=k.thead,k.th=k.td;var ke=/<|&#?\w+;/;function Oe(e,t,n,i,o){for(var r,a,s,l,c,u=t.createDocumentFragment(),d=[],p=0,f=e.length;p<f;p++)if((r=e[p])||0===r)if("object"===h(r))E.merge(d,r.nodeType?[r]:r);else if(ke.test(r)){for(a=a||u.appendChild(t.createElement("div")),s=(xe.exec(r)||["",""])[1].toLowerCase(),s=k[s]||k._default,a.innerHTML=s[1]+E.htmlPrefilter(r)+s[2],c=s[0];c--;)a=a.lastChild;E.merge(d,a.childNodes),(a=u.firstChild).textContent=""}else d.push(t.createTextNode(r));for(u.textContent="",p=0;r=d[p++];)if(i&&-1<E.inArray(r,i))o&&o.push(r);else if(l=E.contains(r.ownerDocument,r),a=O(u.appendChild(r),"script"),l&&Se(a),n)for(c=0;r=a[c++];)Ee.test(r.type||"")&&n.push(r);return u}L=x.createDocumentFragment().appendChild(x.createElement("div")),(a=x.createElement("input")).setAttribute("type","radio"),a.setAttribute("checked","checked"),a.setAttribute("name","t"),L.appendChild(a),m.checkClone=L.cloneNode(!0).cloneNode(!0).lastChild.checked,L.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!L.cloneNode(!0).lastChild.defaultValue;var Te=x.documentElement,Ce=/^key/,Pe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ae=/^([^.]*)(?:\.(.+)|)/;function Le(){return!0}function T(){return!1}function Ie(){try{return x.activeElement}catch(e){}}function Me(e,t,n,i,o,r){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(i=i||n,n=void 0),t)Me(e,s,n,i,t[s],r);return e}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&("string"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),!1===o)o=T;else if(!o)return e;return 1===r&&(a=o,(o=function(e){return E().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=E.guid++)),e.each(function(){E.event.add(this,t,o,i,n)})}E.event={global:{},add:function(t,e,n,i,o){var r,a,s,l,c,u,d,p,f,h=v.get(t);if(h)for(n.handler&&(n=(r=n).handler,o=r.selector),o&&E.find.matchesSelector(Te,o),n.guid||(n.guid=E.guid++),s=(s=h.events)||(h.events={}),a=(a=h.handle)||(h.handle=function(e){return void 0!==E&&E.event.triggered!==e.type?E.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(S)||[""]).length;l--;)d=f=(p=Ae.exec(e[l])||[])[1],p=(p[2]||"").split(".").sort(),d&&(c=E.event.special[d]||{},d=(o?c.delegateType:c.bindType)||d,c=E.event.special[d]||{},f=E.extend({type:d,origType:f,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&E.expr.match.needsContext.test(o),namespace:p.join(".")},r),(u=s[d])||((u=s[d]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(t,i,p,a))||t.addEventListener&&t.addEventListener(d,a),c.add&&(c.add.call(t,f),f.handler.guid||(f.handler.guid=n.guid)),o?u.splice(u.delegateCount++,0,f):u.push(f),E.event.global[d]=!0)},remove:function(e,t,n,i,o){var r,a,s,l,c,u,d,p,f,h,g,m=v.hasData(e)&&v.get(e);if(m&&(l=m.events)){for(c=(t=(t||"").match(S)||[""]).length;c--;)if(f=g=(s=Ae.exec(t[c])||[])[1],h=(s[2]||"").split(".").sort(),f){for(d=E.event.special[f]||{},p=l[f=(i?d.delegateType:d.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=r=p.length;r--;)u=p[r],!o&&g!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(p.splice(r,1),u.selector&&p.delegateCount--,d.remove&&d.remove.call(e,u));a&&!p.length&&(d.teardown&&!1!==d.teardown.call(e,h,m.handle)||E.removeEvent(e,f,m.handle),delete l[f])}else for(f in l)E.event.remove(e,f+t[c],n,i,!0);E.isEmptyObject(l)&&v.remove(e,"handle events")}},dispatch:function(e){var t,n,i,o,r,a=E.event.fix(e),s=new Array(arguments.length),e=(v.get(this,"events")||{})[a.type]||[],l=E.event.special[a.type]||{};for(s[0]=a,t=1;t<arguments.length;t++)s[t]=arguments[t];if(a.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,a)){for(r=E.event.handlers.call(this,a,e),t=0;(i=r[t++])&&!a.isPropagationStopped();)for(a.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(o=((E.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(a.result=o)&&(a.preventDefault(),a.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,i,o,r,a,s=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(r=[],a={},n=0;n<l;n++)void 0===a[o=(i=t[n]).selector+" "]&&(a[o]=i.needsContext?-1<E(o,this).index(c):E.find(o,this,null,[c]).length),a[o]&&r.push(i);r.length&&s.push({elem:c,handlers:r})}return c=this,l<t.length&&s.push({elem:c,handlers:t.slice(l)}),s},addProp:function(t,e){Object.defineProperty(E.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[E.expando]?e:new E.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Ie()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Ie()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&l(this,"input"))return this.click(),!1},_default:function(e){return l(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},E.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},E.Event=function(e,t){if(!(this instanceof E.Event))return new E.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Le:T,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&E.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:T,isPropagationStopped:T,isImmediatePropagationStopped:T,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Le,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Le,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Le,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Ce.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Pe.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},E.event.addProp),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,o){E.event.special[e]={delegateType:o,bindType:o,handle:function(e){var t,n=e.relatedTarget,i=e.handleObj;return n&&(n===this||E.contains(this,n))||(e.type=i.origType,t=i.handler.apply(this,arguments),e.type=o),t}}}),E.fn.extend({on:function(e,t,n,i){return Me(this,e,t,n,i)},one:function(e,t,n,i){return Me(this,e,t,n,i,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)i=e.handleObj,E(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler);else{if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=T),this.each(function(){E.event.remove(this,e,n,t)});for(o in e)this.off(o,t,e[o])}return this}});var je=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Re=/<script|<style|<link/i,De=/checked\s*(?:[^=]|=\s*.checked.)/i,Fe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ne(e,t){return l(e,"table")&&l(11!==t.nodeType?t:t.firstChild,"tr")&&E(e).children("tbody")[0]||e}function Be(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function ze(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ue(e,t){var n,i,o,r,a,s;if(1===t.nodeType){if(v.hasData(e)&&(r=v.access(e),a=v.set(t,r),s=r.events))for(o in delete a.handle,a.events={},s)for(n=0,i=s[o].length;n<i;n++)E.event.add(t,o,s[o][n]);c.hasData(e)&&(r=c.access(e),a=E.extend({},r),c.set(t,a))}}function C(n,i,o,r){i=N.apply([],i);var e,t,a,s,l,c,u=0,d=n.length,p=d-1,f=i[0],h=y(f);if(h||1<d&&"string"==typeof f&&!m.checkClone&&De.test(f))return n.each(function(e){var t=n.eq(e);h&&(i[0]=f.call(this,e,t.html())),C(t,i,o,r)});if(d&&(t=(e=Oe(i,n[0].ownerDocument,!1,n,r)).firstChild,1===e.childNodes.length&&(e=t),t||r)){for(s=(a=E.map(O(e,"script"),Be)).length;u<d;u++)l=e,u!==p&&(l=E.clone(l,!0,!0),s)&&E.merge(a,O(l,"script")),o.call(n[u],l,u);if(s)for(c=a[a.length-1].ownerDocument,E.map(a,ze),u=0;u<s;u++)l=a[u],Ee.test(l.type||"")&&!v.access(l,"globalEval")&&E.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?E._evalUrl&&E._evalUrl(l.src):Y(l.textContent.replace(Fe,""),c,l))}return n}function He(e,t,n){for(var i,o=t?E.filter(t,e):e,r=0;null!=(i=o[r]);r++)n||1!==i.nodeType||E.cleanData(O(i)),i.parentNode&&(n&&E.contains(i.ownerDocument,i)&&Se(O(i,"script")),i.parentNode.removeChild(i));return e}E.extend({htmlPrefilter:function(e){return e.replace(je,"<$1></$2>")},clone:function(e,t,n){var i,o,r,a,s,l,c,u=e.cloneNode(!0),d=E.contains(e.ownerDocument,e);if(!(m.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||E.isXMLDoc(e)))for(a=O(u),i=0,o=(r=O(e)).length;i<o;i++)s=r[i],l=a[i],c=void 0,"input"===(c=l.nodeName.toLowerCase())&&we.test(s.type)?l.checked=s.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=s.defaultValue);if(t)if(n)for(r=r||O(e),a=a||O(u),i=0,o=r.length;i<o;i++)Ue(r[i],a[i]);else Ue(e,u);return 0<(a=O(u,"script")).length&&Se(a,!d&&O(e,"script")),u},cleanData:function(e){for(var t,n,i,o=E.event.special,r=0;void 0!==(n=e[r]);r++)if(fe(n)){if(t=n[v.expando]){if(t.events)for(i in t.events)o[i]?E.event.remove(n,i):E.removeEvent(n,i,t.handle);n[v.expando]=void 0}n[c.expando]&&(n[c.expando]=void 0)}}}),E.fn.extend({detach:function(e){return He(this,e,!0)},remove:function(e){return He(this,e)},text:function(e){return d(this,function(e){return void 0===e?E.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return C(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ne(this,e).appendChild(e)})},prepend:function(){return C(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=Ne(this,e)).insertBefore(e,t.firstChild)})},before:function(){return C(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return C(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(E.cleanData(O(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return E.clone(this,e,t)})},html:function(e){return d(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Re.test(e)&&!k[(xe.exec(e)||["",""])[1].toLowerCase()]){e=E.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(E.cleanData(O(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return C(this,arguments,function(e){var t=this.parentNode;E.inArray(this,n)<0&&(E.cleanData(O(this)),t)&&t.replaceChild(e,this)},n)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){E.fn[e]=function(e){for(var t,n=[],i=E(e),o=i.length-1,r=0;r<=o;r++)t=r===o?this:this.clone(!0),E(i[r])[a](t),B.apply(n,t.get());return this.pushStack(n)}});function qe(e){var t=e.ownerDocument.defaultView;return(t=t&&t.opener?t:w).getComputedStyle(e)}var We,Ve,Ge,Ye,Xe,Ze,n,Ke=new RegExp("^("+e+")(?!px)[a-z%]+$","i"),Qe=new RegExp(f.join("|"),"i");function o(){var e;n&&(Ze.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",n.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Te.appendChild(Ze).appendChild(n),e=w.getComputedStyle(n),We="1%"!==e.top,Xe=12===$e(e.marginLeft),n.style.right="60%",Ye=36===$e(e.right),Ve=36===$e(e.width),n.style.position="absolute",Ge=36===n.offsetWidth||"absolute",Te.removeChild(Ze),n=null)}function $e(e){return Math.round(parseFloat(e))}function P(e,t,n){var i,o,r=e.style;return(n=n||qe(e))&&(""!==(o=n.getPropertyValue(t)||n[t])||E.contains(e.ownerDocument,e)||(o=E.style(e,t)),!m.pixelBoxStyles())&&Ke.test(o)&&Qe.test(t)&&(e=r.width,t=r.minWidth,i=r.maxWidth,r.minWidth=r.maxWidth=r.width=o,o=n.width,r.width=e,r.minWidth=t,r.maxWidth=i),void 0!==o?o+"":o}function Je(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}Ze=x.createElement("div"),(n=x.createElement("div")).style&&(n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===n.style.backgroundClip,E.extend(m,{boxSizingReliable:function(){return o(),Ve},pixelBoxStyles:function(){return o(),Ye},pixelPosition:function(){return o(),We},reliableMarginLeft:function(){return o(),Xe},scrollboxSize:function(){return o(),Ge}}));var et=/^(none|table(?!-c[ea]).+)/,tt=/^--/,nt={position:"absolute",visibility:"hidden",display:"block"},it={letterSpacing:"0",fontWeight:"400"},ot=["Webkit","Moz","ms"],rt=x.createElement("div").style;function at(e){return E.cssProps[e]||(E.cssProps[e]=function(e){if(e in rt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=ot.length;n--;)if((e=ot[n]+t)in rt)return e}(e)||e)}function st(e,t,n){var i=p.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function lt(e,t,n,i,o,r){var a="width"===t?1:0,s=0,l=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=E.css(e,n+f[a],!0,o)),i?("content"===n&&(l-=E.css(e,"padding"+f[a],!0,o)),"margin"!==n&&(l-=E.css(e,"border"+f[a]+"Width",!0,o))):(l+=E.css(e,"padding"+f[a],!0,o),"padding"!==n?l+=E.css(e,"border"+f[a]+"Width",!0,o):s+=E.css(e,"border"+f[a]+"Width",!0,o));return!i&&0<=r&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-r-l-s-.5))),l}function ct(e,t,n){var i=qe(e),o=P(e,t,i),r="border-box"===E.css(e,"boxSizing",!1,i),a=r;if(Ke.test(o)){if(!n)return o;o="auto"}return a=a&&(m.boxSizingReliable()||o===e.style[t]),"auto"!==o&&(parseFloat(o)||"inline"!==E.css(e,"display",!1,i))||(o=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),(o=parseFloat(o)||0)+lt(e,t,n||(r?"border":"content"),a,i,o)+"px"}function r(e,t,n,i,o){return new r.prototype.init(e,t,n,i,o)}E.extend({cssHooks:{opacity:{get:function(e,t){if(t)return""===(t=P(e,"opacity"))?"1":t}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,a,s=_(t),l=tt.test(t),c=e.style;if(l||(t=at(s)),a=E.cssHooks[t]||E.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,i))?o:c[t];"string"===(r=typeof n)&&(o=p.exec(n))&&o[1]&&(n=_e(e,t,o),r="number"),null==n||n!=n||("number"===r&&(n+=o&&o[3]||(E.cssNumber[s]?"":"px")),m.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i)))||(l?c.setProperty(t,n):c[t]=n)}},css:function(e,t,n,i){var o,r=_(t);return tt.test(t)||(t=at(r)),"normal"===(o=void 0===(o=(r=E.cssHooks[t]||E.cssHooks[r])&&"get"in r?r.get(e,!0,n):o)?P(e,t,i):o)&&t in it&&(o=it[t]),(""===n||n)&&(r=parseFloat(o),!0===n||isFinite(r))?r||0:o}}),E.each(["height","width"],function(e,r){E.cssHooks[r]={get:function(e,t,n){if(t)return!et.test(E.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ct(e,r,n):ye(e,nt,function(){return ct(e,r,n)})},set:function(e,t,n){var i=qe(e),o="border-box"===E.css(e,"boxSizing",!1,i),n=n&&lt(e,r,n,o,i);return o&&m.scrollboxSize()===i.position&&(n-=Math.ceil(e["offset"+r[0].toUpperCase()+r.slice(1)]-parseFloat(i[r])-lt(e,r,"border",!1,i)-.5)),n&&(o=p.exec(t))&&"px"!==(o[3]||"px")&&(e.style[r]=t,t=E.css(e,r)),st(0,t,n)}}}),E.cssHooks.marginLeft=Je(m.reliableMarginLeft,function(e,t){if(t)return(parseFloat(P(e,"marginLeft"))||e.getBoundingClientRect().left-ye(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),E.each({margin:"",padding:"",border:"Width"},function(o,r){E.cssHooks[o+r]={expand:function(e){for(var t=0,n={},i="string"==typeof e?e.split(" "):[e];t<4;t++)n[o+f[t]+r]=i[t]||i[t-2]||i[0];return n}},"margin"!==o&&(E.cssHooks[o+r].set=st)}),E.fn.extend({css:function(e,t){return d(this,function(e,t,n){var i,o,r={},a=0;if(Array.isArray(t)){for(i=qe(e),o=t.length;a<o;a++)r[t[a]]=E.css(e,t[a],!1,i);return r}return void 0!==n?E.style(e,t,n):E.css(e,t)},e,t,1<arguments.length)}}),((E.Tween=r).prototype={constructor:r,init:function(e,t,n,i,o,r){this.elem=e,this.prop=n,this.easing=o||E.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(E.cssNumber[n]?"":"px")},cur:function(){var e=r.propHooks[this.prop];return(e&&e.get?e:r.propHooks._default).get(this)},run:function(e){var t,n=r.propHooks[this.prop];return this.options.duration?this.pos=t=E.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(n&&n.set?n:r.propHooks._default).set(this),this}}).init.prototype=r.prototype,(r.propHooks={_default:{get:function(e){return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(e=E.css(e.elem,e.prop,""))&&"auto"!==e?e:0},set:function(e){E.fx.step[e.prop]?E.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[E.cssProps[e.prop]]&&!E.cssHooks[e.prop]?e.elem[e.prop]=e.now:E.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=r.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},E.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},E.fx=r.prototype.init,E.fx.step={};var A,ut,a,L,dt=/^(?:toggle|show|hide)$/,pt=/queueHooks$/;function ft(){ut&&(!1===x.hidden&&w.requestAnimationFrame?w.requestAnimationFrame(ft):w.setTimeout(ft,E.fx.interval),E.fx.tick())}function ht(){return w.setTimeout(function(){A=void 0}),A=Date.now()}function gt(e,t){var n,i=0,o={height:e};for(t=t?1:0;i<4;i+=2-t)o["margin"+(n=f[i])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function mt(e,t,n){for(var i,o=(I.tweeners[t]||[]).concat(I.tweeners["*"]),r=0,a=o.length;r<a;r++)if(i=o[r].call(n,t,e))return i}function I(o,e,t){var n,r,i,a,s,l,c,u=0,d=I.prefilters.length,p=E.Deferred().always(function(){delete f.elem}),f=function(){if(!r){for(var e=A||ht(),e=Math.max(0,h.startTime+h.duration-e),t=1-(e/h.duration||0),n=0,i=h.tweens.length;n<i;n++)h.tweens[n].run(t);if(p.notifyWith(o,[h,t,e]),t<1&&i)return e;i||p.notifyWith(o,[h,1,0]),p.resolveWith(o,[h])}return!1},h=p.promise({elem:o,props:E.extend({},e),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},t),originalProperties:e,originalOptions:t,startTime:A||ht(),duration:t.duration,tweens:[],createTween:function(e,t){t=E.Tween(o,h.opts,e,t,h.opts.specialEasing[e]||h.opts.easing);return h.tweens.push(t),t},stop:function(e){var t=0,n=e?h.tweens.length:0;if(!r){for(r=!0;t<n;t++)h.tweens[t].run(1);e?(p.notifyWith(o,[h,1,0]),p.resolveWith(o,[h,e])):p.rejectWith(o,[h,e])}return this}}),g=h.props,m=g,v=h.opts.specialEasing;for(i in m)if(s=v[a=_(i)],l=m[i],Array.isArray(l)&&(s=l[1],l=m[i]=l[0]),i!==a&&(m[a]=l,delete m[i]),(c=E.cssHooks[a])&&"expand"in c)for(i in l=c.expand(l),delete m[a],l)i in m||(m[i]=l[i],v[i]=s);else v[a]=s;for(;u<d;u++)if(n=I.prefilters[u].call(h,o,g,h.opts))return y(n.stop)&&(E._queueHooks(h.elem,h.opts.queue).stop=n.stop.bind(n)),n;return E.map(g,mt,h),y(h.opts.start)&&h.opts.start.call(o,h),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always),E.fx.timer(E.extend(f,{elem:o,anim:h,queue:h.opts.queue})),h}E.Animation=E.extend(I,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return _e(n.elem,e,p.exec(t),n),n}]},tweener:function(e,t){for(var n,i=0,o=(e=y(e)?(t=e,["*"]):e.match(S)).length;i<o;i++)n=e[i],I.tweeners[n]=I.tweeners[n]||[],I.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,o,r,a,s,l,c,u="width"in t||"height"in t,d=this,p={},f=e.style,h=e.nodeType&&ve(e),g=v.get(e,"fxshow");for(i in n.queue||(null==(a=E._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,E.queue(e,"fx").length||a.empty.fire()})})),t)if(o=t[i],dt.test(o)){if(delete t[i],r=r||"toggle"===o,o===(h?"hide":"show")){if("show"!==o||!g||void 0===g[i])continue;h=!0}p[i]=g&&g[i]||E.style(e,i)}if((l=!E.isEmptyObject(t))||!E.isEmptyObject(p))for(i in u&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=g&&g.display)&&(c=v.get(e,"display")),"none"===(u=E.css(e,"display"))&&(c?u=c:(b([e],!0),c=e.style.display||c,u=E.css(e,"display"),b([e]))),"inline"===u||"inline-block"===u&&null!=c)&&"none"===E.css(e,"float")&&(l||(d.done(function(){f.display=c}),null==c&&(u=f.display,c="none"===u?"":u)),f.display="inline-block"),n.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),l=!1,p)l||(g?"hidden"in g&&(h=g.hidden):g=v.access(e,"fxshow",{display:c}),r&&(g.hidden=!h),h&&b([e],!0),d.done(function(){for(i in h||b([e]),v.remove(e,"fxshow"),p)E.style(e,i,p[i])})),l=mt(h?g[i]:0,i,d),i in g||(g[i]=l.start,h&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?I.prefilters.unshift(e):I.prefilters.push(e)}}),E.speed=function(e,t,n){var i=e&&"object"==typeof e?E.extend({},e):{complete:n||!n&&t||y(e)&&e,duration:e,easing:n&&t||t&&!y(t)&&t};return E.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in E.fx.speeds?i.duration=E.fx.speeds[i.duration]:i.duration=E.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){y(i.old)&&i.old.call(this),i.queue&&E.dequeue(this,i.queue)},i},E.fn.extend({fadeTo:function(e,t,n,i){return this.filter(ve).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(t,e,n,i){function o(){var e=I(this,E.extend({},t),a);(r||v.get(this,"finish"))&&e.stop(!0)}var r=E.isEmptyObject(t),a=E.speed(e,n,i);return o.finish=o,r||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(o,e,r){function a(e){var t=e.stop;delete e.stop,t(r)}return"string"!=typeof o&&(r=e,e=o,o=void 0),e&&!1!==o&&this.queue(o||"fx",[]),this.each(function(){var e=!0,t=null!=o&&o+"queueHooks",n=E.timers,i=v.get(this);if(t)i[t]&&i[t].stop&&a(i[t]);else for(t in i)i[t]&&i[t].stop&&pt.test(t)&&a(i[t]);for(t=n.length;t--;)n[t].elem!==this||null!=o&&n[t].queue!==o||(n[t].anim.stop(r),e=!1,n.splice(t,1));!e&&r||E.dequeue(this,o)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=v.get(this),n=t[a+"queue"],i=t[a+"queueHooks"],o=E.timers,r=n?n.length:0;for(t.finish=!0,E.queue(this,a,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===a&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<r;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),E.each(["toggle","show","hide"],function(e,i){var o=E.fn[i];E.fn[i]=function(e,t,n){return null==e||"boolean"==typeof e?o.apply(this,arguments):this.animate(gt(i,!0),e,t,n)}}),E.each({slideDown:gt("show"),slideUp:gt("hide"),slideToggle:gt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,i){E.fn[e]=function(e,t,n){return this.animate(i,e,t,n)}}),E.timers=[],E.fx.tick=function(){var e,t=0,n=E.timers;for(A=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||E.fx.stop(),A=void 0},E.fx.timer=function(e){E.timers.push(e),E.fx.start()},E.fx.interval=13,E.fx.start=function(){ut||(ut=!0,ft())},E.fx.stop=function(){ut=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(i,e){return i=E.fx&&E.fx.speeds[i]||i,this.queue(e=e||"fx",function(e,t){var n=w.setTimeout(e,i);t.stop=function(){w.clearTimeout(n)}})},a=x.createElement("input"),L=x.createElement("select").appendChild(x.createElement("option")),a.type="checkbox",m.checkOn=""!==a.value,m.optSelected=L.selected,(a=x.createElement("input")).value="t",a.type="radio",m.radioValue="t"===a.value;var vt,M=E.expr.attrHandle,yt=(E.fn.extend({attr:function(e,t){return d(this,E.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){E.removeAttr(this,e)})}}),E.extend({attr:function(e,t,n){var i,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===e.getAttribute?E.prop(e,t,n):(1===r&&E.isXMLDoc(e)||(o=E.attrHooks[t.toLowerCase()]||(E.expr.match.bool.test(t)?vt:void 0)),void 0!==n?null===n?void E.removeAttr(e,t):o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:(e.setAttribute(t,n+""),n):!(o&&"get"in o&&null!==(i=o.get(e,t)))&&null==(i=E.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){var n;if(!m.radioValue&&"radio"===t&&l(e,"input"))return n=e.value,e.setAttribute("type",t),n&&(e.value=n),t}}},removeAttr:function(e,t){var n,i=0,o=t&&t.match(S);if(o&&1===e.nodeType)for(;n=o[i++];)e.removeAttribute(n)}}),vt={set:function(e,t,n){return!1===t?E.removeAttr(e,n):e.setAttribute(n,n),n}},E.each(E.expr.match.bool.source.match(/\w+/g),function(e,t){var a=M[t]||E.find.attr;M[t]=function(e,t,n){var i,o,r=t.toLowerCase();return n||(o=M[r],M[r]=i,i=null!=a(e,t,n)?r:null,M[r]=o),i}}),/^(?:input|select|textarea|button)$/i),_t=/^(?:a|area)$/i;function j(e){return(e.match(S)||[]).join(" ")}function R(e){return e.getAttribute&&e.getAttribute("class")||""}function bt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(S)||[]}E.fn.extend({prop:function(e,t){return d(this,E.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[E.propFix[e]||e]})}}),E.extend({prop:function(e,t,n){var i,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&E.isXMLDoc(e)||(t=E.propFix[t]||t,o=E.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=E.find.attr(e,"tabindex");return t?parseInt(t,10):yt.test(e.nodeName)||_t.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(E.propHooks.selected={get:function(e){e=e.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(e){e=e.parentNode;e&&(e.selectedIndex,e.parentNode)&&e.parentNode.selectedIndex}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this}),E.fn.extend({addClass:function(t){var e,n,i,o,r,a,s=0;if(y(t))return this.each(function(e){E(this).addClass(t.call(this,e,R(this)))});if((e=bt(t)).length)for(;n=this[s++];)if(a=R(n),i=1===n.nodeType&&" "+j(a)+" "){for(r=0;o=e[r++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");a!==(a=j(i))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,o,r,a,s=0;if(y(t))return this.each(function(e){E(this).removeClass(t.call(this,e,R(this)))});if(!arguments.length)return this.attr("class","");if((e=bt(t)).length)for(;n=this[s++];)if(a=R(n),i=1===n.nodeType&&" "+j(a)+" "){for(r=0;o=e[r++];)for(;-1<i.indexOf(" "+o+" ");)i=i.replace(" "+o+" "," ");a!==(a=j(i))&&n.setAttribute("class",a)}return this},toggleClass:function(o,t){var r=typeof o,a="string"==r||Array.isArray(o);return"boolean"==typeof t&&a?t?this.addClass(o):this.removeClass(o):y(o)?this.each(function(e){E(this).toggleClass(o.call(this,e,R(this),t),t)}):this.each(function(){var e,t,n,i;if(a)for(t=0,n=E(this),i=bt(o);e=i[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==o&&"boolean"!=r||((e=R(this))&&v.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",!e&&!1!==o&&v.get(this,"__className__")||""))})},hasClass:function(e){for(var t,n=0,i=" "+e+" ";t=this[n++];)if(1===t.nodeType&&-1<(" "+j(R(t))+" ").indexOf(i))return!0;return!1}});function wt(e){e.stopPropagation()}var xt=/\r/g,Et=(E.fn.extend({val:function(t){var n,e,i,o=this[0];return arguments.length?(i=y(t),this.each(function(e){1!==this.nodeType||(null==(e=i?t.call(this,e,E(this).val()):t)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=E.map(e,function(e){return null==e?"":e+""})),(n=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,e,"value"))||(this.value=e)})):o?(n=E.valHooks[o.type]||E.valHooks[o.nodeName.toLowerCase()])&&"get"in n&&void 0!==(e=n.get(o,"value"))?e:"string"==typeof(e=o.value)?e.replace(xt,""):null==e?"":e:void 0}}),E.extend({valHooks:{option:{get:function(e){var t=E.find.attr(e,"value");return null!=t?t:j(E.text(e))}},select:{get:function(e){for(var t,n=e.options,i=e.selectedIndex,o="select-one"===e.type,r=o?null:[],a=o?i+1:n.length,s=i<0?a:o?i:0;s<a;s++)if(((t=n[s]).selected||s===i)&&!t.disabled&&(!t.parentNode.disabled||!l(t.parentNode,"optgroup"))){if(t=E(t).val(),o)return t;r.push(t)}return r},set:function(e,t){for(var n,i,o=e.options,r=E.makeArray(t),a=o.length;a--;)((i=o[a]).selected=-1<E.inArray(E.valHooks.option.get(i),r))&&(n=!0);return n||(e.selectedIndex=-1),r}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<E.inArray(E(e).val(),t)}},m.checkOn||(E.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),m.focusin="onfocusin"in w,/^(?:focusinfocus|focusoutblur)$/),St=(E.extend(E.event,{trigger:function(e,t,n,i){var o,r,a,s,l,c,u,d=[n||x],p=q.call(e,"type")?e.type:e,f=q.call(e,"namespace")?e.namespace.split("."):[],h=u=r=n=n||x;if(3!==n.nodeType&&8!==n.nodeType&&!Et.test(p+E.event.triggered)&&(-1<p.indexOf(".")&&(p=(f=p.split(".")).shift(),f.sort()),s=p.indexOf(":")<0&&"on"+p,(e=e[E.expando]?e:new E.Event(p,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:E.makeArray(t,[e]),c=E.event.special[p]||{},i||!c.trigger||!1!==c.trigger.apply(n,t))){if(!i&&!c.noBubble&&!g(n)){for(a=c.delegateType||p,Et.test(a+p)||(h=h.parentNode);h;h=h.parentNode)d.push(h),r=h;r===(n.ownerDocument||x)&&d.push(r.defaultView||r.parentWindow||w)}for(o=0;(h=d[o++])&&!e.isPropagationStopped();)u=h,e.type=1<o?a:c.bindType||p,(l=(v.get(h,"events")||{})[e.type]&&v.get(h,"handle"))&&l.apply(h,t),(l=s&&h[s])&&l.apply&&fe(h)&&(e.result=l.apply(h,t),!1===e.result)&&e.preventDefault();return e.type=p,i||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(d.pop(),t)||!fe(n)||s&&y(n[p])&&!g(n)&&((r=n[s])&&(n[s]=null),E.event.triggered=p,e.isPropagationStopped()&&u.addEventListener(p,wt),n[p](),e.isPropagationStopped()&&u.removeEventListener(p,wt),E.event.triggered=void 0,r)&&(n[s]=r),e.result}},simulate:function(e,t,n){n=E.extend(new E.Event,n,{type:e,isSimulated:!0});E.event.trigger(n,null,t)}}),E.fn.extend({trigger:function(e,t){return this.each(function(){E.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return E.event.trigger(e,t,n,!0)}}),m.focusin||E.each({focus:"focusin",blur:"focusout"},function(n,i){function o(e){E.event.simulate(i,e.target,E.event.fix(e))}E.event.special[i]={setup:function(){var e=this.ownerDocument||this,t=v.access(e,i);t||e.addEventListener(n,o,!0),v.access(e,i,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=v.access(e,i)-1;t?v.access(e,i,t):(e.removeEventListener(n,o,!0),v.remove(e,i))}}}),w.location),kt=Date.now(),Ot=/\?/,Tt=(E.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new w.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||E.error("Invalid XML: "+e),t},/\[\]$/),Ct=/\r?\n/g,Pt=/^(?:submit|button|image|reset|file)$/i,At=/^(?:input|select|textarea|keygen)/i;E.param=function(e,t){function n(e,t){t=y(t)?t():t,o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==t?"":t)}var i,o=[];if(Array.isArray(e)||e.jquery&&!E.isPlainObject(e))E.each(e,function(){n(this.name,this.value)});else for(i in e)!function n(i,e,o,r){if(Array.isArray(e))E.each(e,function(e,t){o||Tt.test(i)?r(i,t):n(i+"["+("object"==typeof t&&null!=t?e:"")+"]",t,o,r)});else if(o||"object"!==h(e))r(i,e);else for(var t in e)n(i+"["+t+"]",e[t],o,r)}(i,e[i],t,n);return o.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=E.prop(this,"elements");return e?E.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!E(this).is(":disabled")&&At.test(this.nodeName)&&!Pt.test(e)&&(this.checked||!we.test(e))}).map(function(e,t){var n=E(this).val();return null==n?null:Array.isArray(n)?E.map(n,function(e){return{name:t.name,value:e.replace(Ct,"\r\n")}}):{name:t.name,value:n.replace(Ct,"\r\n")}}).get()}});var Lt=/%20/g,It=/#.*$/,Mt=/([?&])_=[^&]*/,jt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Rt=/^(?:GET|HEAD)$/,Dt=/^\/\//,Ft={},Nt={},Bt="*/".concat("*"),zt=x.createElement("a");function Ut(r){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,i=0,o=e.toLowerCase().match(S)||[];if(y(t))for(;n=o[i++];)"+"===n[0]?(n=n.slice(1)||"*",(r[n]=r[n]||[]).unshift(t)):(r[n]=r[n]||[]).push(t)}}function Ht(t,i,o,r){var a={},s=t===Nt;function l(e){var n;return a[e]=!0,E.each(t[e]||[],function(e,t){t=t(i,o,r);return"string"!=typeof t||s||a[t]?s?!(n=t):void 0:(i.dataTypes.unshift(t),l(t),!1)}),n}return l(i.dataTypes[0])||!a["*"]&&l("*")}function qt(e,t){var n,i,o=E.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:i=i||{})[n]=t[n]);return i&&E.extend(!0,e,i),e}zt.href=St.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:St.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(St.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?qt(qt(e,E.ajaxSettings),t):qt(E.ajaxSettings,e)},ajaxPrefilter:Ut(Ft),ajaxTransport:Ut(Nt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0);var l,c,u,n,d,p,f,i,h=E.ajaxSetup({},t=t||{}),g=h.context||h,m=h.context&&(g.nodeType||g.jquery)?E(g):E.event,v=E.Deferred(),y=E.Callbacks("once memory"),_=h.statusCode||{},o={},r={},a="canceled",b={readyState:0,getResponseHeader:function(e){var t;if(p){if(!n)for(n={};t=jt.exec(u);)n[t[1].toLowerCase()]=t[2];t=n[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return p?u:null},setRequestHeader:function(e,t){return null==p&&(e=r[e.toLowerCase()]=r[e.toLowerCase()]||e,o[e]=t),this},overrideMimeType:function(e){return null==p&&(h.mimeType=e),this},statusCode:function(e){if(e)if(p)b.always(e[b.status]);else for(var t in e)_[t]=[_[t],e[t]];return this},abort:function(e){e=e||a;return l&&l.abort(e),s(0,e),this}};if(v.promise(b),h.url=((e||h.url||St.href)+"").replace(Dt,St.protocol+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(S)||[""],null==h.crossDomain){e=x.createElement("a");try{e.href=h.url,e.href=e.href,h.crossDomain=zt.protocol+"//"+zt.host!=e.protocol+"//"+e.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=E.param(h.data,h.traditional)),Ht(Ft,h,t,b),!p){for(i in(f=E.event&&h.global)&&0==E.active++&&E.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Rt.test(h.type),c=h.url.replace(It,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Lt,"+")):(e=h.url.slice(c.length),h.data&&(h.processData||"string"==typeof h.data)&&(c+=(Ot.test(c)?"&":"?")+h.data,delete h.data),!1===h.cache&&(c=c.replace(Mt,"$1"),e=(Ot.test(c)?"&":"?")+"_="+kt+++e),h.url=c+e),h.ifModified&&(E.lastModified[c]&&b.setRequestHeader("If-Modified-Since",E.lastModified[c]),E.etag[c])&&b.setRequestHeader("If-None-Match",E.etag[c]),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&b.setRequestHeader("Content-Type",h.contentType),b.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Bt+"; q=0.01":""):h.accepts["*"]),h.headers)b.setRequestHeader(i,h.headers[i]);if(h.beforeSend&&(!1===h.beforeSend.call(g,b,h)||p))return b.abort();if(a="abort",y.add(h.complete),b.done(h.success),b.fail(h.error),l=Ht(Nt,h,t,b)){if(b.readyState=1,f&&m.trigger("ajaxSend",[b,h]),p)return b;h.async&&0<h.timeout&&(d=w.setTimeout(function(){b.abort("timeout")},h.timeout));try{p=!1,l.send(o,s)}catch(e){if(p)throw e;s(-1,e)}}else s(-1,"No Transport")}return b;function s(e,t,n,i){var o,r,a,s=t;p||(p=!0,d&&w.clearTimeout(d),l=void 0,u=i||"",b.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(a=function(e,t,n){for(var i,o,r,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(o in s)if(s[o]&&s[o].test(i)){l.unshift(o);break}if(l[0]in n)r=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){r=o;break}a=a||o}r=r||a}if(r)return r!==l[0]&&l.unshift(r),n[r]}(h,b,n)),a=function(e,t,n,i){var o,r,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(r=u.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(a=c[l+" "+r]||c["* "+r]))for(o in c)if((s=o.split(" "))[1]===r&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[o]:!0!==c[o]&&(r=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}(h,a,b,i),i?(h.ifModified&&((n=b.getResponseHeader("Last-Modified"))&&(E.lastModified[c]=n),n=b.getResponseHeader("etag"))&&(E.etag[c]=n),204===e||"HEAD"===h.type?s="nocontent":304===e?s="notmodified":(s=a.state,o=a.data,i=!(r=a.error))):(r=s,!e&&s||(s="error",e<0&&(e=0))),b.status=e,b.statusText=(t||s)+"",i?v.resolveWith(g,[o,s,b]):v.rejectWith(g,[b,s,r]),b.statusCode(_),_=void 0,f&&m.trigger(i?"ajaxSuccess":"ajaxError",[b,h,i?o:r]),y.fireWith(g,[b,s]),f&&(m.trigger("ajaxComplete",[b,h]),--E.active||E.event.trigger("ajaxStop")))}},getJSON:function(e,t,n){return E.get(e,t,n,"json")},getScript:function(e,t){return E.get(e,void 0,t,"script")}}),E.each(["get","post"],function(e,o){E[o]=function(e,t,n,i){return y(t)&&(i=i||n,n=t,t=void 0),E.ajax(E.extend({url:e,type:o,dataType:i,data:t,success:n},E.isPlainObject(e)&&e))}}),E._evalUrl=function(e){return E.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},E.fn.extend({wrapAll:function(e){return this[0]&&(y(e)&&(e=e.call(this[0])),e=E(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return y(n)?this.each(function(e){E(this).wrapInner(n.call(this,e))}):this.each(function(){var e=E(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=y(t);return this.each(function(e){E(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){E(this).replaceWith(this.childNodes)}),this}}),E.expr.pseudos.hidden=function(e){return!E.expr.pseudos.visible(e)},E.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new w.XMLHttpRequest}catch(e){}};var Wt={0:200,1223:204},Vt=E.ajaxSettings.xhr(),Gt=(m.cors=!!Vt&&"withCredentials"in Vt,m.ajax=Vt=!!Vt,E.ajaxTransport(function(o){var r,a;if(m.cors||Vt&&!o.crossDomain)return{send:function(e,t){var n,i=o.xhr();if(i.open(o.type,o.url,o.async,o.username,o.password),o.xhrFields)for(n in o.xhrFields)i[n]=o.xhrFields[n];for(n in o.mimeType&&i.overrideMimeType&&i.overrideMimeType(o.mimeType),o.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)i.setRequestHeader(n,e[n]);r=function(e){return function(){r&&(r=a=i.onload=i.onerror=i.onabort=i.ontimeout=i.onreadystatechange=null,"abort"===e?i.abort():"error"===e?"number"!=typeof i.status?t(0,"error"):t(i.status,i.statusText):t(Wt[i.status]||i.status,i.statusText,"text"!==(i.responseType||"text")||"string"!=typeof i.responseText?{binary:i.response}:{text:i.responseText},i.getAllResponseHeaders()))}},i.onload=r(),a=i.onerror=i.ontimeout=r("error"),void 0!==i.onabort?i.onabort=a:i.onreadystatechange=function(){4===i.readyState&&w.setTimeout(function(){r&&a()})},r=r("abort");try{i.send(o.hasContent&&o.data||null)}catch(e){if(r)throw e}},abort:function(){r&&r()}}}),E.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return E.globalEval(e),e}}}),E.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),E.ajaxTransport("script",function(n){var i,o;if(n.crossDomain)return{send:function(e,t){i=E("<script>").prop({charset:n.scriptCharset,src:n.url}).on("load error",o=function(e){i.remove(),o=null,e&&t("error"===e.type?404:200,e.type)}),x.head.appendChild(i[0])},abort:function(){o&&o()}}}),[]),Yt=/(=)\?(?=&|$)|\?\?/,Xt=(E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Gt.pop()||E.expando+"_"+kt++;return this[e]=!0,e}}),E.ajaxPrefilter("json jsonp",function(e,t,n){var i,o,r,a=!1!==e.jsonp&&(Yt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Yt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Yt,"$1"+i):!1!==e.jsonp&&(e.url+=(Ot.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return r||E.error(i+" was not called"),r[0]},e.dataTypes[0]="json",o=w[i],w[i]=function(){r=arguments},n.always(function(){void 0===o?E(w).removeProp(i):w[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,Gt.push(i)),r&&y(o)&&o(r[0]),r=o=void 0}),"script"}),m.createHTMLDocument=((e=x.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===e.childNodes.length),E.parseHTML=function(e,t,n){var i;return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(m.createHTMLDocument?((i=(t=x.implementation.createHTMLDocument("")).createElement("base")).href=x.location.href,t.head.appendChild(i)):t=x),i=!n&&[],(n=$.exec(e))?[t.createElement(n[1])]:(n=Oe([e],t,i),i&&i.length&&E(i).remove(),E.merge([],n.childNodes)))},E.fn.load=function(e,t,n){var i,o,r,a=this,s=e.indexOf(" ");return-1<s&&(i=j(e.slice(s)),e=e.slice(0,s)),y(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),0<a.length&&E.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){r=arguments,a.html(i?E("<div>").append(E.parseHTML(e)).find(i):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,r||[e.responseText,t,e])})}),this},E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){E.fn[t]=function(e){return this.on(t,e)}}),E.expr.pseudos.animated=function(t){return E.grep(E.timers,function(e){return t===e.elem}).length},E.offset={setOffset:function(e,t,n){var i,o,r,a,s=E.css(e,"position"),l=E(e),c={};"static"===s&&(e.style.position="relative"),r=l.offset(),i=E.css(e,"top"),a=E.css(e,"left"),s=("absolute"===s||"fixed"===s)&&-1<(i+a).indexOf("auto")?(o=(s=l.position()).top,s.left):(o=parseFloat(i)||0,parseFloat(a)||0),null!=(t=y(t)?t.call(e,n,E.extend({},r)):t).top&&(c.top=t.top-r.top+o),null!=t.left&&(c.left=t.left-r.left+s),"using"in t?t.using.call(e,c):l.css(c)}},E.fn.extend({offset:function(t){var e,n;return arguments.length?void 0===t?this:this.each(function(e){E.offset.setOffset(this,t,e)}):(n=this[0])?n.getClientRects().length?(e=n.getBoundingClientRect(),n=n.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],o={top:0,left:0};if("fixed"===E.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===E.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((o=E(e).offset()).top+=E.css(e,"borderTopWidth",!0),o.left+=E.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-E.css(i,"marginTop",!0),left:t.left-o.left-E.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===E.css(e,"position");)e=e.offsetParent;return e||Te})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,o){var r="pageYOffset"===o;E.fn[t]=function(e){return d(this,function(e,t,n){var i;if(g(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===n)return i?i[o]:e[t];i?i.scrollTo(r?i.pageXOffset:n,r?n:i.pageYOffset):e[t]=n},t,e,arguments.length)}}),E.each(["top","left"],function(e,n){E.cssHooks[n]=Je(m.pixelPosition,function(e,t){if(t)return t=P(e,n),Ke.test(t)?E(e).position()[n]+"px":t})}),E.each({Height:"height",Width:"width"},function(a,s){E.each({padding:"inner"+a,content:s,"":"outer"+a},function(i,r){E.fn[r]=function(e,t){var n=arguments.length&&(i||"boolean"!=typeof e),o=i||(!0===e||!0===t?"margin":"border");return d(this,function(e,t,n){var i;return g(e)?0===r.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+a],i["scroll"+a],e.body["offset"+a],i["offset"+a],i["client"+a])):void 0===n?E.css(e,t,o):E.style(e,t,n,o)},s,n?e:void 0,n)}})}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){E.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),E.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),E.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),E.proxy=function(e,t){var n,i;if("string"==typeof t&&(i=e[t],t=e,e=i),y(e))return n=s.call(arguments,2),(i=function(){return e.apply(t||this,n.concat(s.call(arguments)))}).guid=e.guid=e.guid||E.guid++,i},E.holdReady=function(e){e?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=l,E.isFunction=y,E.isWindow=g,E.camelCase=_,E.type=h,E.now=Date.now,E.isNumeric=function(e){var t=E.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},void 0!==($t=function(){return E}.apply(Qt,[]))&&(Kt.exports=$t),w.jQuery),Zt=w.$;return E.noConflict=function(e){return w.$===E&&(w.$=Zt),e&&w.jQuery===E&&(w.jQuery=Xt),E},D||(w.jQuery=w.$=E),E})},function(e,n,i){"use strict";!function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.SocialAuthPopup=void 0;var r=i(10),e=i(29),a=i(53);function u(){var t=this;this.eventEmitter=new e.ILoveEventEmitter,this.dispatchEvent=function(e){return t.eventEmitter.dispatchEvent(e)}}u.open=function(e,t,n){void 0===t&&(t={});function s(){window.ilove_socialAuthPopupStatus;var e=window.ilove_socialAuthPopupNewUser;window.ilove_socialAuthPopupOpened=!1,window.ilove_socialAuthPopupStatus=void 0,window.ilove_socialAuthPopupNewUser=void 0,l.popupInterval=null,l.onPopupClosed(e,n),l.popup=null}var l=u.instance,t=(l.popup&&(clearInterval(l.popupInterval),l.popupInterval=null,l.popup.close(),l.popup=null),l.mergeWindowFeatureProps(t,!0)),e="/auth/auth?authclient="+String(e),c=(l.popup=window.open(e,"social_auth_popup",t),l.popup);window.ilove_socialAuthPopupStatus=void 0,window.ilove_socialAuthPopupOpened=!0;return new Promise(function(r,a){l.popupInterval=setInterval(function(){var e,t=l.popup&&!l.popup.closed,n=!1;try{var i=l.popup.location.hostname,o=null!==l.popup.location.href.match("social-login-redirect"),n=i===window.location.hostname&&!o}catch(e){}t&&c===l.popup&&!n||(clearInterval(l.popupInterval),n?e=setInterval(function(){l.popup.addEventListener&&(clearInterval(e),l.popup.addEventListener("DOMContentLoaded",function(){var e=null==(e=null==(e=l.popup)?void 0:e.document)?void 0:e.body,e=(e.style.display="none",Array.from(e.querySelectorAll(".flash")).map(function(e){return e.innerText}));l.popup.close(),s(),a({errors:e})}))}):(s(),r({})))})})},u.focusWindow=function(){var e;null!=(e=u.instance.popup)&&e.focus()},u.closeWindow=function(){var e;null!=(e=u.instance.popup)&&e.close()},u.prototype.onPopupClosed=function(n,e){var i=this,o=null!=(e=null==e?void 0:e.getAttribute(u.runningFromAttr))?e:"auth";n&&a.UserAuth.sendGA_registered(o),t.get("/login").done(function(e){i.userAuth=new a.UserAuth({runningFrom:o}),i.userAuth.loginSuccess(e);var e={socialAuth_isNewUser:n},t=new CustomEvent("userAuth",{detail:e});window.dispatchEvent(t),i.dispatchEvent(new r.IloveEvent("auth:success",e))}).fail(function(e,t,n){})},Object.defineProperty(u,"instance",{get:function(){return window.ilove_socialAuthPopupInstance||(window.ilove_socialAuthPopupInstance=new u),window.ilove_socialAuthPopupInstance},enumerable:!1,configurable:!0}),u.prototype.mergeWindowFeatureProps=function(e,t){void 0===t&&(t=!1);var n=Object.assign({resizable:"yes",scrollbars:"no",toolbar:"no",menubar:"no",location:"no",directories:"no",status:"yes",width:450,height:380,left:null,top:null},e);if(n.left=(window.innerWidth-n.width)/2,n.top=(window.innerHeight-n.height)/2,t){var i,o=[];for(i in n)n.hasOwnProperty(i)&&o.push(i+"="+n[i]);return o.join(",")}return n},u.runningFromAttr="data-running-from",u.addEventListener=function(e,t){return u.instance.eventEmitter.addEventListener(e,t)},n.SocialAuthPopup=u}.call(this,i(1))},function(e,n,r){"use strict";!function(a){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),e=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},t=(Object.defineProperty(n,"__esModule",{value:!0}),n.Banner=void 0,e(r(23)));function s(){}s.preventClickAds=function(){s.preventClick("ad"),s.preventClick("adsq")},s.sendEvent=function(e){return function(){return t.captureMessage(e)}},s.preventClick=function(e){void 0===e&&(e="ad");var t=document.getElementById(e),n=(a(window).width(),"prvnt"+e),i=1100,o="ac";if(document.body.classList.contains("download")&&(i=500),"adsq"==e&&(o="acsq"),null==document.getElementById(n)&&t&&0!=t.getBoundingClientRect().height){t.style.position="relative";var r=document.createElement("div");r.setAttribute("id",n),r.style.position="absolute",r.style.top="0px",r.style.left="0px",r.style.width=t.getBoundingClientRect().width+"px",r.style.height=t.getBoundingClientRect().height+"px",r.style.zIndex="9",r.style.background="hsl(0,0%,100%,.01)",r.addEventListener("click",s.sendEvent(o));try{t.prepend(r)}catch(e){t.appendChild(r)}window.setTimeout(function(){r.removeEventListener("click",s.sendEvent(o)),r.remove()},i)}},n.Banner=s}.call(this,r(1))},function(e,n,r){"use strict";!function(i){Object.defineProperty(n,"__esModule",{value:!0}),n.Limits=n.REASON=void 0;var s,c=r(21),l=r(13),o=r(33),e=((e=s=n.REASON||(n.REASON={})).ERROR_FEATURE="this feature is for premium only",e.ERROR_SIZE="file size too big",e.ERROR_FILES="too much files",e.ERROR_EXTENSION="invalid filetype",e.ERROR_PAGES="too much pages",e.ERROR_PXSIZE="file pixels too big",t.prototype.getTool=function(){return this.concreteTool||(this.tool==this.subtool?this.tool:-1!==this.tool.indexOf("image")&&-1===this.subtool.indexOf("image")?this.tool.replace("image",this.subtool):this.subtool)},t.prototype.addIgnoredFile=function(e){this.ignored.push(e)},t.prototype.getIgnoredFiles=function(){return this.ignored},t.prototype.getLimitedFiles=function(){return this.files.limited},t.prototype.getLimitedFilenames=function(){var t=this,e=this.getLimitedFiles(),n=[];return e.forEach(function(e){var e=t.files.getFile(e);e&&(e=e.name.substring(0,20)+(20<e.name.length?"...":""),n.push(e))}),n},t.prototype.isIgnored=function(e){return-1!=this.ignored.indexOf(e)},t.prototype.isLimited=function(e){return-1!==this.files.limited.indexOf(e)},t.prototype.setFileLimits=function(){var n,i,o,r,a=this,e=(this.fileLimits=window.ilovepdfConfig.fileLimits,c.UserModel.get());e&&1==e.premium&&(this.fileLimits=e.limits),this.files.resetLimitedFiles(),this.checkHasLimits()&&(o=i=n=0,r=!1,this.files.files.forEach(function(e){var t;!1===r?(n++,e.size&&(i+=parseInt(e.size)),e.file&&e.file.numPages&&(o+=e.file.numPages),t=e.width*e.height,null!==a.checkFileLimits(i,n,o,t)&&(r=!0,a.files.limitFile(e.id))):a.files.limitFile(e.id)}))},t.prototype.checkFileLimits=function(e,t,n,i){void 0===t&&(t=null),void 0===n&&(n=null),void 0===i&&(i=null),e=(e=void 0===e?null:e)||this.files.getFileSizeNotIgnored(),t=t||this.files.countNotIgnored(),n=n||this.files.getFilePagesNotIgnored(),i=i||this.files.getFilePxsizeNotIgnored(),this.fileLimits=window.ilovepdfConfig.fileLimits;var o,r,a,s,l=c.UserModel.get();if(l&&1==l.premium&&(this.fileLimits=l.limits),this.checkHasLimits()){if(null!==(o=this.checkSizeLimit(e))&&this.hasSurpasedLimits(o))return o;if(null!==(r=this.checkPagesLimit(n))&&this.hasSurpasedLimits(r))return r;if(null!==(a=this.checkFilesLimit(t))&&this.hasSurpasedLimits(a))return a;if(null!==(s=this.checkPxsizeLimit(i))&&this.hasSurpasedLimits(s))return s}return o||r||a||s||null},t.prototype.resetEventSent=function(){this.eventSent=!1},t.prototype.checkHasLimits=function(e){return void 0===e&&(e=null),this.fileLimits[this.concreteTool]?null==e||this.fileLimits[this.concreteTool].hasOwnProperty(e):null},t.prototype.checkSizeLimit=function(e){return(e=(e=void 0===e?null:e)||this.files.getFileSizeNotIgnored())>1024*parseInt(this.fileLimits[this.concreteTool].mb)*1024?(e=Math.floor(e/1024/1024),!0!==this.eventSent&&0==i(".download").length&&(this.eventSent=!0,window.ev("sendOnce","event","limits","filesize-exceeded",this.concreteTool,e),window.ev("eventOnce","limit",{reason:"filesize",tool:this.concreteTool,quantity:e})),s.ERROR_SIZE):null},t.prototype.checkFilesLimit=function(e){return(e=(e=void 0===e?null:e)||this.files.countNotIgnored())>this.fileLimits[this.concreteTool].files?(!0!==this.eventSent&&0==i(".download").length&&(this.eventSent=!0,window.ev)&&(window.ev("sendOnce","event","limits","filenumber-exceeded",this.concreteTool,e),window.ev("eventOnce","limit",{reason:"filenumber",tool:this.concreteTool,quantity:e})),s.ERROR_FILES):null},t.prototype.checkPagesLimit=function(e){return e=(e=void 0===e?null:e)||this.files.getFilePagesNotIgnored(),this.fileLimits[this.concreteTool].pages&&e>this.fileLimits[this.concreteTool].pages?(!0!==this.eventSent&&0==i(".download").length&&(this.eventSent=!0,window.ev("sendOnce","event","limits","pages-exceeded",this.concreteTool,e),window.ev("eventOnce","limit",{reason:"pages",tool:this.concreteTool,quantity:e})),s.ERROR_PAGES):null},t.prototype.checkPxsizeLimit=function(e){return e=e||this.files.getFilePxsizeNotIgnored(),this.fileLimits[this.concreteTool].pxsize&&e>this.fileLimits[this.concreteTool].pxsize?(!0!==this.eventSent&&0==i(".download").length&&(this.eventSent=!0,window.ev("sendOnce","event","limits","pxsize-exceeded",this.concreteTool,e),window.ev("eventOnce","limit",{reason:"pxsize",tool:this.concreteTool,quantity:e})),s.ERROR_PXSIZE):null},t.prototype.findNextLevelLimit=function(e,t,n){for(var i in this.allFileLimits)if(this.allFileLimits.hasOwnProperty(i)){var o=this.allFileLimits[i];if(o.hasOwnProperty(e)){o=o[e];if(o.hasOwnProperty(t)&&o[t]>=n)return i}}return!1},t.prototype.getPremiumLimitByTool=function(e,t){return this.allFileLimits.premium_limits[e][t]},t.prototype.getLevelLimit=function(e,t,n){return 0==n&&(n=this.LEVEL_PREMIUM),this.allFileLimits[n][e][t]},t.prototype.makeErrorData=function(e,t,n,i,o){var r=this;function a(e,t){return 1==e?"files"==t?l.Lang.t("1 file"):l.Lang.t("1 mb"):("mb"==t&&1e3<=e&&(e/=1e3,t="Gb"),l.Lang.t("${limit} "+t.toLowerCase(),{limit:e}))}function s(e){return e==r.LEVEL_REGISTERED?l.Lang.t("registeredLevel"):e==r.LEVEL_PREMIUM?l.Lang.t("premiumLevel"):l.Lang.t("publicLevel")}return{currentLimit:a(t,e),currentLevel:s(n).ucFirst(),nextLimit:a(i,e),nextLevel:s(o).ucFirst()}},t.prototype.getLimitData=function(e,t){return 1==e?"files"==t?l.Lang.t("1 file"):"pages"==t?l.Lang.t("1 page"):l.Lang.t("1 mb"):("mb"==t&&1e3<=e&&(e/=1e3,t="Gb"),l.Lang.t("${limit} "+t.toLowerCase(),{limit:e}))},t.prototype.limitErrorText=function(e){return l.Lang.t("limitTaskMsg",e)},t.prototype.setLimit=function(e){this.err=e;var t,n=this.getNextLimit(e);return 0==n.nextLevel?(t=this.getPremiumLimitByTool(this.concreteTool,n.name),0==i("#superlimit").length&&(e=o.Tools.modalView({id:"superlimit",title:"",content:""}),(e=i(e)).find(".modal-dialog").addClass("modal-dialog-centered"),e.appendTo(i("body"))),setTimeout(function(){"files"==n.name?(i("#superlimit .modal-title").html(l.Lang.t("File number exceeded")),i("#superlimit .modal-body").html(l.Lang.t("Sorry, we are not ready for that.")+"<br>\n                         \x3c!--"+l.Lang.t("limitFiles",{files:t})+"<br>--\x3e\n                         "+l.Lang.t("superlimitWhoa")+"<br>\n                         "+l.Lang.t("superlimitDownload"))):(i("#superlimit .modal-title").html(l.Lang.t("File size exceeded")),i("#superlimit .modal-body").html(l.Lang.t("Sorry, we are not ready for that.")+"<br>\n                         \x3c!--"+l.Lang.t("limitMb",{mb:t})+"<br>--\x3e\n                         "+l.Lang.t("superlimitWhoa")+"<br>\n                         "+l.Lang.t("superlimitDownload"))),i("#superlimit").modal("toggle")},500),null):n.nextLevel==this.LEVEL_PUBLIC?null:{limitName:n.name,limitValue:n.currentValue,nextLevelLimit:n.nextLevel,nextLimit:n.nextValue}},t.prototype.getCurrentLimitsLevel=function(){var e=this.LEVEL_PUBLIC;return e=c.UserModel.isUser()&&(e=this.LEVEL_REGISTERED,c.UserModel.isPremium())?this.LEVEL_PREMIUM:e},t.prototype.getLimitTexts=function(){var e,t,n=this.checkFileLimits(),i=[this.fileLimits[this.getTool()],this.allFileLimits.premium_limits[this.getTool()]],o=i[0],r=i[1],a=null;switch(n){case s.ERROR_FILES:e=l.Lang.t("limitFree")+" "+l.Lang.t("limitFiles",{n:o.files}),t=l.Lang.t("limitPremium")+" "+l.Lang.t("limitFiles",{n:r.files}),a="files";break;case s.ERROR_SIZE:e=l.Lang.t("limitFree")+" "+l.Lang.t("limitSize",{n:o.mb}),t=l.Lang.t("limitPremium")+" "+l.Lang.t("limitSize",{n:r.mb}),a="size";break;case s.ERROR_PAGES:e=l.Lang.t("limitFree")+" "+l.Lang.t("limitPages",{n:o.pages}),t=l.Lang.t("limitPremium")+" "+l.Lang.t("limitPages",{n:r.pages}),a="pages";break;case s.ERROR_PXSIZE:e=l.Lang.t("limitFree")+" "+l.Lang.t("limitPxsize",{n:o.pxsize}),t=l.Lang.t("limitPremium")+" "+l.Lang.t("limitPxsize",{n:r.pxsize}),a="pxsize"}return{current:e,premium:t,limit:a}},t.prototype.getNextLimit=function(e,t){var n,i;switch(null==(t=void 0===t?null:t)&&(t=this.getTool()),e){case s.ERROR_SIZE:n="mb",i=this.files.getFileSizeNotIgnored()/1024/1024;break;case s.ERROR_FILES:n="files",i=this.files.countNotIgnored();break;case s.ERROR_PAGES:n="pages",i=this.files.getFilePagesNotIgnored();break;case s.ERROR_PXSIZE:n="pxsize",i=this.files.getFilePxsizeNotIgnored()}return{name:n,currentValue:i,nextValue:0!=(e=this.findNextLevelLimit(t,n,i))&&this.getLevelLimit(t,n,e),nextLevel:e}},t.prototype.getNextLevelLimit=function(e){return this.getNextLimit(e).nextLevel},t.prototype.hasSurpasedLimits=function(e){return!1===this.getNextLevelLimit(e)},t.prototype.sendEventLimitsChanged=function(){var e=new CustomEvent("limitsChanged");window.dispatchEvent(e)},t.prototype.canContinueWithoutPremium=function(){for(var e=!0,t=0;t<this.minFiles;t++)1==this.files.files[t].limited&&(e=!1);return e},t);function t(e){this.minFiles=1,this.LEVEL_PREMIUM="premium_limits",this.LEVEL_REGISTERED="registered_limits",this.LEVEL_PUBLIC="limits",this.err=null,this.files=null,this.fileLimits=null,this.allFileLimits=null,this.tool=null,this.subtool=null,this.ignored=[],this.userLevel="public",Object.assign(this,e),this.concreteTool=this.getTool()}n.Limits=e}.call(this,r(1))},function(e,u,d){"use strict";!function(i){var o,e,t=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=(Object.defineProperty(u,"__esModule",{value:!0}),u.AbstractAuthState=void 0,d(53)),n=d(18),c=d(75),a=d(10),s=d(33),n=(e=n.StateBase,t(l,e),l.prototype.initAbstractAuth=function(){var t,n=this;this.abstractAuthInited||(t=this.domStateRoot,this.ELEMENTS_TO_HIDE_IN_TEMPLATE.forEach(function(e){return n.hideHtmlElement(t,e)}),this.setSocialAuthLinkContextPlacement(),c.SocialAuthPopup.addEventListener("auth:success",this._onSocialAuthSuccess),this.userAuth=new r.UserAuth({onLoginSucess:this._abstractOnLoginSuccess,onRegisterSuccess:this._abstractOnRegisterSuccess,onLoginError:this._abstractOnLoginError,onRegisterError:this._abstractOnRegisterError,runningFrom:"dialog"===this.ctx.getContextPlacement()?"popup":"auth"}),this.setUserTimeZoneInCookie(),this.initOverrideFormActions(),this.init2FactorAuth(),this.abstractAuthInited=!0)},l.prototype.showFlashMessage=function(e){var t=document.createElement("div");t.classList.add("flash"),t.innerText=e,this.currentScreen.querySelector(".social-auth").appendChild(t)},l.prototype.clearFlashMessage=function(){this.domStateRoot.querySelectorAll(".flash").forEach(function(e){return e.remove()})},Object.defineProperty(l.prototype,"extraLoginParams",{set:function(e){(this._extraLoginParams=e)||(this.userAuth.extraLoginParams=null);var t,n=[];for(t in e)n.push({name:t,value:e[t]});this.userAuth.extraLoginParams=n},enumerable:!1,configurable:!0}),l.prototype.initOverrideFormActions=function(){var t=this,e=this.domRoot;e.querySelectorAll("form").forEach(function(e){e.addEventListener("submit",function(e){e.preventDefault(),t.clearFlashMessage()})}),e.querySelectorAll("a").forEach(function(e){e.getAttribute("href").startsWith("javascript")||(e.setAttribute("data-a-href",e.href),e.href="javascript:;")}),this.goRegisterScreenBtn.addEventListener("click",function(e){return t.changeScreen("register")}),this.goLoginScreenBtn.addEventListener("click",function(e){return t.changeScreen("login")}),this.goForgetPasswordBtn.addEventListener("click",function(e){return t.changeScreen("reset")}),this.goBackFromResetScreenBtn.addEventListener("click",function(e){return t.changeScreen("login")}),this.okResetSuccessBtn.addEventListener("click",function(e){return t.dispatchEvent(new a.IloveEvent("end"))}),this.redefineActionsForLoginScreen(),this.redefineActionsForRegisterScreen(),this.redefineActionsForResetScreen()},Object.defineProperty(l.prototype,"goBackFromResetScreenBtn",{get:function(){var e=this.domRoot.querySelector("#goBackReset");if(e)return e;throw"'Go back from reset screen' button not found"},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"okResetSuccessBtn",{get:function(){var e=this.domRoot.querySelector("#resetSuccessBtn");if(e)return e;throw"'OkResetSuccessBtn' button not found"},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"goRegisterScreenBtn",{get:function(){var e=this.domRoot.querySelector("#goRegister");if(e)return e;throw"'Go register screen' button not found"},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"goLoginScreenBtn",{get:function(){var e=this.domRoot.querySelector("#goLogin");if(e)return e;throw"'Go login screen' button not found"},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"goForgetPasswordBtn",{get:function(){var e=this.domRoot.querySelector("#forget-password");if(e)return e;throw"'Go forget password screen' button not found"},enumerable:!1,configurable:!0}),l.prototype.redefineActionsForLoginScreen=function(){this.domRoot.querySelector('[data-screen="login"]').querySelector("form").addEventListener("submit",this._abstractOnLoginSubmit)},l.prototype.redefineActionsForResetScreen=function(){var e=this,t=this.domRoot.querySelector('[data-screen="reset"]'),t=(t.querySelector("form").addEventListener("submit",this._abstractOnResetSubmit),t.querySelector("form #userpasswordresetform-email"));if(!t)throw"Reset password email input not found";t.addEventListener("input",function(){return e.resetPasswordErrorDom.innerHTML=""})},Object.defineProperty(l.prototype,"resetPasswordErrorDom",{get:function(){var e=this.domStateRoot.querySelector("[data-screen='reset'] span.error");if(e)return e;throw"Error div not found"},enumerable:!1,configurable:!0}),l.prototype.redefineActionsForRegisterScreen=function(){var e=this.domRoot.querySelector('[data-screen="register"]').querySelector("form"),t=e.querySelector("#signupform-timezone"),n=s.Tools.getBrowserTimezone();"UTC"!==n&&(t.value=n),e.addEventListener("submit",this._abstractOnRegisterSubmit)},l.prototype.hideHtmlElement=function(e,t){e.querySelectorAll(t).forEach(function(e){e.style.display="none"})},l.prototype.dispatchEvent=function(e){return this.eventEmitter.dispatchEvent(e)},l.prototype.addEventListener=function(e,t){return this.eventEmitter.addEventListener(e,t)},l.prototype.init2FactorAuth=function(){this.domRoot.querySelector(".field-loginform-google_authenticator_code").style.display="none"},l.prototype.check2FactorError=function(e){"gacIsEmpty"==e&&(this.domRoot.querySelector(".field-loginform-google_authenticator_code").style.display="block",this.domRoot.querySelector(".field-loginEmail").style.display="none",this.domRoot.querySelector(".field-inputPasswordAuth").style.display="none")},l);function l(){var l=null!==e&&e.apply(this,arguments)||this;return l.abstractAuthInited=!1,l.INITIAL_SCREEN="register",l.ELEMENTS_TO_HIDE_IN_TEMPLATE=[".form__title",".brand"],l.setUserTimeZoneInCookie=function(){var e=s.Tools.getBrowserTimezone();"UTC"!==e&&window.Cookies.set("auth_tz",e)},l._onSocialAuthSuccess=function(e){!0===e.detail.socialAuth_isNewUser?l._abstractOnRegisterSuccess({from_auth_social_login:!0}):l._abstractOnLoginSuccess({from_auth_social_login:!0})},l.setSocialAuthLinkContextPlacement=function(){var e=l.domRoot.querySelectorAll(".auth-link"),a="dialog"===l.ctx.getContextPlacement()?"popup":"auth",s=c.SocialAuthPopup.runningFromAttr;e.forEach(function(n){n.setAttribute(s,a),n.removeAttribute("onclick"),n.removeAttribute("href");var i=n.getAttribute("data-provider"),e=l.t("social_provider_"+i),t=n.getAttribute("data-auth-action"),o=l.t("login"===t?"backdrop_social_signin_title":"backdrop_social_signup_title",{social_provider:e}),r=l.t("backdrop_social_subtitle");n.addEventListener("click",function(){var e=l.domStateRoot.querySelector(".auth-screens__backdrop--social"),t=document.createElement("div");t.innerHTML=e.innerHTML,l.showBackdrop(t,o,r),l.setBackdropCallback(function(){c.SocialAuthPopup.focusWindow()},function(){c.SocialAuthPopup.closeWindow(),l.clearBackdrop()}),c.SocialAuthPopup.open(i,{},n).then(l.clearBackdrop,function(e){l.clearBackdrop(),e.errors&&l.showFlashMessage(e.errors[0])})})})},l.clearInputs=function(){l.domStateRoot.querySelectorAll("input").forEach(function(e){return e.value=""})},l._abstractOnResetSubmit=function(e){var t=l.domRoot.querySelector('[data-screen="reset"] form'),t=i(t).serializeArray();l.showLoadingScreen(),l.userAuth.sendResetPasswordEmail(t).then(function(e){var t=l.domStateRoot.querySelector(".reset-password-success-msg");if(!t)throw"'Reset password success' element not found";t.innerHTML=e.data.status_msg,l.changeScreen("reset-success"),l.clearLoadingScreen()},function(e){l.clearLoadingScreen();var t,n=null==(n=null==e?void 0:e.responseJSON)?void 0:n.data;throw null!=(t=null==n?void 0:n.errors)&&t.email?l.resetPasswordErrorDom.innerHTML=n.errors.email.join(","):l.resetPasswordErrorDom.innerHTML=null!=(t=null==(n=null==(t=null==e?void 0:e.responseJSON)?void 0:t.data)?void 0:n.status_msg)?t:"",e})},l._abstractOnLoginSubmit=function(e){var t=l.domRoot.querySelector('[data-screen="login"] form'),n=i(t).serializeArray();l.userAuth.extraLoginParams&&l.userAuth.extraLoginParams.forEach(function(e){n.push(e)}),l.showLoadingScreen(),l.userAuth.login(n)},l._abstractOnRegisterSubmit=function(e){var t=l.domRoot.querySelector('[data-screen="register"] form'),t=i(t).serializeArray();l.showLoadingScreen(),l.userAuth.register(t)},l._abstractOnLoginSuccess=function(e){l.clearLoadingScreen(),!0!==(null==e?void 0:e.from_auth_social_login)&&r.UserAuth.sendEventUserAuth(),l._onLoginSuccess(e),l.dispatchEvent(new a.IloveEvent("login:success"))},l._abstractOnRegisterSuccess=function(e){l.clearLoadingScreen(),!0!==(null==e?void 0:e.from_auth_social_login)&&r.UserAuth.sendEventUserAuth(),l._onRegisterSuccess(e),l.dispatchEvent(new a.IloveEvent("register:success"))},l._abstractOnLoginError=function(e){l.genericAuthErrorHandler(e)},l._abstractOnRegisterError=function(e){l.genericAuthErrorHandler(e)},l.genericAuthErrorHandler=function(e){l.clearLoadingScreen(),l.clearFlashMessage();var t=e.responseJSON;(t=t||"object"!=typeof e?t:e)&&(t=t[e=Object.keys(t)[0]][0],l.showFlashMessage(t),l.check2FactorError(e))},l}u.AbstractAuthState=n}.call(this,d(1))},function(e,n,t){"use strict";!function(t){function e(){}Object.defineProperty(n,"__esModule",{value:!0}),n.LinkTitle=void 0,e.disable=function(e){t(e).hover(function(){var e=t(this).attr("data-title");void 0!==e&&!1!==e||(e=t(this).attr("title"),t(this).attr("data-title",e)),t(this).attr("title","")},function(){var e=t(this).attr("data-title");t(this).attr("title",e)})},n.LinkTitle=e}.call(this,t(1))},function(e,t,n){"use strict";function i(){return window.navigator.mockUserAgent||window.navigator.userAgent}function o(){return!0===window.navigator.standalone||window.matchMedia("(display-mode: standalone)").matches}function r(e){return-1!==(e=void 0===e?i():e).indexOf("FBAN")||-1!==e.indexOf("FBAV")}function a(e){return void 0===e&&(e=i()),/FxiOS/i.test(e)}function s(e){return void 0===e&&(e=i()),/EdgiOS/i.test(e)}function l(e){return-1<(e=void 0===e?i():e).indexOf("Opera Mini")}function c(e){return void 0===e&&(e=i()),/Android/.test(e)}function u(e){return void 0===e&&(e=i()),/iPhone|iPod|iPad/.test(e)}function d(e){return void 0===e&&(e=i()),/\bGSA\b/.test(e)}function p(e){return void 0===e&&(e=i()),/QQBrowser/.test(e)}function f(e){return!!u(e=void 0===e?i():e)&&(!!d(e)||/.+AppleWebKit(?!.*Safari)/.test(e))}function h(e){return!!c(e=void 0===e?i():e)&&/Version\/[\d.]+/.test(e)&&!l(e)}function g(){var e=i();return/Macintosh.*AppleWebKit(?!.*Safari)/i.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.supportsPopups=t.isMacOsCna=t.isIEIntranet=t.isIECompHeader=t.isIE=t.isWebView=t.isAndroidWebview=t.isIosWebview=t.isQQBrowser=t.isGoogleSearchApp=t.isIos=t.isAndroid=t.isOperaMini=t.isEdgeIOS=t.isFirefoxIOS=t.isFacebookWebView=t.isStandAlone=t.isDevice=t.getUserAgent=void 0,t.getUserAgent=i,t.isDevice=function(){return!!i().match(/Android|webOS|iPhone|iPad|iPod|bada|Symbian|Palm|CriOS|BlackBerry|IEMobile|WindowsMobile|Opera Mini/i)},t.isStandAlone=o,t.isFacebookWebView=r,t.isFirefoxIOS=a,t.isEdgeIOS=s,t.isOperaMini=l,t.isAndroid=c,t.isIos=u,t.isGoogleSearchApp=d,t.isQQBrowser=p,t.isIosWebview=f,t.isAndroidWebview=h,t.isWebView=function(){return r()||f()||h()},t.isIE=function(){return!!window.document.documentMode||Boolean(window.navigator&&window.navigator.userAgent&&/Edge|MSIE/i.test(window.navigator.userAgent))},t.isIECompHeader=function(){var e=window.document.querySelector('meta[http-equiv="X-UA-Compatible"]'),t=window.document.querySelector('meta[content="IE=edge"]');return!(!e||!t)},t.isIEIntranet=function(){if(window.document.documentMode)try{var e=window.status;return(window.status="testIntranetMode")===window.status?(window.status=e,!0):!1}catch(e){}return!1},t.isMacOsCna=g,t.supportsPopups=function(e){return!(f(e=void 0===e?i():e)||h(e)||l(e)||a(e)||s(e)||r(e)||p(e)||g()||o())}},function(e,t){var n,i,e=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:r}catch(e){i=r}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return(n=setTimeout)(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}var s,l=[],c=!1,u=-1;function d(){c&&s&&(c=!1,s.length?l=s.concat(l):u=-1,l.length)&&p()}function p(){if(!c){for(var e=a(d),t=(c=!0,l.length);t;){for(s=l,l=[];++u<t;)s&&s[u].run();u=-1,t=l.length}s=null,c=!1,!function(t){if(i===clearTimeout)return clearTimeout(t);if((i===r||!i)&&clearTimeout)return(i=clearTimeout)(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function h(){}e.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new f(e,t)),1!==l.length||c||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=h,e.addListener=h,e.once=h,e.off=h,e.removeListener=h,e.removeAllListeners=h,e.emit=h,e.prependListener=h,e.prependOnceListener=h,e.listeners=function(e){return[]},e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},function(e,t,n){"use strict";var i;n.d(t,"a",function(){return i}),(n=i=i||{}).Ok="ok",n.Exited="exited",n.Crashed="crashed",n.Abnormal="abnormal"},function(e){e.exports=JSON.parse('{"development":{"service":"https://servicedev.ilovepdf.com","service_subdomain":"servicedev","web_prefix":"dev","api_sufix":"dev","stripe_key":"pk_test_3QB411Rie7QKjMhfSA0oiEOx","paypal_env":"sandbox","paypal_sandbox_key":"AZ1YHzR1wxJRRmfpqDHyoTwxfOwxB3UTlewVDk-1o6iZQX9SOCVHUpurugviVCowIPGCQ-SsTfbN8ubr","paypal_production_key":"AZRtaJu6iBHsygDFp5OMdCQabjEStco4pfXUdP1SnMGLnpLQdl84xBjXYIMyqY-6pyVKAj-muy5ZeMpv"},"staging":{"service":"https://servicestaging.ilovepdf.com","service_subdomain":"servicestaging","web_prefix":"staging","api_sufix":"dev","stripe_key":"pk_test_3QB411Rie7QKjMhfSA0oiEOx","stripe_key_api":"pk_test_mDCbsVuNmGS4QIePyxrnLexu","paypal_env":"sandbox","paypal_sandbox_key":"AZ1YHzR1wxJRRmfpqDHyoTwxfOwxB3UTlewVDk-1o6iZQX9SOCVHUpurugviVCowIPGCQ-SsTfbN8ubr","paypal_production_key":"AZRtaJu6iBHsygDFp5OMdCQabjEStco4pfXUdP1SnMGLnpLQdl84xBjXYIMyqY-6pyVKAj-muy5ZeMpv"},"production":{"service":"https://service.ilovepdf.com","service_subdomain":"service","web_prefix":"www","api_sufix":"","stripe_key":"pk_live_515AzAgBqa3pLeb3yKIZljNwrbjfrFpMsuvoEEZncp68ao0mQUKZgEY3Ddfh3JUMH4tIKBuFDsLt9Ot29l3d3KIey00O1gzlSiu","stripe_key_api":"pk_live_epWBEsOopGb3Oo75Y6YzAbTP","paypal_env":"production","paypal_sandbox_key":"AZ1YHzR1wxJRRmfpqDHyoTwxfOwxB3UTlewVDk-1o6iZQX9SOCVHUpurugviVCowIPGCQ-SsTfbN8ubr","paypal_production_key":"AZRtaJu6iBHsygDFp5OMdCQabjEStco4pfXUdP1SnMGLnpLQdl84xBjXYIMyqY-6pyVKAj-muy5ZeMpv"}}')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileStack=t.File=void 0;var i=n(13),n=(t.File=function(e){void 0===e&&(e={}),this.reUploaded=!1,this.server_filename=null,this.filename=null,this.rotate=null,this.password=null,this.file=null,this.elementArray=[],this.processed=!0,Object.assign(this,e),null!=this.filename&&(this.filename=this.filename.replace(/[\u00A0\u1680\u180e\u2000-\u2009\u200a\u200b\u202f\u205f\u3000\ufeff]/g," ").trim())},o.prototype.addFile=function(e){e=this.cleanName(e),this.files.push(e),this.onFileAdd()},o.prototype.getFile=function(t){return this.files.find(function(e){return e.id==t})},o.prototype.getFileIndex=function(t){return this.files.findIndex(function(e){return e.id==t})},o.prototype.swapFilesPositionsByIndex=function(e,t){var n;e!=t&&this.files[e]&&this.files[t]&&(n=[this.files[t],this.files[e]],this.files[e]=n[0],this.files[t]=n[1])},o.prototype.move=function(e,t){for(;e<0;)e+=this.files.length;for(;t<0;)t+=this.files.length;if(t>=this.files.length)for(var n=t-this.files.length;1+n--;)this.files.push(void 0);this.files.splice(t,0,this.files.splice(e,1)[0])},o.prototype.getFileByServerFilename=function(t){return this.files.find(function(e){return e.server_filename==t})},o.prototype.getFirst=function(){return this.files[0]},o.prototype.getLast=function(){return this.files[this.files.length-1]},o.prototype.onFileAdd=function(){var e,t=this;try{null!=(e=document.querySelectorAll(".numPages"))&&e.forEach(function(e){t.files[0].numPages&&(e.innerHTML=t.files[0].numPages.toString())})}catch(e){}},o.prototype.updateFile=function(e,t){e=this.getFile(e);return e&&(t=this.cleanName(t),Object.assign(e,t)),e},o.prototype.removeFile=function(n,i){var o=this;void 0===i&&(i=!1),this.files.forEach(function(e,t){e&&e.id==n&&(e.removed=!0,o.removed.push(n),-1<t&&o.files.splice(t,1),0==i)&&(e=new CustomEvent("fileRemoved",{detail:{fileId:n}}),window.dispatchEvent(e))})},o.prototype.removeFilesExcept=function(n){var i=this;this.files.forEach(function(e,t){(null==e?void 0:e.id)!==n&&-1<t&&i.files.splice(t,1)})},o.prototype.removeAllFiles=function(t){var n=this;void 0===t&&(t=!1),this.files.forEach(function(e){n.removeFile(e.id,t)})},o.prototype.limitFile=function(e,t){void 0===t&&(t=!1);var n=this.getFile(e);n&&(this.limited.push(e),n.limited=!0,window.plupload&&(n.status=window.plupload.FAILED,n.error=window.plupload.GENERIC_ERROR),0==t)&&(n=new CustomEvent("fileLimited",{detail:{fileId:e}}),window.dispatchEvent(n))},o.prototype.resetLimitedFiles=function(){this.files.forEach(function(e){1==(null==e?void 0:e.limited)&&(delete e.limited,e.status==window.plupload.FAILED)&&e.error==window.plupload.GENERIC_ERROR&&(e.status=window.plupload.QUEUED,delete e.error)}),this.limited=[]},o.prototype.removeLimitedFiles=function(e){var t=this,n=(void 0===e&&(e=!1),this.files=this.files.filter(function(e){return-1===t.limited.indexOf(e.id)}),[].concat(this.limited));this.limited=[],!0!==e&&n.forEach(function(e){e=new CustomEvent("fileRemoved",{detail:{fileId:e}});window.dispatchEvent(e)})},o.prototype.count=function(){return this.files.length},o.prototype.countNotIgnored=function(t){return void 0===t&&(t=!1),this.files.filter(function(e){return!(1==t&&1==e.limited)&&1!=e.ignored}).length},o.prototype.countNotLimited=function(){return this.files.filter(function(e){return!0!==e.limited}).length},o.prototype.countIgnored=function(){return this.files.filter(function(e){return 1==e.ignored}).length},o.prototype.countLimited=function(){return this.files.filter(function(e){return 1==e.limited}).length},o.prototype.size=function(){var t=0;return this.files.forEach(function(e){t+=parseInt(e.size)}),t},o.prototype.fileSize=function(e){var n=this,i=0;return e instanceof Array?e.forEach(function(e,t){i+=n.fileSize(e)}):(e=this.getFile(e),i=parseInt(e.size)),i},o.prototype.getFileSizeNotIgnored=function(n){void 0===n&&(n=!1);var i=0;return this.files.forEach(function(e,t){e&&(1!=n||1!=e.limited)&&1!=e.ignored&&e.size&&(i+=parseInt(e.size.toString()))}),i},o.prototype.getFilePagesNotIgnored=function(n){void 0===n&&(n=!1);var i=0;return this.files.forEach(function(e,t){e&&(1!=n||1!=e.limited)&&1!=e.ignored&&e.file&&e.file.numPages&&(i+=e.file.numPages?parseInt(e.file.numPages.toString()):0)}),i},o.prototype.cleanName=function(e){return"filename"in e&&null!=e.filename&&(e.filename,e.filename.replace(/[\u00A0\u1680\u180e\u2000-\u2009\u200a\u200b\u202f\u205f\u3000\ufeff]/g," ").trim(),e.filename=e.filename.replace(/"/g,"")),"name"in e&&null!=e.name&&(e.name,e.name.replace(/[\u00A0\u1680\u180e\u2000-\u2009\u200a\u200b\u202f\u205f\u3000\ufeff]/g," ").trim(),e.name=e.name.replace(/"/g,"")),e},o.prototype.onUploaded=function(){return new Promise(function(e,t){})},o.prototype.checkFilesUploaded=function(){var t=!0,n=this;return this.files.forEach(function(e){if(null==e)return!0;if("percent"in e&&!(e.percent<100)&&("server_filename"in e||"error"in e&&!("error"in e&&0==e.error))||(t=!1),1==e.error){t=!1;try{window.Toastr.error(i.Lang.t(e.errorData.error.param.type[0])+"<br>"+e.name,i.Lang.t("Wops"),{timeOut:5e3,positionClass:"toast-top-left"})}catch(e){}n.removeFile(e.id)}}),t},o.prototype.getUploadedFiles=function(){var n={};return this.files.forEach(function(e){var t={filename:e.name,server_filename:e.server_filename};e.rename&&(t.filename=e.rename),e.password&&(t.password=e.password),e.pages&&(t.pages=e.pages),e.rotate&&(t.rotate=e.rotate),e.elementArray&&(t.elementArray=e.elementArray),e.processed&&(t.processed=e.processed),n[e.id]=t}),n},o);function o(){var e=this;this.getFilePxsizeNotIgnored=function(t){void 0===t&&(t=!1);var n=0;return e.files.forEach(function(e){!e||1==t&&1==e.limited||1==e.ignored||(n=Math.max(e.width*e.height,n))}),n},this.files=[],this.ignored=[],this.removed=[],this.limited=[]}t.FileStack=n},function(e,t,n){e.exports=function(a){"use strict";a=a&&a.hasOwnProperty("default")?a["default"]:a;var n="transitionend",i=1e6,s=1e3;function l(e){return{}.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase()}function e(){return{bindType:n,delegateType:n,handle:function e(t){if(a(t.target).is(this))return t.handleObj.handler.apply(this,arguments);return undefined}}}function t(e){var t=this;var n=false;a(this).one(c.TRANSITION_END,function(){n=true});setTimeout(function(){if(!n)c.triggerTransitionEnd(t)},e);return this}function o(){a.fn.emulateTransitionEnd=t;a.event.special[c.TRANSITION_END]=e()}var c={TRANSITION_END:"bsTransitionEnd",getUID:function e(t){do{t+=~~(Math.random()*i)}while(document.getElementById(t));return t},getSelectorFromElement:function e(t){var n=t.getAttribute("data-target");if(!n||n==="#"){var i=t.getAttribute("href");n=i&&i!=="#"?i.trim():""}return n&&document.querySelector(n)?n:null},getTransitionDurationFromElement:function e(t){if(!t)return 0;var n=a(t).css("transition-duration");var i=a(t).css("transition-delay");var o=parseFloat(n);var r=parseFloat(i);if(!o&&!r)return 0;n=n.split(",")[0];i=i.split(",")[0];return(parseFloat(n)+parseFloat(i))*s},reflow:function e(t){return t.offsetHeight},triggerTransitionEnd:function e(t){a(t).trigger(n)},supportsTransitionEnd:function e(){return Boolean(n)},isElement:function e(t){return(t[0]||t).nodeType},typeCheckConfig:function e(t,n,i){for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)){var r=i[o];var a=n[o];var s=a&&c.isElement(a)?"element":l(a);if(!new RegExp(r).test(s))throw new Error(t.toUpperCase()+": "+('Option "'+o+'" provided type "'+s+'" ')+('but expected type "'+r+'".'))}},findShadowRoot:function e(t){if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode==="function"){var n=t.getRootNode();return n instanceof ShadowRoot?n:null}if(t instanceof ShadowRoot)return t;if(!t.parentNode)return null;return c.findShadowRoot(t.parentNode)}};return o(),c}(n(1))},function(e,t,n){"use strict";var i,o,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),d=(Object.defineProperty(t,"__esModule",{value:!0}),t.PremiumContext=void 0,n(13)),p=n(77),a=n(54),s=n(112),l=n(113),c=n(115),u=n(117),n=(o=a.ContextBase,r(f,o),f.prototype.initAllFeaturesTooltip=function(e){if(!this.tooltipRoot){if(this.tooltipRoot=e.querySelector(".new-premium__all-features-tooltip"),!this.tooltipRoot)throw"'All features' dom element not found";e=e.querySelector(".new-premium__all-features-tooltip__html-template");if(!e)throw"htmlTemplate not found for 'All features' tooltip";window.tippy(this.tooltipRoot,{allowHTML:!0,theme:"light new-premium-all-features-tooltip",content:e.innerHTML,placement:"bottom",arrow:!0,animation:"fade",trigger:"mouseenter",interactive:!0})}},f.prototype.initOCRTooltip=function(e){if(!this.tooltipRoot_OCR){if(this.tooltipRoot_OCR=e.querySelector(".new-premium__ocr-tooltip"),!this.tooltipRoot_OCR)throw"'OCR' dom element not found";e=e.querySelector(".new-premium__ocr-features-tooltip__html-template");if(!e)throw"htmlTemplate not found for 'OCR' tooltip";window.tippy(this.tooltipRoot_OCR,{allowHTML:!0,theme:"light new-premium__ocr-tooltip",content:e.innerHTML,placement:"bottom",arrow:!0,animation:"fade",trigger:"mouseenter",interactive:!0})}},f.prototype.updateTitleText=function(e){var t=e.querySelector(".dialog__title");if(!t)throw"'Title' element not found";var n=this.isTrialEnabledForThisTool()&&this.canUserDoTrial();switch(this.userType){case"guest":case"user":return void(t.innerHTML=n?this.getTranslation(e,"title_canTrial"):this.getTranslation(e,"title_cannotTrial"));case"premium":return;default:throw"Unhandled userType '"+this.userType+"' for updateTitleText"}},f.prototype.updateTriggerReasonText=function(e){var t,n,i=e.querySelector(".new-premium__trigger-reason_sub1"),o=e.querySelector(".new-premium__trigger-reason_sub2");if(!i)throw"'Trigger Reason subtitle1' element not found";if(!o)throw"'Trigger Reason subtitle2' element not found";var r,a,s=null!=(n=this.tool)?n:null==(n=this.limits)?void 0:n.tool,l=null==(n=window.ilovepdfConfig)?void 0:n.subtool,c=!1;switch(this.triggerReason){case p.REASON.ERROR_FEATURE:var u="triggerReason_errorFeature";switch(s){case"sign":case"pdfa":case"pdfoffice":u+="_"+s}["pdfexcel","pdfword"].includes(l)&&(u+="_"+l),this.premiumFeatureName&&(u+="_"+this.premiumFeatureName),i.innerHTML=this.getTranslation(e,u+"_subtitle1"),"ocr"===this.premiumFeatureName&&"pdfoffice"===s&&(c=!0,i.innerHTML=i.innerHTML.replace("OCR",'<span class="new-premium__ocr-tooltip" data-template="new-premium__ocr-features-tooltip__html-template">OCR</span>')),o.innerHTML=this.getTranslation(e,u+"_subtitle2");break;case p.REASON.ERROR_FILES:if(!this.limits)throw"Limits object is needed to translate subtitles' text";r=(a=[this.limits.fileLimits[this.tool],this.limits.allFileLimits.premium_limits[this.tool]])[0],a=a[1],i.innerHTML=d.Lang.tr(this.getTranslation(e,"triggerReason_errorFilesNum_subtitle1"),{n:r.files}),o.innerHTML=d.Lang.tr(this.getTranslation(e,"triggerReason_errorFilesNum_subtitle2"),{n:a.files});break;case p.REASON.ERROR_SIZE:if(!this.limits)throw"Limits object is needed to translate subtitles' text";r=(t=[this.limits.fileLimits[this.tool],this.limits.allFileLimits.premium_limits[this.tool]])[0],a=t[1],i.innerHTML=d.Lang.tr(this.getTranslation(e,"triggerReason_errorFilesSize_subtitle1"),{n:r.mb}),o.innerHTML=d.Lang.tr(this.getTranslation(e,"triggerReason_errorFilesSize_subtitle2"),{n:a.mb/1e3});break;case p.REASON.ERROR_PAGES:if(!this.limits)throw"Limits object is needed to translate subtitles' text";r=(t=[this.limits.fileLimits[this.tool],this.limits.allFileLimits.premium_limits[this.tool]])[0],a=t[1],i.innerHTML=d.Lang.tr(this.getTranslation(e,"triggerReason_errorFilesPages_subtitle1"),{n:r.pages}),o.innerHTML=d.Lang.tr(this.getTranslation(e,"triggerReason_errorFilesPages_subtitle2"),{n:a.pages});break;case null:i.style.display="none",o.style.display="none";break;default:throw"Unknown triggerReason '"+this.triggerReason+"'"}this.initAllFeaturesTooltip(e),c&&this.initOCRTooltip(e)},f.prototype.getTranslation=function(e,t,n){if(void 0===n&&(n={}),this._translations){if(t in this._translations)return this._translations[t];throw"Translation for key '"+t+"' not found"}n=e.querySelector(".new-premium__text-translations");if(!n)throw"'Text translations' DOM not found";if("html"!==n.dataset.format)return this._translations=JSON.parse(n.innerHTML),this._translations?this.getTranslation(e,t):null;e=n.querySelector("[data-key="+t+"]");if(e)return e.innerHTML;throw"Key '"+t+"' not found"},f.prototype.getInitialState=function(){return this.isLoggedIn()?this._getInitialState():new s.AuthState},f.prototype._getInitialState=function(){switch(this.userType){case"guest":return new s.AuthState;case"user":return new(this.canUserDoTrial()&&this.isTrialEnabledForThisTool()?c.CanTrialState:l.CannotTrialState);case"premium":return new u.PremiumState;default:throw"Not implemented 'initialState' when userType is "+this.userType}},f);function f(e){var t=o.call(this,e)||this;return t.contentName="PremiumContext",t.onDomReadyCalledOnce=!1,t._onDomReady=function(e){t.onDomReadyCalledOnce||t.updateTriggerReasonText(e),t.onDomReadyCalledOnce=!0,t.updateTitleText(e)},t.triggerReason="triggerReason"in e?e.triggerReason:void 0,t.limits="limits"in e?e.limits:void 0,t.premiumFeatureName="premiumFeatureName"in e?e.premiumFeatureName:void 0,t.tool=e.tool,t}t.PremiumContext=n},function(e,a,s){"use strict";!function(i){var o=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),e=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t},t=(Object.defineProperty(a,"__esModule",{value:!0}),a.Lang=void 0,e(s(102)));function n(){}n.t=function(n,e){var t="iloveLang";return e&&e.source&&(t=e.source),window[t]&&window[t][n]&&(n=window[t][n]),null!=e&&i.each(e,function(e,t){n=n.replace("${"+e+"}",t)}),n},n.w=function(e,t){i("."+(e=void 0===e?"translate":e)).each(function(){var e=i(this).html();i(this).html(n.t(e,t))}),i("#"+e).each(function(){var e=i(this).html();i(this).html(n.t(e,t))})},n.fontsForWritingSystem=function(e){switch(e){case"latin":return["arial","verdana","courier","comic","times-new-roman","impact","arial-unicode-ms"];case"indic":return["lohit-marathi","lohit-devanagari","arial-unicode-ms"];default:return["arial-unicode-ms"]}},n.getFontsInfo=function(){var e=window.fonts;if(e)return e;throw"[Lang Service] You have to load the fonts information from the backend to use this method"},n.loadAllFonts=function(){for(var e in window.fonts)window.fonts.hasOwnProperty(e)&&"arial"!=e&&this.loadFont(e)},n.loadFont=function(e){e in this.loadedFonts||(t.lazyloadCss("/font/"+e+".css"),this.loadedFonts[e]=!0)},n.hasHindiCharacters=function(e){return 0<e.split("").filter(function(e){e=e.charCodeAt();return 2309<=e&&e<=2361}).length},n.hasJapanCharacters=function(e){return/[\u3000-\u303f]|[\u3040-\u309f]|[\u30a0-\u30ff]|[\uff00-\uff9f]|[\u4e00-\u9faf]|[\u3400-\u4dbf]/.test(e)},n.hasChineseCharacters=function(e){return/[\u4e00-\u9fff]|[\u3400-\u4dbf]|[\uf900-\ufaff]|[\u3300-\u33ff]|[\ufe30-\ufe4f]|[\uf900-\ufaff]/.test(e)},n.hasKoreanCharacters=function(e){return/[\uac00-\uafff]|[\ub000-\ubfff]/.test(e)},n.hasArabicCharacters=function(e){return/[\u0600-\u06FF]|[\u0750-\u077F]/.test(e)},n.hasGreekCharacters=function(e){return/[\u0370-\u03FF]|[\u1F00-\u1FFF]/.test(e)},n.hasCyrillicCharacters=function(e){return/[\u0400-\u04FF]|[\u0500-\u052F]/.test(e)},n.hasCommonLatinCharacters=function(e){return!1},n.keyCodeToWritingSystem=function(e){for(var t in this.writingSystemCharacterRanges)for(var n=this.writingSystemCharacterRanges[t],i=0;i<n.length;i++){var o=n[i],r=o[0],o=o[1];if(r<=e&&e<=o)return t}return"unknown"},n.detectWritingSystems=function(e){if(0===e.length)return[];for(var t={},n=0;n<e.length;n++)t[this.keyCodeToWritingSystem(e.charCodeAt(n))]=!0;return Object.keys(t)},n.loadedFonts={},n.writingSystemCharacterRanges={latin:[[0,127],[128,255],[256,383],[384,591],[7680,7935],[9312,9471],[11360,11391],[42784,43007],[64256,64335],[65104,65135]],indic:[[2304,2431],[43232,43263]]},a.Lang=n}.call(this,s(1))},function(e,t,n){var i,o;!function(){"use strict";o=[n(56)],void 0!==(o="function"==typeof(i=function(h){"use strict";var e=typeof Blob!=="undefined"&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),r=(h.blobSlice=e&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},h.metaDataParsers={jpeg:{65505:[],65517:[]}},h.parseMetaData=function(e,u,d,p){d=d||{};p=p||{};var f=this;var t=d.maxMetaDataSize||262144;var n=!(typeof DataView!=="undefined"&&e&&e.size>=12&&e.type==="image/jpeg"&&h.blobSlice);if(n||!h.readFile(h.blobSlice.call(e,0,t),function(e){if(e.target.error){console.log(e.target.error);u(p);return}var t=e.target.result;var n=new DataView(t);var i=2;var o=n.byteLength-4;var r=i;var a;var s;var l;var c;if(n.getUint16(0)===65496){while(i<o){a=n.getUint16(i);if(a>=65504&&a<=65519||a===65534){s=n.getUint16(i+2)+2;if(i+s>n.byteLength){console.log("Invalid meta data: Invalid segment size.");break}l=h.metaDataParsers.jpeg[a];if(l&&!d.disableMetaDataParsers)for(c=0;c<l.length;c+=1)l[c].call(f,n,i,s,p,d);i+=s;r=i}else break}if(!d.disableImageHead&&r>6)if(t.slice)p.imageHead=t.slice(0,r);else p.imageHead=new Uint8Array(t).subarray(0,r)}else console.log("Invalid JPEG file: Missing JPEG marker.");u(p)},"readAsArrayBuffer"))u(p)},h.replaceHead=function(t,n,i){h.parseMetaData(t,function(e){i(new Blob([n,h.blobSlice.call(t,e.imageHead.byteLength)],{type:"image/jpeg"}))},{maxMetaDataSize:256,disableMetaDataParsers:true})},h.hasMetaOption=function(e){return e&&e.meta},h.transform);h.transform=function(t,n,i,o,e){if(h.hasMetaOption(n))h.parseMetaData(o,function(e){r.call(h,t,n,i,o,e)},n,e);else r.apply(h,arguments)}})?i.apply(t,o):i)&&(e.exports=o)}()},function(e,s,l){"use strict";!function(e){l.d(s,"a",function(){return a});var t=l(3),n=l(35),i={nowSeconds:function(){return Date.now()/1e3}};var o=(Object(n.b)()?function(){try{return Object(n.a)(e,"perf_hooks").performance}catch(e){}}:function(){var e=Object(t.e)().performance;if(e&&e.now)return{now:function(){return e.now()},timeOrigin:Date.now()-e.now()}})(),r=void 0===o?i:{nowSeconds:function(){return(o.timeOrigin+o.now())/1e3}},a=i.nowSeconds.bind(i);r.nowSeconds.bind(r),function(){var e=Object(t.e)().performance;if(e)e.timeOrigin||e.timing&&e.timing.navigationStart||Date.now()}()}.call(this,l(58)(e))},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var l=n(0),c=n(17),u=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,d="Invalid Dsn",i=(o.prototype.toString=function(e){var t=this.host,n=this.path,i=this.pass,o=this.port,r=this.projectId;return this.protocol+"://"+this.user+((e=void 0===e?!1:e)&&i?":"+i:"")+"@"+t+(o?":"+o:"")+"/"+(n&&n+"/")+r},o.prototype._fromString=function(e){e=u.exec(e);if(!e)throw new c.a(d);var e=Object(l.c)(e.slice(1),6),t=e[0],n=e[1],i=e[2],i=void 0===i?"":i,o=e[3],r=e[4],r=void 0===r?"":r,a="",e=e[5],s=e.split("/");1<s.length&&(a=s.slice(0,-1).join("/"),e=s.pop()),e&&(s=e.match(/^\d+/))&&(e=s[0]),this._fromComponents({host:o,pass:i,path:a,projectId:e,port:r,protocol:t,user:n})},o.prototype._fromComponents=function(e){this.protocol=e.protocol,this.user=e.user,this.pass=e.pass||"",this.host=e.host,this.port=e.port||"",this.path=e.path||"",this.projectId=e.projectId},o.prototype._validate=function(){var t=this;if(["protocol","user","host","projectId"].forEach(function(e){if(!t[e])throw new c.a(d+": "+e+" missing")}),!this.projectId.match(/^\d+$/))throw new c.a(d+": Invalid projectId "+this.projectId);if("http"!==this.protocol&&"https"!==this.protocol)throw new c.a(d+": Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new c.a(d+": Invalid port "+this.port)},o);function o(e){"string"==typeof e?this._fromString(e):this._fromComponents(e),this._validate()}},function(e,t,n){"use strict";var i,o,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.OptionsManager=void 0,n(246)),s=n(249),n=(o=a.OptionsManager,r(l,o),l.prototype.initViewManager=function(){this.viewManager=new s.ViewManager({tool:this.tool,subtool:this.subtool,files:this.files,processManager:this.processManager})},l.prototype.fileReady=function(e){o.prototype.fileReady.call(this,e),this.setOption("width",e.width),this.setOption("height",e.height),this.printOption("original-width",e.width),this.printOption("original-height",e.height)},l.prototype.fileAdded=function(e,t,n){return void 0===n&&(n=!1),null==this.viewManager&&this.init(),o.prototype.fileAdded.call(this,e,t,n)},l.prototype.tryInitByParent=function(){o.prototype.tryInitByParent.call(this)},l);function l(e){return o.call(this,e=void 0===e?{}:e)||this}t.OptionsManager=n},function(e,t,n){var i,o;!function(){"use strict";o=[n(1),n(93)],void 0!==(o="function"==typeof(i=function(e,r){"use strict";e.tinysort={defaults:r.defaults},e.fn.extend({tinysort:function(){var e=Array.prototype.slice.call(arguments),t,n;e.unshift(this);t=r.apply(null,e);n=t.length;for(var i=0,o=this.length;i<o;i++)if(i<n)this[i]=t[i];else delete this[i];this.length=n;return this}}),e.fn.tsort=e.fn.tinysort})?i.apply(t,o):i)&&(e.exports=o)}()},function(t,n,i){var o;!function(e){"use strict";void 0!==(o="function"==typeof(o=function(){return e})?o.call(n,i,n,t):o)&&(t.exports=o)}(function(){"use strict";var w,e=window,x=e.document,E=parseFloat,S=/(-?\d+\.?\d*)\s*$/g,k=/(\d+\.?\d*)\s*$/g,O=[],T=0,C=0,P=String.fromCharCode(4095),A={selector:null,order:"asc",attr:null,data:null,useVal:!1,place:"org",returns:!1,cases:!1,natural:!1,forceStrings:!1,ignoreDashes:!1,sortFunction:null,useFlex:!1,emptyEnd:!1};function L(e,t){for(var n,i=e.length,o=i;o--;)t(e[n=i-o-1],n)}function I(e,t,n){for(var i in t)!n&&e[i]!==w||(e[i]=t[i]);return e}function t(e,t,n){O.push({prepare:e,sort:t,sortBy:n})}return e.Element&&((e=Element.prototype).matchesSelector=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector||function(e){for(var t=(this.parentNode||this.document).querySelectorAll(e),n=-1;t[++n]&&t[n]!=this;);return!!t[n]}),I(t,{loop:L}),I(function(e,t){(e=b(e)?x.querySelectorAll(e):e).length;var n,o,i,r,a=x.createDocumentFragment(),s=[],l=[],c=[],d=[],u=!0,p=e.length&&e[0].parentNode,f=p.rootNode!==document,t=e.length&&(t===w||!1!==t.useFlex)&&!f&&-1!==getComputedStyle(p,null).display.indexOf("flex"),f=(!function(){0===arguments.length?h({}):L(arguments,function(e){h(b(e)?{selector:e}:e)});T=d.length}.apply(null,Array.prototype.slice.call(arguments,1)),L(e,function(e,t){o?o!==e.parentNode&&(u=!1):o=e.parentNode;var n=d[0],i=n.hasFilter,n=n.selector,i=!n||i&&e.matchesSelector(n)||n&&e.querySelector(n)?l:c,n={elm:e,pos:t,posn:i.length};s.push(n),i.push(n)}),n=l.slice(0),l.sort(function(e,t){var n=0;0!==C&&(C=0);for(;0===n&&C<T;){var i,o,r,a,s,l,c=d[C],u=c.ignoreDashes?k:S;L(O,function(e){e=e.prepare;e&&e(c)}),n=c.sortFunction?c.sortFunction(e,t):"rand"==c.order?Math.random()<.5?1:-1:(i=!1,o=_(e,c),r=_(t,c),s=""===o||o===w,a=""===r||r===w,o===r?0:c.emptyEnd&&(s||a)?s&&a?0:s?1:-1:(c.forceStrings||(a=!!b(o)&&o&&o.match(u),s=!!b(r)&&r&&r.match(u),a&&s&&(u=o.substr(0,o.length-a[0].length),l=r.substr(0,r.length-s[0].length),u==l)&&(i=!0,o=E(a[0]),r=E(s[0]))),o===w||r===w?0:c.natural&&(isNaN(o)||isNaN(r))?function(e,t,n){for(var i=n(e.toString()),o=n(t.toString()),r=0;i[r]&&o[r];r++){var a,s;if(i[r]!==o[r])return a=Number(i[r]),s=Number(o[r]),a==i[r]&&s==o[r]?a-s:i[r]>o[r]?1:-1}return i.length-o.length}(o,r,g):o<r?-1:r<o?1:0)),L(O,function(e){e=e.sort;e&&(n=e(c,i,o,r,n))}),0===(n*=c.sortReturnNumber)&&C++}0===n&&(n=e.pos>t.pos?1:-1);return n}),l.length===s.length);function h(e){var t=!!e.selector,n=t&&":"===e.selector[0],e=I(e||{},A);d.push(I({hasSelector:t,hasAttr:!(null===e.attr||""===e.attr),hasData:null!==e.data,hasFilter:n,sortReturnNumber:"asc"===e.order?1:-1},e))}function g(e){for(var t,n=[],i=0,o=-1,r=0;a=(t=e.charAt(i++)).charCodeAt(0);){var a=46==a||48<=a&&a<=57;a!==r&&(n[++o]="",r=a),n[o]+=t}return n}function m(){return l.forEach(function(e){a.appendChild(e.elm)}),a}function v(e){var t=e.elm,n=x.createElement("div");return e.ghost=n,t.parentNode.insertBefore(n,t),e}function y(e,t){var n=e.ghost,i=n.parentNode;i.insertBefore(t,n),i.removeChild(n),delete e.ghost}function _(e,t){var n,e=e.elm;return t.selector&&(t.hasFilter?e.matchesSelector(t.selector)||(e=null):e=e.querySelector(t.selector)),t.hasAttr?n=e.getAttribute(t.attr):t.useVal?n=e.value||e.getAttribute("value"):t.hasData?n=e.getAttribute("data-"+t.data):e&&(n=e.textContent),n=null===(n=b(n)?(n=t.cases?n:n.toLowerCase()).replace(/\s+/g," "):n)?P:n}function b(e){return"string"==typeof e}return u&&f?t?l.forEach(function(e,t){e.elm.style.order=t}):o&&o.appendChild(m()):(f=d[0].place,p="start"===f,e="end"===f,t="first"===f,i="last"===f,"org"===f?(l.forEach(v),l.forEach(function(e,t){y(n[t],e.elm)})):p||e?(f=n[p?0:n.length-1],r=f&&f.elm.parentNode,(p=r&&(p&&r.firstChild||r.lastChild))&&(v(f=p!==f.elm?{elm:p}:f),e&&r.appendChild(f.ghost),y(f,m()))):(t||i)&&y(v(n[t?0:n.length-1]),m())),l.map(function(e){return e.elm})},{plugin:t,defaults:A})}())},function(e,t,n){var i,o;!function(){"use strict";o=[n(1),n(44)],void 0!==(o="function"==typeof(i=function(u){"use strict";var n=0,a=Array.prototype.hasOwnProperty,s=Array.prototype.slice;return u.cleanData=function(o){return function(e){var t,n,i;for(i=0;(n=e[i])!=null;i++){t=u._data(n,"events");if(t&&t.remove)u(n).triggerHandler("remove")}o(e)}}(u.cleanData),u.widget=function(e,n,t){var i,o,r;var a={};var s=e.split(".")[0];e=e.split(".")[1];var l=s+"-"+e;if(!t){t=n;n=u.Widget}if(Array.isArray(t))t=u.extend.apply(null,[{}].concat(t));u.expr.pseudos[l.toLowerCase()]=function(e){return!!u.data(e,l)};u[s]=u[s]||{};i=u[s][e];o=u[s][e]=function(e,t){if(!this._createWidget)return new o(e,t);if(arguments.length)this._createWidget(e,t)};u.extend(o,i,{version:t.version,_proto:u.extend({},t),_childConstructors:[]});r=new n;r.options=u.widget.extend({},r.options);u.each(t,function(t,r){if(typeof r!=="function"){a[t]=r;return}a[t]=function(){function i(){return n.prototype[t].apply(this,arguments)}function o(e){return n.prototype[t].apply(this,e)}return function(){var e=this._super;var t=this._superApply;var n;this._super=i;this._superApply=o;n=r.apply(this,arguments);this._super=e;this._superApply=t;return n}}()});o.prototype=u.widget.extend(r,{widgetEventPrefix:i?r.widgetEventPrefix||e:e},a,{constructor:o,namespace:s,widgetName:e,widgetFullName:l});if(i){u.each(i._childConstructors,function(e,t){var n=t.prototype;u.widget(n.namespace+"."+n.widgetName,o,t._proto)});delete i._childConstructors}else n._childConstructors.push(o);u.widget.bridge(e,o);return o},u.widget.extend=function(e){var t=s.call(arguments,1);var n=0;var i=t.length;var o;var r;for(;n<i;n++)for(o in t[n]){r=t[n][o];if(a.call(t[n],o)&&r!==undefined)if(u.isPlainObject(r))e[o]=u.isPlainObject(e[o])?u.widget.extend({},e[o],r):u.widget.extend({},r);else e[o]=r}return e},u.widget.bridge=function(r,t){var a=t.prototype.widgetFullName||r;u.fn[r]=function(n){var e=typeof n==="string";var i=s.call(arguments,1);var o=this;if(e)if(!this.length&&n==="instance")o=undefined;else this.each(function(){var e;var t=u.data(this,a);if(n==="instance"){o=t;return false}if(!t)return u.error("cannot call methods on "+r+" prior to initialization; "+"attempted to call method '"+n+"'");if(typeof t[n]!=="function"||n.charAt(0)==="_")return u.error("no such method '"+n+"' for "+r+" widget instance");e=t[n].apply(t,i);if(e!==t&&e!==undefined){o=e&&e.jquery?o.pushStack(e.get()):e;return false}});else{if(i.length)n=u.widget.extend.apply(null,[n].concat(i));this.each(function(){var e=u.data(this,a);if(e){e.option(n||{});if(e._init)e._init()}else u.data(this,a,new t(n,this))})}return o}},u.Widget=function(){},u.Widget._childConstructors=[],u.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:false,create:null},_createWidget:function(e,t){t=u(t||this.defaultElement||this)[0];this.element=u(t);this.uuid=n++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=u();this.hoverable=u();this.focusable=u();this.classesElementLookup={};if(t!==this){u.data(t,this.widgetFullName,this);this._on(true,this.element,{remove:function(e){if(e.target===t)this.destroy()}});this.document=u(t.style?t.ownerDocument:t.document||t);this.window=u(this.document[0].defaultView||this.document[0].parentWindow)}this.options=u.widget.extend({},this.options,this._getCreateOptions(),e);this._create();if(this.options.disabled)this._setOptionDisabled(this.options.disabled);this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:u.noop,_create:u.noop,_init:u.noop,destroy:function(){var n=this;this._destroy();u.each(this.classesElementLookup,function(e,t){n._removeClass(t,e)});this.element.off(this.eventNamespace).removeData(this.widgetFullName);this.widget().off(this.eventNamespace).removeAttr("aria-disabled");this.bindings.off(this.eventNamespace)},_destroy:u.noop,widget:function(){return this.element},option:function(e,t){var n=e;var i;var o;var r;if(arguments.length===0)return u.widget.extend({},this.options);if(typeof e==="string"){n={};i=e.split(".");e=i.shift();if(i.length){o=n[e]=u.widget.extend({},this.options[e]);for(r=0;r<i.length-1;r++){o[i[r]]=o[i[r]]||{};o=o[i[r]]}e=i.pop();if(arguments.length===1)return o[e]===undefined?null:o[e];o[e]=t}else{if(arguments.length===1)return this.options[e]===undefined?null:this.options[e];n[e]=t}}this._setOptions(n);return this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){if(e==="classes")this._setOptionClasses(t);this.options[e]=t;if(e==="disabled")this._setOptionDisabled(t);return this},_setOptionClasses:function(e){var t,n,i;for(t in e){i=this.classesElementLookup[t];if(e[t]===this.options.classes[t]||!i||!i.length)continue;n=u(i.get());this._removeClass(i,t);n.addClass(this._classes({element:n,keys:t,classes:e,add:true}))}},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e);if(e){this._removeClass(this.hoverable,null,"ui-state-hover");this._removeClass(this.focusable,null,"ui-state-focus")}},enable:function(){return this._setOptions({disabled:false})},disable:function(){return this._setOptions({disabled:true})},_classes:function(o){var r=[];var a=this;o=u.extend({element:this.element,classes:this.options.classes||{}},o);function s(){o.element.each(function(e,t){var n=u.map(a.classesElementLookup,function(e){return e}).some(function(e){return e.is(t)});if(!n)a._on(u(t),{remove:"_untrackClassesElement"})})}function e(e,t){var n,i;for(i=0;i<e.length;i++){n=a.classesElementLookup[e[i]]||u();if(o.add){s();n=u(u.uniqueSort(n.get().concat(o.element.get())))}else n=u(n.not(o.element).get());a.classesElementLookup[e[i]]=n;r.push(e[i]);if(t&&o.classes[e[i]])r.push(o.classes[e[i]])}}if(o.keys)e(o.keys.match(/\S+/g)||[],true);if(o.extra)e(o.extra.match(/\S+/g)||[]);return r.join(" ")},_untrackClassesElement:function(n){var i=this;u.each(i.classesElementLookup,function(e,t){if(u.inArray(n.target,t)!==-1)i.classesElementLookup[e]=u(t.not(n.target).get())});this._off(u(n.target))},_removeClass:function(e,t,n){return this._toggleClass(e,t,n,false)},_addClass:function(e,t,n){return this._toggleClass(e,t,n,true)},_toggleClass:function(e,t,n,i){i=typeof i==="boolean"?i:n;var o=typeof e==="string"||e===null,r={extra:o?t:n,keys:o?e:t,element:o?this.element:e,add:i};r.element.toggleClass(this._classes(r),i);return this},_on:function(a,s,e){var l;var c=this;if(typeof a!=="boolean"){e=s;s=a;a=false}if(!e){e=s;s=this.element;l=this.widget()}else{s=l=u(s);this.bindings=this.bindings.add(s)}u.each(e,function(e,t){function n(){if(!a&&(c.options.disabled===true||u(this).hasClass("ui-state-disabled")))return;return(typeof t==="string"?c[t]:t).apply(c,arguments)}if(typeof t!=="string")n.guid=t.guid=t.guid||n.guid||u.guid++;var i=e.match(/^([\w:-]*)\s*(.*)$/);var o=i[1]+c.eventNamespace;var r=i[2];if(r)l.on(o,r,n);else s.on(o,n)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;e.off(t);this.bindings=u(this.bindings.not(e).get());this.focusable=u(this.focusable.not(e).get());this.hoverable=u(this.hoverable.not(e).get())},_delay:function(e,t){function n(){return(typeof e==="string"?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e);this._on(e,{mouseenter:function(e){this._addClass(u(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(u(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e);this._on(e,{focusin:function(e){this._addClass(u(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(u(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,t,n){var i,o;var r=this.options[e];n=n||{};t=u.Event(t);t.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase();t.target=this.element[0];o=t.originalEvent;if(o)for(i in o)if(!(i in t))t[i]=o[i];this.element.trigger(t,n);return!(typeof r==="function"&&r.apply(this.element[0],[t].concat(n))===false||t.isDefaultPrevented())}},u.each({show:"fadeIn",hide:"fadeOut"},function(r,a){u.Widget.prototype["_"+r]=function(t,e,n){if(typeof e==="string")e={effect:e};var i;var o=!e?r:e===true||typeof e==="number"?a:e.effect||a;e=e||{};if(typeof e==="number")e={duration:e};else if(e===true)e={};i=!u.isEmptyObject(e);e.complete=n;if(e.delay)t.delay(e.delay);if(i&&u.effects&&u.effects.effect[o])t[r](e);else if(o!==r&&t[o])t[o](e.duration,e.easing,n);else t.queue(function(e){u(this)[r]();if(n)n.call(t[0]);e()})}}),u.widget})?i.apply(t,o):i)&&(e.exports=o)}()},function(e,t,n){!function(i,e){e.fn.preventDoubleSubmission=function(n){return i(this).on("submit",function(e){var t=i(this);!0===t.data("submitted")?(e.preventDefault(),t.find('[type="submit"]').attr("disabled",!0)):(t.data("submitted",!0),1<n&&(t.find('[type="submit"]').attr("disabled",!0),window.setTimeout(function(){t.data("submitted",!1),t.find('[type="submit"]').attr("disabled",null)},n)))}),this}}.call(this,n(1),n(1))},function(e,ee,t){"use strict";t.r(ee),function(D){var n="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,F=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(n&&0<=navigator.userAgent.indexOf(e[t]))return 1;return 0}();var N=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},F))}};function a(e){return e&&"[object Function]"==={}.toString.call(e)}function d(e,t){return 1!==e.nodeType?[]:(e=e.ownerDocument.defaultView.getComputedStyle(e,null),t?e[t]:e)}function l(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function u(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=d(e),n=t.overflow,i=t.overflowX,t=t.overflowY;return/(auto|scroll|overlay)/.test(n+t+i)?e:u(l(e))}function c(e){return e&&e.referenceNode?e.referenceNode:e}var t=n&&!(!window.MSInputMethodContext||!document.documentMode),B=n&&/MSIE 10/.test(navigator.userAgent);function p(e){return 11===e?t:10!==e&&t||B}function f(e){if(!e)return document.documentElement;for(var t=p(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===d(n,"position")?f(n):n:(e?e.ownerDocument:document).documentElement}function r(e){return null!==e.parentNode?r(e.parentNode):e}function h(e,t){var n,i,o;return e&&e.nodeType&&t&&t.nodeType?(i=(o=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING)?e:t,o=o?t:e,(n=document.createRange()).setStart(i,0),n.setEnd(o,0),e!==(n=n.commonAncestorContainer)&&t!==n||i.contains(o)?"BODY"===(o=(i=n).nodeName)||"HTML"!==o&&f(i.firstElementChild)!==i?f(n):n:(o=r(e)).host?h(o.host,t):h(e,r(t).host)):document.documentElement}function g(e,t){var t="top"===(1<arguments.length&&void 0!==t?t:"top")?"scrollTop":"scrollLeft",n=e.nodeName;return("BODY"===n||"HTML"===n?(n=e.ownerDocument.documentElement,e.ownerDocument.scrollingElement||n):e)[t]}function o(e,t){var t="x"===t?"Left":"Top",n="Left"==t?"Right":"Bottom";return parseFloat(e["border"+t+"Width"])+parseFloat(e["border"+n+"Width"])}function i(e,t,n,i){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],p(10)?parseInt(n["offset"+e])+parseInt(i["margin"+("Height"===e?"Top":"Left")])+parseInt(i["margin"+("Height"===e?"Bottom":"Right")]):0)}function m(e){var t=e.body,e=e.documentElement,n=p(10)&&getComputedStyle(e);return{height:i("Height",t,e,n),width:i("Width",t,e,n)}}var e=function(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e};function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};function _(e){return y({},e,{right:e.left+e.width,bottom:e.top+e.height})}function b(e){var t={};try{p(10)?(t=e.getBoundingClientRect(),n=g(e,"top"),i=g(e,"left"),t.top+=n,t.left+=i,t.bottom+=n,t.right+=i):t=e.getBoundingClientRect()}catch(e){}var n={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i="HTML"===e.nodeName?m(e.ownerDocument):{},t=i.width||e.clientWidth||n.width,i=i.height||e.clientHeight||n.height,t=e.offsetWidth-t,i=e.offsetHeight-i;return(t||i)&&(t-=o(e=d(e),"x"),i-=o(e,"y"),n.width-=t,n.height-=i),_(n)}function w(e,t,n){var n=2<arguments.length&&void 0!==n&&n,i=p(10),o="HTML"===t.nodeName,r=b(e),a=b(t),e=u(e),s=d(t),l=parseFloat(s.borderTopWidth),c=parseFloat(s.borderLeftWidth),a=(n&&o&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0)),_({top:r.top-a.top-l,left:r.left-a.left-c,width:r.width,height:r.height}));return a.marginTop=0,a.marginLeft=0,!i&&o&&(r=parseFloat(s.marginTop),o=parseFloat(s.marginLeft),a.top-=l-r,a.bottom-=l-r,a.left-=c-o,a.right-=c-o,a.marginTop=r,a.marginLeft=o),a=(i&&!n?t.contains(e):t===e&&"BODY"!==e.nodeName)?function(e,t,n){var n=2<arguments.length&&void 0!==n&&n,i=g(t,"top"),t=g(t,"left"),n=n?-1:1;return e.top+=i*n,e.bottom+=i*n,e.left+=t*n,e.right+=t*n,e}(a,t):a}function x(e){if(!e||!e.parentElement||p())return document.documentElement;for(var t=e.parentElement;t&&"none"===d(t,"transform");)t=t.parentElement;return t||document.documentElement}function E(e,t,n,i,o){var r,o=4<arguments.length&&void 0!==o&&o,a={top:0,left:0},s=o?x(e):h(e,c(t)),s=("viewport"===i?a=function(e,t){var t=1<arguments.length&&void 0!==t&&t,n=e.ownerDocument.documentElement,e=w(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),r=t?0:g(n),t=t?0:g(n,"left");return _({top:r-e.top+e.marginTop,left:t-e.left+e.marginLeft,width:i,height:o})}(s,o):(r=void 0,"scrollParent"===i?"BODY"===(r=u(l(t))).nodeName&&(r=e.ownerDocument.documentElement):r="window"===i?e.ownerDocument.documentElement:i,t=w(r,s,o),"HTML"!==r.nodeName||function e(t){var n=t.nodeName;return"BODY"!==n&&"HTML"!==n&&("fixed"===d(t,"position")||!!(n=l(t))&&e(n))}(s)?a=t:(o=(i=m(e.ownerDocument)).height,r=i.width,a.top+=t.top-t.marginTop,a.bottom=o+t.top,a.left+=t.left-t.marginLeft,a.right=r+t.left)),"number"==typeof(n=n||0));return a.left+=s?n:n.left||0,a.top+=s?n:n.top||0,a.right-=s?n:n.right||0,a.bottom-=s?n:n.bottom||0,a}function S(e,t,n,i,o,r){var a,r=5<arguments.length&&void 0!==r?r:0;return-1===e.indexOf("auto")?e:(i=E(n,i,r,o),a={top:{width:i.width,height:t.top-i.top},right:{width:i.right-t.right,height:i.height},bottom:{width:i.width,height:i.bottom-t.bottom},left:{width:t.left-i.left,height:i.height}},(0<(o=(r=Object.keys(a).map(function(e){return y({key:e},a[e],{area:(e=a[e]).width*e.height})}).sort(function(e,t){return t.area-e.area})).filter(function(e){var t=e.width,e=e.height;return t>=n.clientWidth&&e>=n.clientHeight})).length?o:r)[0].key+((t=e.split("-")[1])?"-"+t:""))}function k(e,t,n,i){i=3<arguments.length&&void 0!==i?i:null;return w(n,i?x(t):h(t,c(n)),i)}function O(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),t=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+t,height:e.offsetHeight+n}}function T(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function C(e,t,n){n=n.split("-")[0];var e=O(e),i={width:e.width,height:e.height},o=-1!==["right","left"].indexOf(n),r=o?"top":"left",a=o?"left":"top",s=o?"height":"width",o=o?"width":"height";return i[r]=t[r]+t[s]/2-e[s]/2,i[a]=n===a?t[a]-e[o]:t[T(a)],i}function P(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function A(e,n,t){var i,o;return(void 0===t?e:e.slice(0,(e=e,i="name",o=t,Array.prototype.findIndex?e.findIndex(function(e){return e[i]===o}):(t=P(e,function(e){return e[i]===o}),e.indexOf(t))))).forEach(function(e){e.function;var t=e.function||e.fn;e.enabled&&a(t)&&(n.offsets.popper=_(n.offsets.popper),n.offsets.reference=_(n.offsets.reference),n=t(n,e))}),n}function z(e,n){return e.some(function(e){var t=e.name;return e.enabled&&t===n})}function L(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<t.length;i++){var o=t[i],o=o?""+o+n:e;if(void 0!==document.body.style[o])return o}return null}function U(e){e=e.ownerDocument;return e?e.defaultView:window}function H(e,t,n,i){n.updateBound=i,U(e).addEventListener("resize",n.updateBound,{passive:!0});i=u(e);return function e(t,n,i,o){var r="BODY"===t.nodeName,t=r?t.ownerDocument.defaultView:t;t.addEventListener(n,i,{passive:!0}),r||e(u(t.parentNode),n,i,o),o.push(t)}(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function q(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,U(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function I(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function M(n,i){Object.keys(i).forEach(function(e){var t="";-1!==["width","height","top","right","bottom","left"].indexOf(e)&&I(i[e])&&(t="px"),n.style[e]=i[e]+t})}function W(e,t){function n(e){return e}var i=e.offsets,o=i.popper,i=i.reference,r=Math.round,a=Math.floor,i=r(i.width),s=r(o.width),l=-1!==["left","right"].indexOf(e.placement),e=-1!==e.placement.indexOf("-"),l=t?l||e||i%2==s%2?r:a:n,a=t?r:n;return{left:l(i%2==1&&s%2==1&&!e&&t?o.left-1:o.left),top:a(o.top),bottom:a(o.bottom),right:l(o.right)}}var V=n&&/Firefox/i.test(navigator.userAgent);function G(e,t,n){var i=P(e,function(e){return e.name===t}),e=!!i&&e.some(function(e){return e.name===n&&e.enabled&&e.order<i.order});return e||0,e}var Y=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],j=Y.slice(3);function X(e,t){t=1<arguments.length&&void 0!==t&&t,e=j.indexOf(e),e=j.slice(e+1).concat(j.slice(0,e));return t?e.reverse():e}var Z="flip",K="clockwise",Q="counterclockwise";function $(e,s,l,t){var o=[0,0],i=-1!==["right","left"].indexOf(t),t=e.split(/(\+|\-)/).map(function(e){return e.trim()}),e=t.indexOf(P(t,function(e){return-1!==e.search(/,|\s/)})),n=(t[e]&&t[e].indexOf(","),/\s*,\s*|\s+/);return(-1!==e?[t.slice(0,e).concat([t[e].split(n)[0]]),[t[e].split(n)[1]].concat(t.slice(e+1))]:[t]).map(function(e,t){var a=(1===t?!i:i)?"height":"width",n=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,n=!0,e):n?(e[e.length-1]+=t,n=!1,e):e.concat(t)},[]).map(function(e){return t=a,n=s,i=l,o=+(r=(e=e).match(/((?:\-|\+)?\d*\.?\d*)(.*)/))[1],r=r[2],o?0===r.indexOf("%")?_("%p"===r?n:i)[t]/100*o:"vh"===r||"vw"===r?("vh"===r?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o:o:e;var t,n,i,o,r})}).forEach(function(n,i){n.forEach(function(e,t){I(e)&&(o[i]+=e*("-"===n[t-1]?-1:1))})}),o}var J={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t,n,i,o=e.placement,r=o.split("-")[0];return(o=o.split("-")[1])&&(t=(n=e.offsets).reference,n=n.popper,i=(r=-1!==["bottom","top"].indexOf(r))?"width":"height",r={start:v({},r=r?"left":"top",t[r]),end:v({},r,t[r]+t[i]-n[i])},e.offsets.popper=y({},n,r[o])),e}},offset:{order:200,enabled:!0,fn:function(e,t){var t=t.offset,n=e.placement,i=(o=e.offsets).popper,o=o.reference,n=n.split("-")[0],r=void 0,r=I(+t)?[+t,0]:$(t,i,o,n);return"left"===n?(i.top+=r[0],i.left-=r[1]):"right"===n?(i.top+=r[0],i.left+=r[1]):"top"===n?(i.left+=r[0],i.top-=r[1]):"bottom"===n&&(i.left+=r[0],i.top+=r[1]),e.popper=i,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,i){var t=i.boundariesElement||f(e.instance.popper),n=(e.instance.reference===t&&(t=f(t)),L("transform")),o=e.instance.popper.style,r=o.top,a=o.left,s=o[n],l=(o.top="",o.left="",o[n]="",E(e.instance.popper,e.instance.reference,i.padding,t,e.positionFixed)),t=(o.top=r,o.left=a,o[n]=s,i.boundaries=l,i.priority),c=e.offsets.popper,u={primary:function(e){var t=c[e];return c[e]<l[e]&&!i.escapeWithReference&&(t=Math.max(c[e],l[e])),v({},e,t)},secondary:function(e){var t="right"===e?"left":"top",n=c[t];return c[e]>l[e]&&!i.escapeWithReference&&(n=Math.min(c[t],l[e]-("right"===e?c.width:c.height))),v({},t,n)}};return t.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";c=y({},c,u[t](e))}),e.offsets.popper=c,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=(n=e.offsets).popper,n=n.reference,i=e.placement.split("-")[0],o=Math.floor,r=(i=-1!==["top","bottom"].indexOf(i))?"right":"bottom",a=i?"left":"top",i=i?"width":"height";return t[r]<o(n[a])&&(e.offsets.popper[a]=o(n[a])-t[i]),t[a]>o(n[r])&&(e.offsets.popper[a]=o(n[r])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){if(G(e.instance.modifiers,"arrow","keepTogether")){t=t.element;if("string"==typeof t){if(!(t=e.instance.popper.querySelector(t)))return e}else if(!e.instance.popper.contains(t))return e;var n=e.placement.split("-")[0],i=e.offsets,o=i.popper,i=i.reference,n=-1!==["left","right"].indexOf(n),r=n?"height":"width",a=n?"Top":"Left",s=a.toLowerCase(),l=n?"left":"top",n=n?"bottom":"right",c=O(t)[r],n=(i[n]-c<o[s]&&(e.offsets.popper[s]-=o[s]-(i[n]-c)),i[s]+c>o[n]&&(e.offsets.popper[s]+=i[s]+c-o[n]),e.offsets.popper=_(e.offsets.popper),i[s]+i[r]/2-c/2),i=d(e.instance.popper),u=parseFloat(i["margin"+a]),i=parseFloat(i["border"+a+"Width"]),a=n-e.offsets.popper[s]-u-i,a=Math.max(Math.min(o[r]-c,a),0);e.arrowElement=t,e.offsets.arrow=(v(n={},s,Math.round(a)),v(n,l,""),n)}return e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(c,u){if(!(z(c.instance.modifiers,"inner")||c.flipped&&c.placement===c.originalPlacement)){var d=E(c.instance.popper,c.instance.reference,u.padding,u.boundariesElement,c.positionFixed),p=c.placement.split("-")[0],f=T(p),h=c.placement.split("-")[1]||"",g=[];switch(u.behavior){case Z:g=[p,f];break;case K:g=X(p);break;case Q:g=X(p,!0);break;default:g=u.behavior}g.forEach(function(e,t){if(p!==e||g.length===t+1)return c;p=c.placement.split("-")[0],f=T(p);var e=c.offsets.popper,n=c.offsets.reference,i=Math.floor,n="left"===p&&i(e.right)>i(n.left)||"right"===p&&i(e.left)<i(n.right)||"top"===p&&i(e.bottom)>i(n.top)||"bottom"===p&&i(e.top)<i(n.bottom),o=i(e.left)<i(d.left),r=i(e.right)>i(d.right),a=i(e.top)<i(d.top),e=i(e.bottom)>i(d.bottom),i="left"===p&&o||"right"===p&&r||"top"===p&&a||"bottom"===p&&e,s=-1!==["top","bottom"].indexOf(p),l=!!u.flipVariations&&(s&&"start"===h&&o||s&&"end"===h&&r||!s&&"start"===h&&a||!s&&"end"===h&&e),r=!!u.flipVariationsByContent&&(s&&"start"===h&&r||s&&"end"===h&&o||!s&&"start"===h&&e||!s&&"end"===h&&a),o=l||r;(n||i||o)&&(c.flipped=!0,(n||i)&&(p=g[t+1]),o&&(h="end"===(e=h)?"start":"start"===e?"end":e),c.placement=p+(h?"-"+h:""),c.offsets.popper=y({},c.offsets.popper,C(c.instance.popper,c.offsets.reference,c.placement)),c=A(c.instance.modifiers,c,"flip"))})}return c},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],i=(o=e.offsets).popper,o=o.reference,r=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return i[r?"left":"top"]=o[n]-(a?i[r?"width":"height"]:0),e.placement=T(t),e.offsets.popper=_(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(G(e.instance.modifiers,"hide","preventOverflow")){var t=e.offsets.reference,n=P(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,i=t.y,o=e.offsets.popper,r=void 0!==(r=P(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration)?r:t.gpuAcceleration,a=b(t=f(e.instance.popper)),o={position:o.position},s=W(e,window.devicePixelRatio<2||!V),n="bottom"===n?"top":"bottom",i="right"===i?"left":"right",l=L("transform"),c=void 0,u=void 0,u="bottom"==n?"HTML"===t.nodeName?-t.clientHeight+s.bottom:-a.height+s.bottom:s.top,c="right"==i?"HTML"===t.nodeName?-t.clientWidth+s.right:-a.width+s.right:s.left,a=(r&&l?(o[l]="translate3d("+c+"px, "+u+"px, 0)",o[n]=0,o[i]=0,o.willChange="transform"):(t="right"==i?-1:1,o[n]=u*("bottom"==n?-1:1),o[i]=c*t,o.willChange=n+", "+i),{"x-placement":e.placement});return e.attributes=y({},a,e.attributes),e.styles=y({},o,e.styles),e.arrowStyles=y({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return M(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach(function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)}),e.arrowElement&&Object.keys(e.arrowStyles).length&&M(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,i,o){return o=k(o,t,e,n.positionFixed),o=S(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding),t.setAttribute("x-placement",o),M(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},e=(e(R,[{key:"update",value:function(){return function(){var e;this.state.isDestroyed||((e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}}).offsets.reference=k(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=S(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=C(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=A(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e)))}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,z(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[L("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=H(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return q.call(this)}}]),R);function R(e,t){var n=this,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},o=this,r=R;if(!(o instanceof r))throw new TypeError("Cannot call a class as a function");this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=N(this.update.bind(this)),this.options=y({},R.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=t&&t.jquery?t[0]:t,this.options.modifiers={},Object.keys(y({},R.Defaults.modifiers,i.modifiers)).forEach(function(e){n.options.modifiers[e]=y({},R.Defaults.modifiers[e]||{},i.modifiers?i.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return y({name:e},n.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&a(e.onLoad)&&e.onLoad(n.reference,n.popper,n.options,e,n.state)}),this.update();o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}e.Utils=("undefined"!=typeof window?window:D).PopperUtils,e.placements=Y,e.Defaults=J,ee.default=e}.call(this,t(28))},function(e,t,n){"use strict";function i(){this._cache={}}Object.defineProperty(t,"__esModule",{value:!0}),t.Cache=void 0,i.prototype.existsEntry=function(e){return"template_"+e in this._cache},i.prototype.setEntry=function(e,t){return this._cache[e]=t},i.prototype.getEntry=function(e){return this._cache[e]},i.prototype.clearEntry=function(e){delete this._cache[e]},t.Cache=i},function(e,h,g){"use strict";!function(c){var u,i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),e=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},t=this&&this.__awaiter||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,o)}r((l=l.apply(e,a||[])).next())})},d=this&&this.__generator||function(i,o){var r,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(s=0<(s=l.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],a=0}finally{r=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},r=(Object.defineProperty(h,"__esModule",{value:!0}),h.StripeService=void 0,e(g(37))),e=g(42),a=g(99),s=g(29),l=g(10),p=n(g(100)),n=((n=u=u||{}).CONFIRM_3DSECURE_PAYMENT="/stripe/confirm-payment",n.EXECUTE_PAYMENT="/stripe/execute",n.BUY_PACKAGE="/stripe/buy",n.UPDATE_CARD="/stripe/update-card",f.prototype.updateCard=function(s){return t(this,void 0,void 0,function(){var t,n,i,o,r,a;return d(this,function(e){switch(e.label){case 0:return[4,this.getPaymentCardToken(s)];case 1:return t=e.sent(),t=t.id,r=c.post(u.UPDATE_CARD,{token:t}).promise(),o=(i=JSON).parse,[4,r.promise()];case 2:return(n=o.apply(i,[e.sent()]),r={type:"update",notifyParams:{token:t}},this.needs3DSecure(n))?[4,this._resolve3DSecure(n,r)]:[3,4];case 3:return a=e.sent(),[3,5];case 4:a=n,e.label=5;case 5:return[2,a]}})})},f.prototype.setPaymentVia=function(e){this._paymentVia=e},f.prototype.paySubscription=function(l){return t(this,void 0,void 0,function(){var t,n,i,o,r,a,s;return d(this,function(e){switch(e.label){case 0:return t={interval:l.subscriptionInterval,users:l.numUsers,signatures:l.numDigitalSignatures,token:void 0,dtr:l.disableTrial,verifyCode:"",code:l.couponCode},this.captcha||(this.captcha=new p.default(document.body)),[4,this.captcha.execute()];case 1:return n=e.sent(),t.verifyCode=n,[4,this._setupPaymentVia(t,l.paymentVia)];case 2:return e.sent(),n=c.post(u.EXECUTE_PAYMENT,t),r=(o=JSON).parse,[4,n.promise()];case 3:return(i=r.apply(o,[e.sent()]),a={type:"subscription",notifyParams:t},this.needs3DSecure(i))?[4,this._resolve3DSecure(i,a)]:[3,5];case 4:return s=e.sent(),[3,6];case 5:s=i,e.label=6;case 6:return[2,s]}})})},f.prototype.payPackage=function(l){return t(this,void 0,void 0,function(){var t,n,i,o,r,a,s;return d(this,function(e){switch(e.label){case 0:return t={package:l.packageName,quantity:l.quantity,token:void 0,dtr:l.disableTrial,verifyCode:""},this.captcha||(this.captcha=new p.default(document.body)),[4,this.captcha.execute()];case 1:return n=e.sent(),t.verifyCode=n,[4,this._setupPaymentVia(t,l.paymentVia)];case 2:return e.sent(),n=c.post(u.BUY_PACKAGE,t),r=(o=JSON).parse,[4,n.promise()];case 3:return(i=r.apply(o,[e.sent()]),a={type:"package",notifyParams:t},this.needs3DSecure(i))?[4,this._resolve3DSecure(i,a)]:[3,5];case 4:return s=e.sent(),[3,6];case 5:s=i,e.label=6;case 6:return[2,s]}})})},f.prototype._setupPaymentVia=function(i,o){return t(this,void 0,void 0,function(){var t,n;return d(this,function(e){switch(e.label){case 0:switch(n=o.type,o.type){case"stripeElement":return[3,1];case"stripeElementUpdateCard":return[3,3];case"paymentMethod":return[3,5]}return[3,6];case 1:return[4,this.getPaymentCardToken(o.cardElement)];case 2:return t=e.sent(),i.token=t.id,[3,7];case 3:return[4,this.getPaymentCardToken(o.cardElement)];case 4:return t=e.sent(),i.token=t.id,i.updatecard=!0,[3,7];case 5:return o.info,[3,7];case 6:throw"Unknown paymentVia type '"+n+"'";case 7:return[2]}})})},f.prototype._resolve3DSecure=function(o,r){return t(this,void 0,void 0,function(){var t,n,i;return d(this,function(e){switch(e.label){case 0:return this.needs3DSecure(o)?(t=this.extractIntentInfo(o),[4,this.show3DSecureScreenToUser(t)]):[2,o];case 1:switch(n=e.sent(),t.intentType){case"setup_intent":return[3,2];case"payment_intent":return[3,3]}return[3,5];case 2:return[2,o];case 3:return i=n.paymentIntent.id,[4,this.confirmPayment3DSecure(i,r)];case 4:return[2,o=e.sent()];case 5:throw"Unknown intent type "+t.intentType}})})},f.prototype.needs3DSecure=function(e){return!(!e||!e.user)&&("payment_intent"in e.user||"setup_intent"in e.user)},f.prototype.extractIntentInfo=function(e){var t;if(e.user.payment_intent)t="payment_intent";else{if(!e.user.setup_intent)throw"Unknown IntentType";t="setup_intent"}return{intentType:t,intentSecret:"payment_intent"===t?e.user.payment_intent:e.user.setup_intent}},f.prototype.confirmPayment3DSecure=function(o,r){return t(this,void 0,void 0,function(){var t,n,i;return d(this,function(e){switch(e.label){case 0:return t=Object.assign({},{payment_intent_id:o},r,r.notifyParams),t=c.post(u.CONFIRM_3DSECURE_PAYMENT,t),i=(n=JSON).parse,[4,t.promise()];case 1:return[2,i.apply(n,[e.sent()])]}})})},f.prototype.show3DSecureScreenToUser=function(i){return t(this,void 0,void 0,function(){var t,n;return d(this,function(e){switch(e.label){case 0:return[4,this.stripe];case 1:switch(t=e.sent(),i.intentType){case"setup_intent":return[3,2];case"payment_intent":return[3,4]}return[3,6];case 2:return[4,t.confirmCardSetup(i.intentSecret)];case 3:return n=e.sent(),[3,7];case 4:return[4,t.confirmCardPayment(i.intentSecret)];case 5:return n=e.sent(),[3,7];case 6:throw"Unknown secretType "+i.intentType;case 7:if("error"in n&&n.error)throw n;return[2,n]}})})},f.prototype.getPaymentCardToken=function(i){return t(this,void 0,void 0,function(){var t,n;return d(this,function(e){switch(e.label){case 0:return[4,this.stripe];case 1:t=e.sent(),e.label=2;case 2:return e.trys.push([2,4,,5]),[4,t.createToken(i)];case 3:return n=e.sent(),[3,5];case 4:throw e.sent();case 5:if(n.error)throw this.view.notifyCardErrorMsg(n.error.message),n;return[2,n.token]}})})},Object.defineProperty(f.prototype,"stripe",{get:function(){var n=this;return this._stripe?Promise.resolve(this._stripe):new Promise(function(t,e){n.createStripeInstance().then(function(e){n._stripe=e,t(n._stripe)})})},enumerable:!1,configurable:!0}),f.prototype.loadStripeLibrary=function(){return t(this,void 0,void 0,function(){var i=this;return d(this,function(e){switch(e.label){case 0:return this.isStripeLibLoaded?(this.captcha||(this.captcha=new p.default(document.body)),[2,window.Stripe]):[4,new Promise(function(e,t){r.lazyload(f.stripeLibSrc);var n=window.setInterval(function(){i.isStripeLibLoaded&&(clearInterval(n),i.captcha=new p.default(document.body),e(window.Stripe))},100)})];case 1:return[2,e.sent()]}})})},f.prototype.createStripeInstance=function(){return t(this,void 0,void 0,function(){var t,i,o=this;return d(this,function(e){switch(e.label){case 0:return[4,this.loadStripeLibrary()];case 1:return t=e.sent(),i=t(f.stripeKey,{locale:window.lang}),this.isStripeInstanceReady(i)?[2,i]:[4,new Promise(function(e,t){var n=window.setInterval(function(){o.isStripeInstanceReady(i)&&(window.clearInterval(n),e(i))},100)})];case 2:return[2,e.sent()]}})})},f.prototype.isStripeInstanceReady=function(e){return"object"==typeof e},Object.defineProperty(f.prototype,"isStripeLibLoaded",{get:function(){return null!==window.Stripe&&"function"==typeof window.Stripe},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"paymentVia",{get:function(){return this._paymentVia},enumerable:!1,configurable:!0}),f.prototype.dispatchEvent=function(e){return this.eventEmitter.dispatchEvent(e)},f.prototype.addEventListener=function(e,t){return this.eventEmitter.addEventListener(e,t)},f.stripeKey=e.Settings.get("stripe_key"),f.stripeLibSrc="https://js.stripe.com/v3/",f);function f(e){var t=this;void 0===e&&(e={}),this.eventEmitter=new s.ILoveEventEmitter,this.view=new a.StripeView(this,{onActionButtonClicked:function(){t.dispatchEvent(new l.IloveEvent("View:ActionButtonClicked"))}})}h.StripeService=n}.call(this,g(1))},function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,o)}r((l=l.apply(e,a||[])).next())})},c=this&&this.__generator||function(i,o){var r,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(s=0<(s=l.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],a=0}finally{r=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},u=(Object.defineProperty(t,"__esModule",{value:!0}),t.StripeView=void 0,n(55)),l=n(13);function d(e,t){var o=this;this._onKeepPaymentMethodBtnClicked=function(e,t){if("stripe"!==t.provider)throw"Payment method is not from provider Stripe";var n=o.currentPaymentMethodView,i=o.newPaymentMethodView;o.stripeService.setPaymentVia({type:"paymentMethod",info:t}),o.payButton.disabled=!1,n.style.display="",i.style.display="none"},this._onChangePaymentMethodBtnClicked=function(e,t){var n=o.currentPaymentMethodView,i=o.newPaymentMethodView;o.stripeService.setPaymentVia({type:"stripeElementUpdateCard",cardElement:t}),o.payButton.disabled=!1,n.style.display="none",i.style.display=""},this._onPayButtonClicked=function(){o.callback_onActionButtonClicked()},this._onStripeNewCardChange=function(e){e.error?o.notifyCardErrorMsg(e.error.message):o.clearCardErrorMsg(),o.payButton.disabled=!1},this.stripeService=e,this.callback_onActionButtonClicked=t.onActionButtonClicked}d.prototype.getTranslationText=function(e){var t=this.view.querySelector(".stripe__text-translations");if(!t)throw"Stripe text translations not found";if(e in(t=JSON.parse(t.textContent)))return t[e];throw"Stripe translation for key "+e+" not found"},d.prototype.disableActionButton=function(){this.view&&(this.payButton.disabled=!1)},d.prototype.enableActionButton=function(){this.view&&(this.payButton.disabled=!1)},d.prototype.mount=function(a,s){var l;return o(this,void 0,void 0,function(){var t,n,i,o,r;return c(this,function(e){switch(e.label){case 0:return this.view?[2,this.view]:[4,u.AjaxTemplate.load(d.TEMPLATE_NAME)];case 1:if(t=e.sent(),(r=document.createElement("div")).innerHTML=t,this.view=r,a.appendChild(this.view),t=this.view.querySelector(d.cardMountPointSelector))return n=this.currentPaymentMethodView,i=this.newPaymentMethodView,[4,(o=this).mountCardOn(t)];throw"Mount point for Stripe card not found";case 2:return o.card=e.sent(),(r="currentPaymentMethod"in s&&"stripe"===(null==(l=null==s?void 0:s.currentPaymentMethod)?void 0:l.provider)&&s.currentPaymentMethod.last_card)?i.style.display="none":n.style.display="none",r?(this.setupViewCurrentPaymentMethod(s.currentPaymentMethod,this.card),this.payButton.disabled=!1,this.stripeService.setPaymentVia({type:"paymentMethod",info:s.currentPaymentMethod})):this.stripeService.setPaymentVia({type:"stripeElement",cardElement:this.card}),this.payButton.innerHTML=s.paymentButtonText,this.payButton.addEventListener("click",this._onPayButtonClicked),[2,this.view]}})})},d.prototype.setupViewCurrentPaymentMethod=function(t,n){var i=this;if("stripe"!==t.provider)throw"Payment method is not from provider Stripe";var e=this.currentPaymentMethodView,o=this.newPaymentMethodView,r=e.querySelector(".payment__card-details__text");if(!r)throw"Stripe - Card Details text not found";var a=r.querySelector(".payment__card-details__text__brand"),r=r.querySelector(".payment__card-details__text__expires"),s=a.innerHTML.replace("${cardBrand}","<span class='payment__card-brand'>${cardBrand}</span>"),a=(a.innerHTML=l.Lang.tr(s,{cardBrand:t.brand_card||"",cardLast4Digits:t.last_card}),r.innerHTML=l.Lang.tr(r.innerHTML,{expMonthCard:t.exp_month_card,expYearCard:t.exp_year_card}),e.querySelector(".payment__card-details__change-btn"));if(!a)throw"Change button for Stripe - CurrentPaymentMethod view not found";a.addEventListener("click",function(e){i._onChangePaymentMethodBtnClicked(e,n)});s=o.querySelector(".payment__card-details__keep-card-btn");if(s.style.display="",!s)throw"'Keep payment method' button for Stripe not found";s.innerHTML=l.Lang.tr(s.innerHTML,{cardBrand:t.brand_card||"",cardLast4Digits:t.last_card}),s.addEventListener("click",function(e){i._onKeepPaymentMethodBtnClicked(e,t)})},Object.defineProperty(d.prototype,"currentPaymentMethodView",{get:function(){var e=this.view.querySelector(".payment__stripe-view__current-payment-method-view");if(e)return e;throw"Stripe - Current Payment Method view not found"},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"newPaymentMethodView",{get:function(){var e=this.view.querySelector(".payment__stripe-view__new-payment-method-view");if(e)return e;throw"Stripe - New Payment Method view not found"},enumerable:!1,configurable:!0}),d.prototype.mountCardOn=function(i){return o(this,void 0,void 0,function(){var t,n;return c(this,function(e){switch(e.label){case 0:return[4,this.stripeService.stripe];case 1:return n=e.sent().elements(),t={base:{color:"#32325d",lineHeight:"24px",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}},(n=n.create("card",{style:t,hidePostalCode:!0})).mount(i),n.addEventListener("change",this._onStripeNewCardChange),[2,n]}})})},d.prototype.notifyCardErrorMsg=function(t){this.cardErrorMsgDom.forEach(function(e){e.classList.remove("payment__card-error--hidden"),e.textContent=t})},d.prototype.clearCardErrorMsg=function(){this.cardErrorMsgDom.forEach(function(e){e.classList.add("payment__card-error--hidden"),e.innerHTML="&nbsp;"})},Object.defineProperty(d.prototype,"payButton",{get:function(){var e=this.view.querySelector(".payment__pay-btn");if(e)return e;throw"Submit button not found"},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"cardErrorMsgDom",{get:function(){var e=Array.from(this.view.querySelectorAll(".payment__card-error"));if(0===e.length)throw"Card Error Msg DOM not found";return e},enumerable:!1,configurable:!0}),d.TEMPLATE_NAME="stripe",d.cardMountPointSelector=".payment__stripe-view__card-binding",t.StripeView=d},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=(Object.defineProperty(t,"__esModule",{value:!0}),r(n(37))),s=n(21),l=n(33),c="6LfLe9sbAAAAAO7MEsSovv3Na0tNlRReITiueEu8";function u(e,t){var n=this;void 0===t&&(t=null),this.onCaptchaValue=function(e){n.value=e,n.onCaptchaExecuted&&n.onCaptchaExecuted(n.value)},0!=this.captchaNeeded()&&(t&&(this.onCaptchaExecuted=t),this.elementRoot=e,this.appendToElement(),this.loadCaptchaJs())}u.prototype.loadCaptchaJs=function(){var n=this,i=this;return new Promise(function(e,t){if(window.grecaptcha)return n.grecaptcha=window.grecaptcha,e();a.lazyload("https://www.google.com/recaptcha/api.js?render="+c),n.captchaLoadInterval=window.setInterval(function(){null!==window.grecaptcha&&"object"==typeof window.grecaptcha&&(window.grecaptcha.ready(function(){return n.grecaptcha=window.grecaptcha,e()}),clearInterval(i.captchaLoadInterval))},100)})},u.prototype.appendToElement=function(){var e;document.getElementById("recaptcha")||((e=document.createElement("div")).setAttribute("id","recaptcha"),e.setAttribute("class","g-recaptcha"),e.setAttribute("data-sitekey",c),e.setAttribute("data-callback","onCaptchaValue"),e.setAttribute("data-size","invisible"),this.elementRoot.appendChild(e),window.onCaptchaValue=this.onCaptchaValue)},u.prototype._execute=function(e){return void 0===e&&(e=null),self.grecaptcha.execute()},u.prototype.execute=function(e){var n=this;return void 0===e&&(e=null),0==this.captchaNeeded()?(this.value=l.Tools.randomId(),Promise.resolve(this.value)):(e&&(this.onCaptchaExecuted=e),new Promise(function(t,e){n.captchaInterval=window.setInterval(function(){n.grecaptcha&&(clearInterval(n.captchaInterval),n._execute().then(function(e){t(e)}))},100)}))},u.prototype.captchaNeeded=function(){var e=s.UserModel.get();return e&&1==e.sus_rbt},t.default=u},function(e,t,n){"use strict";var s,l=this&&this.__assign||function(){return(l=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__awaiter||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,o)}r((l=l.apply(e,a||[])).next())})},c=this&&this.__generator||function(i,o){var r,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(s=0<(s=l.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],a=0}finally{r=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},u=(Object.defineProperty(t,"__esModule",{value:!0}),t.PaypalService=void 0,r(n(37))),d=r(n(80)),p=n(42),f=n(29),h=n(10),g=n(55),m=n(72),v=r(n(23)),n=((r=s=s||{}).CREATE_PAYMENT_SUBSC="/paypal/create",r.EXECUTE_PAYMENT_SUBSC="/paypal/execute",r.CREATE_PAYMENT_PKG="/paypal/createbuy",r.EXECUTE_PAYMENT_PKG="/paypal/executebuy",y.prototype.notifyErrorMsg=function(e){this.errorMsgDom.classList.remove("payment__method-error--hidden"),this.errorMsgDom.innerHTML=e},y.prototype.clearErrorMsg=function(){this.errorMsgDom.classList.add("payment__method-error--hidden"),this.errorMsgDom.innerHTML="&nbsp;"},y.prototype.getTranslationText=function(e){var t=this.view.querySelector(".paypal__text-translations");if(!t)throw"Paypal text translations not found";if(e in(t=JSON.parse(t.textContent)))return t[e];throw"Paypal translation for key "+e+" not found"},Object.defineProperty(y.prototype,"errorMsgDom",{get:function(){var e=this.view.querySelector(".payment__method-error");if(e)return e;throw"Missing Paypal Error message DOM not found"},enumerable:!1,configurable:!0}),y.prototype.mountView=function(o,r){return a(this,void 0,void 0,function(){var t,n,i;return c(this,function(e){switch(e.label){case 0:return this.view?[2,this.view]:[4,g.AjaxTemplate.load(y.TEMPLATE_NAME)];case 1:if(t=e.sent(),(n=document.createElement("div")).innerHTML=t,this.view=n,o.appendChild(this.view),!(i=this.view.querySelector(y.buttonMountPointSelector)))throw"Mount point for Paypal button not found";switch(r.action.actionName){case"PaySubscription":this.mountPaySubscription(i,r.action.actionParams);break;case"PayPackage":this.mountPayPackage(i,r.action.actionParams);break;case"UpdateSubscription":this.mountUpdateSubscription(i,r.action.actionParams);break;default:throw"Unknown Paypal action for Paypal mountPoint func"}return[2,this.view]}})})},y.prototype.mountPayPackage=function(i,o){return a(this,void 0,void 0,function(){var t,n;return c(this,function(e){switch(e.label){case 0:return this.packageParams=o,[4,this.loadPaypalLibrary()];case 1:return e.sent(),t=this._onPaymentInit_package,n=this._onAuthorize_package,this.mountPaypalButton(i,{payment:t,onAuthorize:n}),[2]}})})},y.prototype.mountPaySubscription=function(i,o){return a(this,void 0,void 0,function(){var t,n;return c(this,function(e){switch(e.label){case 0:return this.subscriptionParams=o,[4,this.loadPaypalLibrary()];case 1:return e.sent(),t=this._onPaymentInit_subsc,n=this._onAuthorize_subsc,this.mountPaypalButton(i,{payment:t,onAuthorize:n}),[2]}})})},y.prototype.mountUpdateSubscription=function(t,n){return a(this,void 0,void 0,function(){return c(this,function(e){return[2,this.mountPaySubscription(t,n)]})})},y.prototype.mountPaypalButton=function(n,i){return a(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return[4,this.loadPaypalLibrary()];case 1:return t=e.sent(),n.getAttribute("id")||n.setAttribute("id",m.Tools.randomId()),t.Button.render({env:p.Settings.get("paypal_env"),locale:this.assignedLocale,commit:!0,style:{label:"paypal",size:"medium",shape:"rect",color:"blue",tagline:!1},client:{sandbox:p.Settings.get("paypal_sandbox_key"),production:p.Settings.get("paypal_production_key")},payment:i.payment,onAuthorize:i.onAuthorize,onCancel:this._onCancel},"#"+n.getAttribute("id")),[2]}})})},y.prototype.removeUndefinedValuesFromObject=function(e){var t,n={};for(t in e)void 0===e[t]||(n[t]=e[t]);return n},y.prototype.loadPaypalLibrary=function(){return a(this,void 0,void 0,function(){var i=this;return c(this,function(e){switch(e.label){case 0:return this.isPaypalLibLoaded?[2,window.paypal]:[4,new Promise(function(e,t){u.lazyload(y.paypalLibSrc);var n=window.setInterval(function(){i.isPaypalLibLoaded&&(clearInterval(n),e(window.paypal))},100)})];case 1:return[2,e.sent()]}})})},Object.defineProperty(y.prototype,"paypal",{get:function(){var n=this;return new Promise(function(t,e){n.loadPaypalLibrary().then(function(e){return t(e)})})},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"isPaypalLibLoaded",{get:function(){return null!==window.paypal&&"object"==typeof window.paypal},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"assignedLocale",{get:function(){var e="en_US";switch(window.lang){case"en-US":e="en_US";break;case"es":e="es_ES";break;case"it":e="it_IT";break;case"fr":e="fr_FR";break;case"de":e="de_DE";break;case"pt":e="pt_BR";break;case"zh-cn":e="zh_CN";break;case"id":e="id_ID";break;case"ja":e="ja_JP";break;case"nl":e="nl_NL";break;case"pl":e="pl_PL";break;case"ru":e="ru_RU";break;case"sv":e="sv_SE";break;case"th":e="th_TH";break;case"zh-tw":e="zh_TW"}return e},enumerable:!1,configurable:!0}),y.prototype.dispatchEvent=function(e){return this.eventEmitter.dispatchEvent(e)},y.prototype.addEventListener=function(e,t){return this.eventEmitter.addEventListener(e,t)},y.paypalLibSrc="https://www.paypalobjects.com/api/checkout.js",y.TEMPLATE_NAME="paypal",y.buttonMountPointSelector=".payment__paypal-view__button-binding",y);function y(e){var a=this;if(void 0===e&&(e={}),this._onPaymentInit_package=function(){a._onPaypalButtonClicked();var n=a,i="payPackage",o=a.packageParams;return window.paypal.request.post(s.CREATE_PAYMENT_PKG,{package:o.packageName(),quantity:o.quantity(),dtr:o.disableTrial()}).then(function(e){return n.dispatchEvent(new h.IloveEvent("onPaymentInited",{action:i,params:o,response:e})),e},function(t){v.configureScope(function(e){e.setExtra("error",JSON.parse(t))}),v.captureMessage("Paypal: error on create payment package"),n.dispatchEvent(new h.IloveEvent("onPaymentInited_error",{action:i,params:o,error:JSON.parse(t)}))})},this._onAuthorize_package=function(e){var n=a,i="payPackage",o=a.packageParams;return window.paypal.request.post(s.EXECUTE_PAYMENT_PKG,{token:e.paymentToken,payment_id:e.paymentID,payer_id:e.payerID,package:o.packageName(),quantity:o.quantity(),dtr:o.disableTrial()}).then(function(e){n.dispatchEvent(new h.IloveEvent("onPaymentAuthorized",{action:i,params:o,response:e}))},function(t){v.configureScope(function(e){e.setExtra("error",JSON.parse(t))}),v.captureMessage("Paypal: error on execute payment package"),n.dispatchEvent(new h.IloveEvent("onPaymentAuthorized_error",{action:i,params:o,error:JSON.parse(t)}))})},this._onPaymentInit_subsc=function(){a._onPaypalButtonClicked();var n=a,i="paySubscription",e=window.paypal,o=a.subscriptionParams,t=a.removeUndefinedValuesFromObject({interval:o.subscriptionInterval(),users:o.numUsers(),signatures:o.numDigitalSignatures(),dtr:o.disableTrial()});return e.request.post(s.CREATE_PAYMENT_SUBSC,t).then(function(e){return n.dispatchEvent(new h.IloveEvent("onPaymentInited",{action:i,params:o,response:e})),e},function(t){v.configureScope(function(e){e.setExtra("error",JSON.parse(t))}),v.captureMessage("Paypal: error on create payment subscription"),n.dispatchEvent(new h.IloveEvent("onPaymentInited_error",{action:i,params:o,error:JSON.parse(t)}))})},this._onPaypalButtonClicked=function(){a.clearErrorMsg()},this._onAuthorize_subsc=function(e){var n=a,i="paySubscription",t=window.paypal,o=a.subscriptionParams,r=a.removeUndefinedValuesFromObject({interval:o.subscriptionInterval(),users:o.numUsers(),signatures:o.numDigitalSignatures(),dtr:o.disableTrial()});return t.request.post(s.EXECUTE_PAYMENT_SUBSC,l({token:e.paymentToken,payment_id:e.paymentID,payer_id:e.payerID},r)).then(function(e){n.dispatchEvent(new h.IloveEvent("onPaymentAuthorized",{action:i,params:o,response:e}))},function(t){v.configureScope(function(e){e.setExtra("error",JSON.parse(t))}),v.captureMessage("Paypal: error on execute payment subscription"),n.dispatchEvent(new h.IloveEvent("onPaymentAuthorized_error",{action:i,params:o,error:JSON.parse(t)}))})},this._onCancel=function(e){},this.eventEmitter=new f.ILoveEventEmitter,d.isIEIntranet())throw"Is IE Intranet"}t.PaypalService=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lazyloadCss=void 0,t.lazyloadCss=function(e,t){void 0===t&&(t={});for(var n=document.getElementsByTagName("link"),i=n.length;i--;)if(n[i].hasAttribute("href")&&n[i].href.match(e))return!0;var o,r,a=document.createElement("link");for(o in a.rel="stylesheet",a.href=e,t)t.hasOwnProperty(o)&&(r=t[o],a.setAttribute(o,r));var s=document.getElementsByTagName("link")[0];return s.parentNode.insertBefore(a,s),!0}},function(e,t,n){"use strict";!function(n){function e(){}Object.defineProperty(t,"__esModule",{value:!0}),t.TextHelper=void 0,e.width=function(e,t){void 0===t&&(t=null);e=n("<div>"+e+"</div>"),e.css({position:"absolute",visibility:"hidden",height:"auto",width:"auto","white-space":"nowrap","font-size":t}),e.appendTo(n("body")),t=e.width();return e.remove(),t},e.getExistantTextNodeHeight=function(e){var t,n=0;return n=document.createRange&&((t=document.createRange()).selectNodeContents(e),t.getBoundingClientRect)&&(e=t.getBoundingClientRect())?e.bottom-e.top:n},e.sanitize=function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};return e.replace(/[&<>"'/]/gi,function(e){return t[e]})},e.stripTags=function(e){return e.replace(/(<([^>]+)>)/gi,"")},e.maxLength=function(e,t){return e.substring(0,t)},e.maxLengthEllipse=function(e,t){return e.length>t?e.substring(0,t-3)+"...":e},e.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e.setEndOfContenteditable=function(e){var t,n;document.createRange?((t=document.createRange()).selectNodeContents(e),t.collapse(!1),(n=window.getSelection()).removeAllRanges(),n.addRange(t)):document.selection&&((t=document.body.createTextRange()).moveToElementText(e),t.collapse(!1),t.select())},t.TextHelper=e}.call(this,n(1))},function(e,t){function n(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}"function"!=typeof window.CustomEvent&&(n.prototype=window.Event.prototype,window.CustomEvent=n)},function(e,t,n){!function(n){var e;String.prototype.ucFirst=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.camelCase=function(){return this.replace(/-([a-z])/gi,function(e,t){return t.toUpperCase()})},n.fn.exchangePositionWith=function(e){var e=n(e),t=n("<span>").hide();this.before(t),e.before(this),t.replaceWith(e)},Array.prototype.move=function(e,t){if(t>=this.length)for(var n=t-this.length;1+n--;)this.push(void 0);return this.splice(t,0,this.splice(e,1)[0]),this},String.prototype.trunc=function(e){return this.substr(0,e-1)+(this.length>e?"&hellip;":"")},String.prototype.trim||(e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,String.prototype.trim=function(){return this.replace(e,"")}),String.prototype.ltrim||(String.prototype.ltrim=function(){return this.replace(/^\s+/g,"")})}.call(this,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkPreloadIsNeeded=t.get_browser=t.isSafari=t.isIE11=t.isEdgeBrowser=void 0;var i=n(80);function o(e){return void 0===e&&(e=i.getUserAgent()),/^((?!chrome|android|crios).)*safari/i.test(e)}function r(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?{name:"IE",version:(e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""}:"Chrome"===n[1]&&null!=(e=t.match(/\bOPR|Edge\/(\d+)/))?{name:"Opera",version:e[1]}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),{name:n[0],version:n[1]})}t.isEdgeBrowser=function(e){return void 0===e&&(e=i.getUserAgent()),/Edge/i.test(e)},t.isIE11=function(){return!!window.MSInputMethodContext&&!!document.documentMode},t.isSafari=o,t.get_browser=r,t.checkPreloadIsNeeded=function(){var e;return!(!i.isIos()&&!o())||"Chrome"==(e=r()).name&&e.version<=73||"Firefox"==e.name&&e.version<=94||"Edge"==e.name&&e.version<=18||"Yandex"==e.name}},function(e,t,n){"use strict";function i(e){this.tool=null,this.subtool=null,this.config=null,Object.assign(this,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Config=void 0,i.prototype.getConfig=function(e){return(this.subtool in this.config&&e in this.config[this.subtool]?this.config[this.subtool]:this.tool in this.config&&e in this.config[this.tool]?this.config[this.tool]:this.config.default)[e]},t.Config=i},,function(e,l,c){"use strict";!function(i){Object.defineProperty(l,"__esModule",{value:!0}),l.IlovepdfWeb=void 0;var t=c(21),n=c(128),e=c(43),o=c(33),r=c(75),a=c(76);function s(){this.init()}s.prototype.init=function(){if(this.initTopMenu(),this.initCookieLaw(),this.initChangeLang(),this.initFormElements(),this.tooltipElements(),n.Popup.initTermsPopup(),this.detectAutomate(),Cookies.remove("lastTool"),window.tools=o.Tools,window.ilove_openSocialAuthPopup=function(e,t){r.SocialAuthPopup.open(e,{},t)},1==this.inIframe()){if(window.location.href==atob("aHR0cHM6Ly93d3cuaWxvdmVwZGYuY29tL2ZvcmJpZGRlbmlmcmFtZQ=="))return;window.location.href=atob("aHR0cHM6Ly93d3cuaWxvdmVwZGYuY29tL2ZvcmJpZGRlbmlmcmFtZQ==")}var t=!1,e=document.getElementById("pickfiles");null!=e&&(e.addEventListener("click",function(e){t=!0}),window.addEventListener("focus",function(e){t&&(a.Banner.preventClickAds(),t=!1)}))},s.prototype.initTopMenu=function(){i(".dropdown, #menuSmall").on("click",function(e){e.stopPropagation(),i(this).toggleClass("active"),i(".collapsiblock").not(this).removeClass("active")}),i(window).resize(function(){i(".dropdown, #menuSmall").removeClass("active")}),i("html").on("click",function(e){i(".dropdown, #menuSmall").removeClass("active")}),i(".logout").click(function(e){e.preventDefault(),t.UserModel.logout()})},s.prototype.initCookieLaw=function(){var e,t;function n(){window.Cookies.set("hcookie",1,{expires:3600,path:"/"})}4==window.Cookies.get("ck")&&window.Cookies.set("ck",1,{expires:3600,path:"/"}),null!=window.uCookie&&(e=["AT","BE","HR","BG","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","GB","BR"],-1===i.inArray(window.uCookie.uc,e)&&n(),0==window.uCookie.ck)&&-1!=i.inArray(window.uCookie.uc,e)&&(t=window.Toastr.info(window.uCookie.content+window.uCookie.buttons,window.uCookie.title,{positionClass:"toast-bottom-left ck-tstr",timeOut:0,extendedTimeOut:"0",tapToDismiss:!1,closeButton:!1}),i("#okck").on("click",function(e){window.lGptAs&&window.lGptAs(),i("#ck_set").hasClass("open")?i("#allowpads").is(":checked")&&i("#allowanalytics").is(":checked")?(window.Cookies.set("hcookie",1,{expires:3600,path:"/"}),window.Cookies.set("ck",1,{expires:3600,path:"/"}),window.lAdM&&window.lAdM(0),window.gTload&&window.gTload(),window.ilovepdfConfig&&window.Cookies.set("lastTool",window.ilovepdfConfig.tool),void 0!==window.gtag&&window.gtag("consent","update",{ad_storage:"granted",analytics_storage:"granted"})):i("#allowpads").is(":checked")?(window.Cookies.set("hcookie",1,{expires:0,path:"/"}),window.Cookies.set("ck",2,{expires:10,path:"/"}),window.lAdM&&window.lAdM(0),window.gTload&&window.gTload(),void 0!==window.gtag&&window.gtag("consent","update",{ad_storage:"granted",analytics_storage:"denied"})):i("#allowanalytics").is(":checked")?(window.Cookies.set("hcookie",1,{expires:0,path:"/"}),window.Cookies.set("ck",3,{expires:10,path:"/"}),window.lAdM&&window.lAdM(1),window.gTload&&window.gTload(),window.ilovepdfConfig&&window.Cookies.set("lastTool",window.ilovepdfConfig.tool),void 0!==window.gtag&&window.gtag("consent","update",{ad_storage:"denied",analytics_storage:"granted"})):i("#allowpads").is(":checked")||i("#allowanalytics").is(":checked")||(window.Cookies.set("hcookie",1,{expires:0,path:"/"}),window.Cookies.set("ck",0,{expires:10,path:"/"}),window.lAdM&&window.lAdM(1),window.gTload&&window.gTload(),void 0!==window.gtag&&window.gtag("consent","update",{ad_storage:"denied",analytics_storage:"denied"})):(window.ilovepdfConfig&&window.Cookies.set("lastTool",window.ilovepdfConfig.tool),window.lAdM&&window.lAdM(0),window.gTload&&window.gTload(),void 0!==window.gtag&&window.gtag("consent","update",{ad_storage:"granted",analytics_storage:"granted"}),window.Cookies.set("ck",4,{expires:3600,path:"/"}),n()),t.remove()}),i("#ck_set").on("click",function(e){i("#ck_set").hasClass("open")?(i("#ck_set").removeClass("open"),i("#ck_cnt").html(window.uCookie.content),i("#okck").html(window.uCookie.accept_all),i("#ck_set").html(window.uCookie.settings_txt)):(i("#ck_set").addClass("open"),i("#ck_cnt").html(window.uCookie.settings),i("#ck_set").html(window.uCookie.close_settings),i("#okck").html(window.uCookie.save_txt))}))},s.prototype.initChangeLang=function(){void 0!==window.changeLang&&1!=window.Cookies.get("lcookie")&&(window.yesLang=function(){window.Cookies.set("lcookie",1),window.location.href=window.changeLang.urlLang},window.noLang=function(){window.Cookies.set("lcookie",1)},window.Toastr.info(window.changeLang.text,window.changeLang.title,{closeButton:!0,debug:!1,positionClass:"toast-bottom-left",onclick:null,showDuration:"1000",hideDuration:"1000",timeOut:"500000",extendedTimeOut:"100000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"}))},s.prototype.initFormElements=function(){i("form").preventDoubleSubmission(),i('input[type="color"], input.color').not(".no-picker").each(function(e,t){o.Tools.colorpicker(t)})},s.prototype.tooltipElements=function(){e.Tooltip.init()},s.prototype.detectAutomate=function(){1==function(){try{if(/HeadlessChrome/.test(window.navigator.userAgent))return!0}catch(e){}try{if(""===navigator.languages)return!0}catch(e){}try{if(navigator.webdriver)return!0}catch(e){}try{if(window.document.documentElement.getAttribute("webdriver"))return!0}catch(e){}try{if(1==navigator.webdriver)return!0}catch(e){}try{if(1==navigator.domAutomation)return!0}catch(e){}try{if(window.document.documentElement.getAttribute("webdriver"))return!0}catch(e){}try{if(window.callPhantom||window._phantom)return!0}catch(e){}try{if("_Selenium_IDE_Recorder"in window)return!0}catch(e){}try{if(window.Cypress)return!0}catch(e){}try{if("__webdriver_script_fn"in document)return!0}catch(e){}return!1}()&&(window.ev("send","event","hack","selenium"),window.ev("event","hack",{mode:"selenium"}))},s.prototype.inIframe=function(){try{return window.self!==window.top}catch(e){return!0}},l.IlovepdfWeb=s}.call(this,c(1))},function(e,t,n){n(129),n=[n(1)],void 0!==(t=function(v){return S=0,r="error",a="info",s="success",l="warning",e={clear:function(e,t){var n=b();x||y(n);i(e,n,t)||!function(e){for(var t=x.children(),n=t.length-1;0<=n;n--)i(v(t[n]),e)}(n)},remove:function(e){var t=b();x||y(t);e&&0===v(":focus",e).length?w(e):x.children().length&&x.remove()},error:function(e,t,n){return o({type:r,iconClass:b().iconClasses.error,message:e,optionsOverride:n,title:t})},getContainer:y,info:function(e,t,n){return o({type:a,iconClass:b().iconClasses.info,message:e,optionsOverride:n,title:t})},options:{},subscribe:function(e){t=e},success:function(e,t,n){return o({type:s,iconClass:b().iconClasses.success,message:e,optionsOverride:n,title:t})},version:"2.1.4",warning:function(e,t,n){return o({type:l,iconClass:b().iconClasses.warning,message:e,optionsOverride:n,title:t})}};function y(e,t){return e=e||b(),(x=v("#"+e.containerId)).length||t&&(t=e,(x=v("<div/>").attr("id",t.containerId).addClass(t.positionClass)).appendTo(v(t.target))),x}function i(e,t,n){n=!(!n||!n.force)&&n.force;return e&&(n||0===v(":focus",e).length)&&(e[t.hideMethod]({duration:t.hideDuration,easing:t.hideEasing,complete:function(){w(e)}}),1)}function _(e){t&&t(e)}function o(e){var o=b(),t=e.iconClass||o.iconClass;if(void 0!==e.optionsOverride&&(o=v.extend(o,e.optionsOverride),t=e.optionsOverride.iconClass||t),!function(e,t){if(e.preventDuplicates){if(t.message===E)return 1;E=t.message}return}(o,e)){S++,x=y(o,!0);var r=null,a=v("<div/>"),n=v("<div/>"),i=v("<div/>"),s=v("<div/>"),l=v(o.closeHtml),c={intervalId:null,hideEta:null,maxHideTime:null},u={toastId:S,state:"visible",startTime:new Date,options:o,map:e},d=(e.iconClass&&a.addClass(o.toastClass).addClass(t),e.title&&(t=e.title,o.escapeHtml&&(t=p(e.title)),n.append(t).addClass(o.titleClass),a.append(n)),e.message&&(t=e.message,o.escapeHtml&&(t=p(e.message)),i.append(t).addClass(o.messageClass),a.append(i)),o.closeButton&&(l.addClass(o.closeClass).attr("role","button"),a.prepend(l)),o.progressBar&&(s.addClass(o.progressClass),a.prepend(s)),o.rtl&&a.addClass("rtl"),o.newestOnTop?x.prepend(a):x.append(a),"");switch(e.iconClass){case"toast-success":case"toast-info":d="polite";break;default:d="assertive"}return a.attr("aria-live",d),a.hide(),a[o.showMethod]({duration:o.showDuration,easing:o.showEasing,complete:o.onShown}),0<o.timeOut&&(r=setTimeout(f,o.timeOut),c.maxHideTime=parseFloat(o.timeOut),c.hideEta=(new Date).getTime()+c.maxHideTime,o.progressBar)&&(c.intervalId=setInterval(m,10)),o.closeOnHover&&a.hover(g,h),!o.onclick&&o.tapToDismiss&&a.click(f),o.closeButton&&l&&l.click(function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&!0!==e.cancelBubble&&(e.cancelBubble=!0),o.onCloseClick&&o.onCloseClick(e),f(!0)}),o.onclick&&a.click(function(e){o.onclick(e),f()}),_(u),o.debug&&console,a}function p(e){return(e=null==e?"":e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function f(e){var t=e&&!1!==o.closeMethod?o.closeMethod:o.hideMethod,n=e&&!1!==o.closeDuration?o.closeDuration:o.hideDuration,i=e&&!1!==o.closeEasing?o.closeEasing:o.hideEasing;if(!v(":focus",a).length||e)return clearTimeout(c.intervalId),a[t]({duration:n,easing:i,complete:function(){w(a),clearTimeout(r),o.onHidden&&"hidden"!==u.state&&o.onHidden(),u.state="hidden",u.endTime=new Date,_(u)}})}function h(){(0<o.timeOut||0<o.extendedTimeOut)&&(r=setTimeout(f,o.extendedTimeOut),c.maxHideTime=parseFloat(o.extendedTimeOut),c.hideEta=(new Date).getTime()+c.maxHideTime)}function g(){clearTimeout(r),c.hideEta=0,a.stop(!0,!0)[o.showMethod]({duration:o.showDuration,easing:o.showEasing})}function m(){var e=(c.hideEta-(new Date).getTime())/c.maxHideTime*100;s.width(e+"%")}}function b(){return v.extend({},{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1},e.options)}function w(e){x=x||y(),e.is(":visible")||(e.remove(),e=null,0===x.children().length&&(x.remove(),E=void 0))}var x,t,E,S,r,a,s,l,e}.apply(t,n))&&(e.exports=t)},function(t,n,i){"use strict";function u(e,t){void 0===t&&(t=!1);t=e.getBoundingClientRect();return{width:+t.width,height:+t.height,top:+t.top,right:+t.right,bottom:+t.bottom,left:+t.left,x:+t.left,y:+t.top}}function _(e){var t;return null==e?window:"[object Window]"!==e.toString()?(t=e.ownerDocument)&&t.defaultView||window:e}function g(e){e=_(e);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function f(e){return e instanceof _(e).Element||e instanceof Element}function l(e){return e instanceof _(e).HTMLElement||e instanceof HTMLElement}function r(e){return"undefined"!=typeof ShadowRoot&&(e instanceof _(e).ShadowRoot||e instanceof ShadowRoot)}function c(e){return e?(e.nodeName||"").toLowerCase():null}function b(e){return((f(e)?e.ownerDocument:e.document)||window.document).documentElement}function m(e){return u(b(e)).left+g(e).scrollLeft}function w(e){return _(e).getComputedStyle(e)}function v(e){var e=w(e),t=e.overflow,n=e.overflowX,e=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+e+n)}function y(e,t,n){void 0===n&&(n=!1);var i=l(t),o=l(t)&&(r=(a=(o=t).getBoundingClientRect()).width/o.offsetWidth||1,a=a.height/o.offsetHeight||1,1!==r||1!==a),r=b(t),a=u(e,o),e={scrollLeft:0,scrollTop:0},s={x:0,y:0};return!i&&n||("body"===c(t)&&!v(r)||(e=(i=t)!==_(i)&&l(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:g(i)),l(t)?((s=u(t,!0)).x+=t.clientLeft,s.y+=t.clientTop):r&&(s.x=m(r))),{x:a.left+e.scrollLeft-s.x,y:a.top+e.scrollTop-s.y,width:a.width,height:a.height}}function N(e){var t=u(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function a(e){return"html"===c(e)?e:e.assignedSlot||e.parentNode||(r(e)?e.host:null)||b(e)}function h(e,t){void 0===t&&(t=[]);var n=function e(t){return 0<=["html","body","#document"].indexOf(c(t))?t.ownerDocument.body:l(t)&&v(t)?t:e(a(t))}(e),e=n===(null==(e=e.ownerDocument)?void 0:e.body),i=_(n),i=e?[i].concat(i.visualViewport||[],v(n)?n:[]):n,n=t.concat(i);return e?n:n.concat(h(a(i)))}function s(e){return l(e)&&"fixed"!==w(e).position?e.offsetParent:null}function S(e){for(var t,n=_(e),i=s(e);i&&(t=i,0<=["table","td","th"].indexOf(c(t)))&&"static"===w(i).position;)i=s(i);return(!i||"html"!==c(i)&&("body"!==c(i)||"static"!==w(i).position))&&(i||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox"),n=-1!==navigator.userAgent.indexOf("Trident");if(!n||!l(e)||"fixed"!==w(e).position)for(var i=a(e);l(i)&&["html","body"].indexOf(c(i))<0;){var o=w(i);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||t&&"filter"===o.willChange||t&&o.filter&&"none"!==o.filter)return i;i=i.parentNode}return null}(e))||n}var T="top",C="bottom",P="right",A="left",B="auto",L=[T,C,P,A],I="start",x="end",z="clippingParents",U="viewport",d="popper",H="reference",q=L.reduce(function(e,t){return e.concat([t+"-"+I,t+"-"+x])},[]),W=[].concat(L,[B]).reduce(function(e,t){return e.concat([t,t+"-"+I,t+"-"+x])},[]),V=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function G(e){var n=new Map,i=new Set,o=[];return e.forEach(function(e){n.set(e.name,e)}),e.forEach(function(e){i.has(e.name)||!function t(e){i.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){i.has(e)||(e=n.get(e))&&t(e)}),o.push(e)}(e)}),o}var Y={placement:"bottom",modifiers:[],strategy:"absolute"};function X(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function Z(e){var e=e=void 0===e?{}:e,t=e.defaultModifiers,d=void 0===t?[]:t,t=e.defaultOptions,p=void 0===t?Y:t;return function(i,o,t){void 0===t&&(t=p);var n,r,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},Y,p),modifiersData:{},elements:{reference:i,popper:o},attributes:{},styles:{}},s=[],l=!1,c={state:a,setOptions:function(e){var n,t,e="function"==typeof e?e(a.options):e,e=(u(),a.options=Object.assign({},p,a.options,e),a.scrollParents={reference:f(i)?h(i):i.contextElement?h(i.contextElement):[],popper:h(o)},e=[].concat(d,a.options.modifiers),t=e.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{}),e=Object.keys(t).map(function(e){return t[e]}),n=G(e),V.reduce(function(e,t){return e.concat(n.filter(function(e){return e.phase===t}))},[]));return a.orderedModifiers=e.filter(function(e){return e.enabled}),a.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,e=e.effect;"function"==typeof e&&(e=e({state:a,name:t,instance:c,options:void 0===n?{}:n}),s.push(e||function(){}))}),c.update()},forceUpdate:function(){if(!l){var e=a.elements,t=e.reference,e=e.popper;if(X(t,e)){a.rects={reference:y(t,S(e),"fixed"===a.options.strategy),popper:N(e)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach(function(e){return a.modifiersData[e.name]=Object.assign({},e.data)});for(var n,i,o,r=0;r<a.orderedModifiers.length;r++)!0===a.reset?(a.reset=!1,r=-1):(n=(o=a.orderedModifiers[r]).fn,i=o.options,o=o.name,"function"==typeof n&&(a=n({state:a,options:void 0===i?{}:i,name:o,instance:c})||a))}}},update:(n=function(){return new Promise(function(e){c.forceUpdate(),e(a)})},function(){return r=r||new Promise(function(e){Promise.resolve().then(function(){r=void 0,e(n())})})}),destroy:function(){u(),l=!0}};return X(i,o)&&c.setOptions(t).then(function(e){!l&&t.onFirstUpdate&&t.onFirstUpdate(e)}),c;function u(){s.forEach(function(e){return e()}),s=[]}}}var p={passive:!0};function M(e){return e.split("-")[0]}function j(e){return e.split("-")[1]}function K(e){return 0<=["top","bottom"].indexOf(e)?"x":"y"}function Q(e){var t,n=e.reference,i=e.element,e=e.placement,o=e?M(e):null,e=e?j(e):null,r=n.x+n.width/2-i.width/2,a=n.y+n.height/2-i.height/2;switch(o){case T:t={x:r,y:n.y-i.height};break;case C:t={x:r,y:n.y+n.height};break;case P:t={x:n.x+n.width,y:a};break;case A:t={x:n.x-i.width,y:a};break;default:t={x:n.x,y:n.y}}var s=o?K(o):null;if(null!=s){var l="y"===s?"height":"width";switch(e){case I:t[s]=t[s]-(n[l]/2-i[l]/2);break;case x:t[s]=t[s]+(n[l]/2-i[l]/2)}}return t}var k=Math.max,O=Math.min,E=Math.round,$={top:"auto",right:"auto",bottom:"auto",left:"auto"};function J(e){var t,n,i,o=e.popper,r=e.popperRect,a=e.placement,s=e.variation,l=e.offsets,c=e.position,u=e.gpuAcceleration,d=e.adaptive,e=e.roundOffsets,p=!0===e?(p=(f=l).x,f=l.y,h=window.devicePixelRatio||1,{x:E(E(p*h)/h)||0,y:E(E(f*h)/h)||0}):"function"==typeof e?e(l):l,f=p.x,h=void 0===f?0:f,e=p.y,e=void 0===e?0:e,g=l.hasOwnProperty("x"),l=l.hasOwnProperty("y"),m=A,v=T,y=window,o=(d&&(i="clientHeight",n="clientWidth",(t=S(o))===_(o)&&"static"!==w(t=b(o)).position&&"absolute"===c&&(i="scrollHeight",n="scrollWidth"),a!==T&&(a!==A&&a!==P||s!==x)||(v=C,e=(e-(t[i]-r.height))*(u?1:-1)),a!==A&&(a!==T&&a!==C||s!==x)||(m=P,h=(h-(t[n]-r.width))*(u?1:-1))),Object.assign({position:c},d&&$));return u?Object.assign({},o,((i={})[v]=l?"0":"",i[m]=g?"0":"",i.transform=(y.devicePixelRatio||1)<=1?"translate("+h+"px, "+e+"px)":"translate3d("+h+"px, "+e+"px, 0)",i)):Object.assign({},o,((a={})[v]=l?e+"px":"",a[m]=g?h+"px":"",a.transform="",a))}var ee={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var o=e.state;Object.keys(o.elements).forEach(function(e){var t=o.styles[e]||{},n=o.attributes[e]||{},i=o.elements[e];l(i)&&c(i)&&(Object.assign(i.style,t),Object.keys(n).forEach(function(e){var t=n[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var i=e.state,o={popper:{position:i.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(i.elements.popper.style,o.popper),i.styles=o,i.elements.arrow&&Object.assign(i.elements.arrow.style,o.arrow),function(){Object.keys(i.elements).forEach(function(e){var t=i.elements[e],n=i.attributes[e]||{},e=Object.keys((i.styles.hasOwnProperty(e)?i.styles:o)[e]).reduce(function(e,t){return e[t]="",e},{});l(t)&&c(t)&&(Object.assign(t.style,e),Object.keys(n).forEach(function(e){t.removeAttribute(e)}))})}},requires:["computeStyles"]};var le={left:"right",right:"left",bottom:"top",top:"bottom"};function R(e){return e.replace(/left|right|bottom|top/g,function(e){return le[e]})}var ce={start:"end",end:"start"};function ue(e){return e.replace(/start|end/g,function(e){return ce[e]})}function de(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&r(n)){var i=t;do{if(i&&e.isSameNode(i))return!0}while(i=i.parentNode||i.host)}return!1}function pe(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function fe(e,t){return t===U?pe((i=_(n=e),o=b(n),i=i.visualViewport,r=o.clientWidth,o=o.clientHeight,s=a=0,i&&(r=i.width,o=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=i.offsetLeft,s=i.offsetTop)),{width:r,height:o,x:a+m(n),y:s})):l(t)?((r=u(i=t)).top=r.top+i.clientTop,r.left=r.left+i.clientLeft,r.bottom=r.top+i.clientHeight,r.right=r.left+i.clientWidth,r.width=i.clientWidth,r.height=i.clientHeight,r.x=r.left,r.y=r.top,r):pe((o=b(e),a=b(o),n=g(o),s=null==(s=o.ownerDocument)?void 0:s.body,t=k(a.scrollWidth,a.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),e=k(a.scrollHeight,a.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),o=-n.scrollLeft+m(o),n=-n.scrollTop,"rtl"===w(s||a).direction&&(o+=k(a.clientWidth,s?s.clientWidth:0)-t),{width:t,height:e,x:o,y:n}));var n,i,o,r,a,s}function he(n,e,t){var i,o="clippingParents"===e?(r=h(a(o=n)),f(i=0<=["absolute","fixed"].indexOf(w(o).position)&&l(o)?S(o):o)?r.filter(function(e){return f(e)&&de(e,i)&&"body"!==c(e)}):[]):[].concat(e),r=[].concat(o,[t]),e=r[0],t=r.reduce(function(e,t){t=fe(n,t);return e.top=k(t.top,e.top),e.right=O(t.right,e.right),e.bottom=O(t.bottom,e.bottom),e.left=k(t.left,e.left),e},fe(n,e));return t.width=t.right-t.left,t.height=t.bottom-t.top,t.x=t.left,t.y=t.top,t}function ge(){return{top:0,right:0,bottom:0,left:0}}function me(e){return Object.assign({},ge(),e)}function ve(n,e){return e.reduce(function(e,t){return e[t]=n,e},{})}function D(e,t){var i,t=t=void 0===t?{}:t,n=t.placement,n=void 0===n?e.placement:n,o=t.boundary,o=void 0===o?z:o,r=t.rootBoundary,r=void 0===r?U:r,a=t.elementContext,a=void 0===a?d:a,s=t.altBoundary,s=void 0!==s&&s,t=t.padding,t=void 0===t?0:t,t=me("number"!=typeof t?t:ve(t,L)),l=e.rects.popper,s=e.elements[s?a===d?H:d:a],s=he(f(s)?s:s.contextElement||b(e.elements.popper),o,r),o=u(e.elements.reference),r=Q({reference:o,element:l,strategy:"absolute",placement:n}),l=pe(Object.assign({},l,r)),r=a===d?l:o,c={top:s.top-r.top+t.top,bottom:r.bottom-s.bottom+t.bottom,left:s.left-r.left+t.left,right:r.right-s.right+t.right},l=e.modifiersData.offset;return a===d&&l&&(i=l[n],Object.keys(c).forEach(function(e){var t=0<=[P,C].indexOf(e)?1:-1,n=0<=[T,C].indexOf(e)?"y":"x";c[e]+=i[n]*t})),c}function F(e,t,n){return k(e,O(t,n))}function ye(e,t,n){return{top:e.top-t.height-(n=void 0===n?{x:0,y:0}:n).y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function _e(t){return[T,P,C,A].some(function(e){return 0<=t[e]})}var be=Z({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,i=(e=e.options).scroll,o=void 0===i||i,r=void 0===(i=e.resize)||i,a=_(t.elements.popper),s=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&s.forEach(function(e){e.addEventListener("scroll",n.update,p)}),r&&a.addEventListener("resize",n.update,p),function(){o&&s.forEach(function(e){e.removeEventListener("scroll",n.update,p)}),r&&a.removeEventListener("resize",n.update,p)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,e=e.name;t.modifiersData[e]=Q({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,e=e.options,n=void 0===(n=e.gpuAcceleration)||n,i=void 0===(i=e.adaptive)||i,e=void 0===(e=e.roundOffsets)||e,n={placement:M(t.placement),variation:j(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:n};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,J(Object.assign({},n,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:e})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,J(Object.assign({},n,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:e})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},ee,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var a=e.state,t=e.options,e=e.name,s=void 0===(t=t.offset)?[0,0]:t,t=W.reduce(function(e,t){var n,i,o,r;return e[t]=(t=t,n=a.rects,i=s,o=M(t),r=0<=[A,T].indexOf(o)?-1:1,t=(n="function"==typeof i?i(Object.assign({},n,{placement:t})):i)[0]||0,i=(n[1]||0)*r,0<=[A,P].indexOf(o)?{x:i,y:t}:{x:t,y:i}),e},{}),n=(i=t[a.placement]).x,i=i.y;null!=a.modifiersData.popperOffsets&&(a.modifiersData.popperOffsets.x+=n,a.modifiersData.popperOffsets.y+=i),a.modifiersData[e]=t}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var d=e.state,t=e.options,e=e.name;if(!d.modifiersData[e]._skip){for(var n=t.mainAxis,i=void 0===n||n,n=t.altAxis,o=void 0===n||n,n=t.fallbackPlacements,p=t.padding,f=t.boundary,h=t.rootBoundary,r=t.altBoundary,a=t.flipVariations,g=void 0===a||a,m=t.allowedAutoPlacements,a=d.options.placement,t=M(a),n=n||(t===a||!g?[R(a)]:M(n=a)===B?[]:(t=R(n),[ue(n),t,ue(t)])),s=[a].concat(n).reduce(function(e,t){return e.concat(M(t)===B?(n=d,i=(e=e=void 0===(e={placement:t,boundary:f,rootBoundary:h,padding:p,flipVariations:g,allowedAutoPlacements:m})?{}:e).placement,o=e.boundary,r=e.rootBoundary,a=e.padding,s=e.flipVariations,l=void 0===(e=e.allowedAutoPlacements)?W:e,c=j(i),e=c?s?q:q.filter(function(e){return j(e)===c}):L,u=(i=0===(i=e.filter(function(e){return 0<=l.indexOf(e)})).length?e:i).reduce(function(e,t){return e[t]=D(n,{placement:t,boundary:o,rootBoundary:r,padding:a})[M(t)],e},{}),Object.keys(u).sort(function(e,t){return u[e]-u[t]})):t);var n,i,o,r,a,s,l,c,u},[]),l=d.rects.reference,c=d.rects.popper,u=new Map,v=!0,y=s[0],_=0;_<s.length;_++){var b=s[_],w=M(b),x=j(b)===I,E=0<=[T,C].indexOf(w),S=E?"width":"height",k=D(d,{placement:b,boundary:f,rootBoundary:h,altBoundary:r,padding:p}),E=E?x?P:A:x?C:T,x=(l[S]>c[S]&&(E=R(E)),R(E)),S=[];if(i&&S.push(k[w]<=0),o&&S.push(k[E]<=0,k[x]<=0),S.every(function(e){return e})){y=b,v=!1;break}u.set(b,S)}if(v)for(var O=g?3:1;0<O;O--)if("break"===function(t){var e=s.find(function(e){e=u.get(e);if(e)return e.slice(0,t).every(function(e){return e})});if(e)return y=e,"break"}(O))break;d.placement!==y&&(d.modifiersData[e]._skip=!0,d.placement=y,d.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t,n,i,o,r,a,s,l,c,u=e.state,d=e.options,e=e.name,p=void 0===(p=d.mainAxis)||p,f=void 0!==(f=d.altAxis)&&f,h=d.boundary,g=d.rootBoundary,m=d.altBoundary,v=d.padding,y=void 0===(y=d.tether)||y,d=void 0===(d=d.tetherOffset)?0:d,h=D(u,{boundary:h,rootBoundary:g,padding:v,altBoundary:m}),g=M(u.placement),m=!(v=j(u.placement)),_="x"===(g=K(g))?"y":"x",b=u.modifiersData.popperOffsets,w=u.rects.reference,x=u.rects.popper,d="function"==typeof d?d(Object.assign({},u.rects,{placement:u.placement})):d,E={x:0,y:0};b&&((p||f)&&(r="y"===g?"height":"width",t=b[g],n=b[g]+h[c="y"===g?T:A],i=b[g]-h[s="y"===g?C:P],a=y?-x[r]/2:0,o=(v===I?w:x)[r],v=v===I?-x[r]:-w[r],x=u.elements.arrow,x=y&&x?N(x):{width:0,height:0},c=(l=u.modifiersData["arrow#persistent"]?u.modifiersData["arrow#persistent"].padding:ge())[c],l=l[s],s=F(0,w[r],x[r]),x=m?w[r]/2-a-s-c-d:o-s-c-d,o=m?-w[r]/2+a+s+l+d:v+s+l+d,m=(c=u.elements.arrow&&S(u.elements.arrow))?"y"===g?c.clientTop||0:c.clientLeft||0:0,w=u.modifiersData.offset?u.modifiersData.offset[u.placement][g]:0,r=b[g]+x-w-m,a=b[g]+o-w,p&&(v=F(y?O(n,r):n,t,y?k(i,a):i),b[g]=v,E[g]=v-t),f)&&(l=(s=b[_])+h["x"===g?T:A],d=s-h["x"===g?C:P],c=F(y?O(l,r):l,s,y?k(d,a):d),b[_]=c,E[_]=c-s),u.modifiersData[e]=E)},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n,i,o,r=e.state,a=e.name,e=e.options,s=r.elements.arrow,l=r.modifiersData.popperOffsets,c=K(u=M(r.placement)),u=0<=[A,P].indexOf(u)?"height":"width";s&&l&&(e=e.padding,n=r,n=me("number"!=typeof(e="function"==typeof e?e(Object.assign({},n.rects,{placement:n.placement})):e)?e:ve(e,L)),e=N(s),o="y"===c?T:A,i="y"===c?C:P,t=r.rects.reference[u]+r.rects.reference[c]-l[c]-r.rects.popper[u],l=l[c]-r.rects.reference[c],s=(s=S(s))?"y"===c?s.clientHeight||0:s.clientWidth||0:0,o=n[o],n=s-e[u]-n[i],o=F(o,i=s/2-e[u]/2+(t/2-l/2),n),r.modifiersData[a]=((s={})[c]=o,s.centerOffset=o-i,s))},effect:function(e){var t=e.state;null!=(e=void 0===(e=e.options.element)?"[data-popper-arrow]":e)&&("string"!=typeof e||(e=t.elements.popper.querySelector(e)))&&de(t.elements.popper,e)&&(t.elements.arrow=e)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,e=e.name,n=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,r=D(t,{elementContext:"reference"}),a=D(t,{altBoundary:!0}),r=ye(r,n),n=ye(a,i,o),a=_e(r),i=_e(n);t.modifiersData[e]={referenceClippingOffsets:r,popperEscapeOffsets:n,isReferenceHidden:a,hasPopperEscaped:i},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":a,"data-popper-escaped":i})}}]}),we="tippy-content",xe="tippy-backdrop",Ee="tippy-arrow",Se="tippy-svg-arrow",te={passive:!0,capture:!0},ke=function(){return document.body};function Oe(e,t,n){var i;return Array.isArray(e)?null==(i=e[t])?Array.isArray(n)?n[t]:n:i:e}function Te(e,t){e={}.toString.call(e);return 0===e.indexOf("[object")&&-1<e.indexOf(t+"]")}function Ce(e,t){return"function"==typeof e?e.apply(void 0,t):e}function Pe(t,n){var i;return 0===n?t:function(e){clearTimeout(i),i=setTimeout(function(){t(e)},n)}}function ne(e){return[].concat(e)}function Ae(e,t){-1===e.indexOf(t)&&e.push(t)}function Le(e){return e.split("-")[0]}function ie(e){return[].slice.call(e)}function oe(){return document.createElement("div")}function o(t){return["Element","Fragment"].some(function(e){return Te(t,e)})}function Ie(e){return Te(e,"MouseEvent")}function Me(e){return e&&e._tippy&&e._tippy.reference===e}function je(e){return o(e)?[e]:Te(e,"NodeList")?ie(e):Array.isArray(e)?e:ie(document.querySelectorAll(e))}function Re(e,t){e.forEach(function(e){e&&(e.style.transitionDuration=t+"ms")})}function De(e,t){e.forEach(function(e){e&&e.setAttribute("data-state",t)})}function Fe(e){var t,e=ne(e)[0];return null!=e&&null!=(t=e.ownerDocument)&&t.body?e.ownerDocument:document}function Ne(t,e,n){var i=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(e){t[i](e,n)})}function Be(e,t){for(var n,i=t;i;){if(e.contains(i))return 1;i=null==(n=null==i.getRootNode?void 0:i.getRootNode())?void 0:n.host}}var re={isTouch:!1},ze=0;function Ue(){re.isTouch||(re.isTouch=!0,window.performance&&document.addEventListener("mousemove",He))}function He(){var e=performance.now();e-ze<20&&(re.isTouch=!1,document.removeEventListener("mousemove",He)),ze=e}function qe(){var e,t=document.activeElement;Me(t)&&(e=t._tippy,t.blur)&&!e.state.isVisible&&t.blur()}var We="undefined"!=typeof window&&"undefined"!=typeof document&&!!window.msCrypto;var Ve={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},ae=Object.assign({appendTo:ke,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Ve,{},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),Ge=Object.keys(ae);function Ye(i){var e=(i.plugins||[]).reduce(function(e,t){var n=t.name,t=t.defaultValue;return n&&(e[n]=void 0!==i[n]?i[n]:null!=(n=ae[n])?n:t),e},{});return Object.assign({},i,{},e)}function Xe(e,t){var o,e=Object.assign({},t,{content:Ce(t.content,[e])},t.ignoreAttributes?{}:(o=e,((e=t.plugins)?Object.keys(Ye(Object.assign({},ae,{plugins:e}))):Ge).reduce(function(t,n){var i=(o.getAttribute("data-tippy-"+n)||"").trim();if(i)if("content"===n)t[n]=i;else try{t[n]=JSON.parse(i)}catch(e){t[n]=i}return t},{})));return e.aria=Object.assign({},ae.aria,{},e.aria),e.aria={expanded:"auto"===e.aria.expanded?t.interactive:e.aria.expanded,content:"auto"===e.aria.content?t.interactive?null:"describedby":e.aria.content},e}function Ze(){return"innerHTML"}function Ke(e,t){e[Ze()]=t}function Qe(e){var t=oe();return!0===e?t.className=Ee:(t.className=Se,o(e)?t.appendChild(e):Ke(t,e)),t}function $e(e,t){o(t.content)?(Ke(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?Ke(e,t.content):e.textContent=t.content)}function Je(e){var e=e.firstElementChild,t=ie(e.children);return{box:e,content:t.find(function(e){return e.classList.contains(we)}),arrow:t.find(function(e){return e.classList.contains(Ee)||e.classList.contains(Se)}),backdrop:t.find(function(e){return e.classList.contains(xe)})}}function et(r){var a=oe(),e=oe(),t=(e.className="tippy-box",e.setAttribute("data-state","hidden"),e.setAttribute("tabindex","-1"),oe());function n(e,t){var n=Je(a),i=n.box,o=n.content,n=n.arrow;t.theme?i.setAttribute("data-theme",t.theme):i.removeAttribute("data-theme"),"string"==typeof t.animation?i.setAttribute("data-animation",t.animation):i.removeAttribute("data-animation"),t.inertia?i.setAttribute("data-inertia",""):i.removeAttribute("data-inertia"),i.style.maxWidth="number"==typeof t.maxWidth?t.maxWidth+"px":t.maxWidth,t.role?i.setAttribute("role",t.role):i.removeAttribute("role"),e.content===t.content&&e.allowHTML===t.allowHTML||$e(o,r.props),t.arrow?n?e.arrow!==t.arrow&&(i.removeChild(n),i.appendChild(Qe(t.arrow))):i.appendChild(Qe(t.arrow)):n&&i.removeChild(n)}return t.className=we,t.setAttribute("data-state","hidden"),$e(t,r.props),a.appendChild(e),e.appendChild(t),n(r.props,r.props),{popper:a,onUpdate:n}}et.$$tippy=!0;var tt=1,se=[],nt=[];function it(a,e){var n,i,t,o,r,s,l,c,u,d,p,f,h,g=Xe(a,Object.assign({},ae,{},Ye((n=e,Object.keys(n).reduce(function(e,t){return void 0!==n[t]&&(e[t]=n[t]),e},{}))))),m=!1,v=!1,y=!1,_=!1,b=[],w=Pe(X,g.interactiveDebounce),e=tt++,D=(u=g.plugins).filter(function(e,t){return u.indexOf(e)===t}),x={id:e,reference:a,popper:oe(),popperInstance:null,props:g,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:D,clearDelayTimeouts:function(){clearTimeout(i),clearTimeout(t),cancelAnimationFrame(o)},setProps:function(e){var t,n;x.state.isDestroyed||(C("onBeforeUpdate",[x,e]),G(),t=x.props,n=Xe(a,Object.assign({},x.props,{},e,{ignoreAttributes:!0})),x.props=n,V(),t.interactiveDebounce!==n.interactiveDebounce&&(A(),w=Pe(X,n.interactiveDebounce)),t.triggerTarget&&!n.triggerTarget?ne(t.triggerTarget).forEach(function(e){e.removeAttribute("aria-expanded")}):n.triggerTarget&&a.removeAttribute("aria-expanded"),P(),T(),p&&p(t,n),x.popperInstance&&($(),j().forEach(function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)})),C("onAfterUpdate",[x,e]))},setContent:function(e){x.setProps({content:e})},show:function(){var e=x.state.isVisible,t=x.state.isDestroyed,n=!x.state.isEnabled,i=re.isTouch&&!x.props.touch,o=Oe(x.props.duration,0,ae.duration);e||t||n||i||S().hasAttribute("disabled")||(C("onShow",[x],!1),!1!==x.props.onShow(x)&&(x.state.isVisible=!0,E()&&(d.style.visibility="visible"),T(),q(),x.state.isMounted||(d.style.transition="none"),E()&&(e=O(),t=e.box,n=e.content,Re([t,n],0)),l=function(){var e,t;x.state.isVisible&&!_&&(_=!0,d.offsetHeight,d.style.transition=x.props.moveTransition,E()&&x.props.animation&&(Re([e=(t=O()).box,t=t.content],o),De([e,t],"visible")),z(),P(),Ae(nt,x),null!=(e=x.popperInstance)&&e.forceUpdate(),x.state.isMounted=!0,C("onMount",[x]),x.props.animation)&&E()&&W(o,function(){x.state.isShown=!0,C("onShown",[x])})},i=x.props.appendTo,e=S(),(i=x.props.interactive&&i===ke||"parent"===i?e.parentNode:Ce(i,[e])).contains(d)||i.appendChild(d),$()))},hide:function(){var e,t=!x.state.isVisible,n=x.state.isDestroyed,i=!x.state.isEnabled,o=Oe(x.props.duration,1,ae.duration);t||n||i||(C("onHide",[x],!1),!1!==x.props.onHide(x)&&(x.state.isVisible=!1,x.state.isShown=!1,m=_=!1,E()&&(d.style.visibility="hidden"),A(),I(),T(),E()&&(t=O(),n=t.box,i=t.content,x.props.animation)&&(Re([n,i],o),De([n,i],"hidden")),z(),P(),x.props.animation?E()&&(e=x.unmount,W(o,function(){!x.state.isVisible&&d.parentNode&&d.parentNode.contains(d)&&e()})):x.unmount()))},hideWithInteractivity:function(e){k().addEventListener("mousemove",w),Ae(se,w),w(e)},enable:function(){x.state.isEnabled=!0},disable:function(){x.hide(),x.state.isEnabled=!1},unmount:function(){x.state.isVisible&&x.hide();x.state.isMounted&&(J(),j().forEach(function(e){e._tippy.unmount()}),d.parentNode&&d.parentNode.removeChild(d),nt=nt.filter(function(e){return e!==x}),x.state.isMounted=!1,C("onHidden",[x]))},destroy:function(){x.state.isDestroyed||(x.clearDelayTimeouts(),x.unmount(),G(),delete a._tippy,x.state.isDestroyed=!0,C("onDestroy",[x]))}};return g.render&&(e=g.render(x),d=e.popper,p=e.onUpdate,d.setAttribute("data-tippy-root",""),d.id="tippy-"+x.id,x.popper=d,a._tippy=x,d._tippy=x,f=D.map(function(e){return e.fn(x)}),h=a.hasAttribute("aria-expanded"),V(),P(),T(),C("onCreate",[x]),g.showOnCreate&&ee(),d.addEventListener("mouseenter",function(){x.props.interactive&&x.state.isVisible&&x.clearDelayTimeouts()}),d.addEventListener("mouseleave",function(e){x.props.interactive&&0<=x.props.trigger.indexOf("mouseenter")&&(k().addEventListener("mousemove",w),w(e))})),x;function F(){var e=x.props.touch;return Array.isArray(e)?e:[e,0]}function N(){return"hold"===F()[0]}function E(){var e;return null!=(e=x.props.render)&&e.$$tippy}function S(){return c||a}function k(){var e=S().parentNode;return e?Fe(e):document}function O(){return Je(d)}function B(e){return x.state.isMounted&&!x.state.isVisible||re.isTouch||r&&"focus"===r.type?0:Oe(x.props.delay,e?0:1,ae.delay)}function T(){d.style.pointerEvents=x.props.interactive&&x.state.isVisible?"":"none",d.style.zIndex=""+x.props.zIndex}function C(t,n,e){void 0===e&&(e=!0),f.forEach(function(e){e[t]&&e[t].apply(void 0,n)}),e&&(e=x.props)[t].apply(e,n)}function z(){var n,i,e=x.props.aria;e.content&&(n="aria-"+e.content,i=d.id,ne(x.props.triggerTarget||a).forEach(function(e){var t=e.getAttribute(n);x.state.isVisible?e.setAttribute(n,t?t+" "+i:i):(t=t&&t.replace(i,"").trim())?e.setAttribute(n,t):e.removeAttribute(n)}))}function P(){!h&&x.props.aria.expanded&&ne(x.props.triggerTarget||a).forEach(function(e){x.props.interactive?e.setAttribute("aria-expanded",x.state.isVisible&&e===S()?"true":"false"):e.removeAttribute("aria-expanded")})}function A(){k().removeEventListener("mousemove",w),se=se.filter(function(e){return e!==w})}function L(e){if(!re.isTouch||!y&&"mousedown"!==e.type){var t=e.composedPath&&e.composedPath()[0]||e.target;if(!x.props.interactive||!Be(d,t)){if(Be(S(),t)){if(re.isTouch)return;if(x.state.isVisible&&0<=x.props.trigger.indexOf("click"))return}else C("onClickOutside",[x,e]);!0===x.props.hideOnClick&&(x.clearDelayTimeouts(),x.hide(),v=!0,setTimeout(function(){v=!1}),x.state.isMounted||I())}}}function U(){y=!0}function H(){y=!1}function q(){var e=k();e.addEventListener("mousedown",L,!0),e.addEventListener("touchend",L,te),e.addEventListener("touchstart",H,te),e.addEventListener("touchmove",U,te)}function I(){var e=k();e.removeEventListener("mousedown",L,!0),e.removeEventListener("touchend",L,te),e.removeEventListener("touchstart",H,te),e.removeEventListener("touchmove",U,te)}function W(e,t){var n=O().box;function i(e){e.target===n&&(Ne(n,"remove",i),t())}if(0===e)return t();Ne(n,"remove",s),Ne(n,"add",i),s=i}function M(t,n,i){void 0===i&&(i=!1),ne(x.props.triggerTarget||a).forEach(function(e){e.addEventListener(t,n,i),b.push({node:e,eventType:t,handler:n,options:i})})}function V(){N()&&(M("touchstart",Y,{passive:!0}),M("touchend",Z,{passive:!0})),x.props.trigger.split(/\s+/).filter(Boolean).forEach(function(e){if("manual"!==e)switch(M(e,Y),e){case"mouseenter":M("mouseleave",Z);break;case"focus":M(We?"focusout":"blur",K);break;case"focusin":M("focusout",K)}})}function G(){b.forEach(function(e){var t=e.node,n=e.eventType,i=e.handler,e=e.options;t.removeEventListener(n,i,e)}),b=[]}function Y(t){var e,n=!1;!x.state.isEnabled||Q(t)||v||(e="focus"===(null==r?void 0:r.type),c=(r=t).currentTarget,P(),!x.state.isVisible&&Ie(t)&&se.forEach(function(e){return e(t)}),"click"===t.type&&(x.props.trigger.indexOf("mouseenter")<0||m)&&!1!==x.props.hideOnClick&&x.state.isVisible?n=!0:ee(t),"click"===t.type&&(m=!n),n&&!e&&R(t))}function X(e){var s,l,t=e.target,t=S().contains(t)||d.contains(t);"mousemove"===e.type&&t||(t=j().concat(d).map(function(e){var t=null==(t=e._tippy.popperInstance)?void 0:t.state;return t?{popperRect:e.getBoundingClientRect(),popperState:t,props:g}:null}).filter(Boolean),s=e.clientX,l=e.clientY,t.every(function(e){var t,n,i,o=e.popperRect,r=e.popperState,e=e.props.interactiveBorder,a=Le(r.placement),r=r.modifiersData.offset;return!r||(t="bottom"===a?r.top.y:0,n="top"===a?r.bottom.y:0,i="right"===a?r.left.x:0,a="left"===a?r.right.x:0,r=o.top-l+t>e,t=l-o.bottom-n>e,n=o.left-s+i>e,i=s-o.right-a>e,r)||t||n||i})&&(A(),R(e)))}function Z(e){Q(e)||0<=x.props.trigger.indexOf("click")&&m||(x.props.interactive?x.hideWithInteractivity(e):R(e))}function K(e){x.props.trigger.indexOf("focusin")<0&&e.target!==S()||x.props.interactive&&e.relatedTarget&&d.contains(e.relatedTarget)||R(e)}function Q(e){return!!re.isTouch&&N()!==0<=e.type.indexOf("touch")}function $(){J();var e=x.props,t=e.popperOptions,n=e.placement,i=e.offset,o=e.getReferenceClientRect,e=e.moveTransition,r=E()?Je(d).arrow:null,o=o?{getBoundingClientRect:o,contextElement:o.contextElement||S()}:a,i=[{name:"offset",options:{offset:i}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!e}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t,n=e.state;E()&&(t=O().box,["placement","reference-hidden","escaped"].forEach(function(e){"placement"===e?t.setAttribute("data-placement",n.placement):n.attributes.popper["data-popper-"+e]?t.setAttribute("data-"+e,""):t.removeAttribute("data-"+e)}),n.attributes.popper={})}}];E()&&r&&i.push({name:"arrow",options:{element:r,padding:3}}),i.push.apply(i,(null==t?void 0:t.modifiers)||[]),x.popperInstance=be(o,d,Object.assign({},t,{placement:n,onFirstUpdate:l,modifiers:i}))}function J(){x.popperInstance&&(x.popperInstance.destroy(),x.popperInstance=null)}function j(){return ie(d.querySelectorAll("[data-tippy-root]"))}function ee(e){x.clearDelayTimeouts(),e&&C("onTrigger",[x,e]),q();var e=B(!0),t=F(),n=t[0],t=t[1];(e=re.isTouch&&"hold"===n&&t?t:e)?i=setTimeout(function(){x.show()},e):x.show()}function R(e){x.clearDelayTimeouts(),C("onUntrigger",[x,e]),x.state.isVisible?0<=x.props.trigger.indexOf("mouseenter")&&0<=x.props.trigger.indexOf("click")&&0<=["mouseleave","mousemove"].indexOf(e.type)&&m||((e=B(!1))?t=setTimeout(function(){x.state.isVisible&&x.hide()},e):o=requestAnimationFrame(function(){x.hide()})):I()}}function e(e,t){var n=ae.plugins.concat((t=void 0===t?{}:t).plugins||[]),i=(document.addEventListener("touchstart",Ue,te),window.addEventListener("blur",qe),Object.assign({},t,{plugins:n})),t=je(e).reduce(function(e,t){t=t&&it(t,i);return t&&e.push(t),e},[]);return o(e)?t[0]:t}e.defaultProps=ae,e.setDefaultProps=function(t){Object.keys(t).forEach(function(e){ae[e]=t[e]})},e.currentInput=re;Object.assign({},ee,{effect:function(e){var e=e.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow)}});e.setDefaultProps({render:et});n.a=e},function(e,t,n){"use strict";var i,o,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),n=(Object.defineProperty(t,"__esModule",{value:!0}),t.AuthState=void 0,n(78)),n=(o=n.AbstractAuthState,r(a,o),a);function a(){var t=null!==o&&o.apply(this,arguments)||this;return t.name="AuthState",t.LAYOUT_TEMPLATE_NAME="new-premium",t.onDomReady=function(){t.initAbstractAuth(),t.ctx.tool&&(t.extraLoginParams={tool:t.ctx.tool}),t.changeScreen(t.INITIAL_SCREEN),t.clearLoadingScreen()},t._onLoginSuccess=function(){t.executeAfterLoginOrRegisterSuccess()},t._onRegisterSuccess=function(){t.executeAfterLoginOrRegisterSuccess()},t.executeAfterLoginOrRegisterSuccess=function(){var e=t.ctx._getInitialState();t.ctx.changeState(e),e.render(t.domRoot)},t}t.AuthState=n},function(e,t,n){"use strict";var i,o,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.CannotTrialState=void 0,n(114)),n=n(67),n=(o=n.AbstractPaymentState,r(s,o),s);function s(){var n=null!==o&&o.apply(this,arguments)||this;return n.name="CannotTrialState",n.LAYOUT_TEMPLATE_NAME="new-premium",n.INITIAL_SCREEN="default",n.onDomReady=function(){n.changeScreen(n.INITIAL_SCREEN),n.initAbstractPayment({paymentAction:"become_premium",paymentInterval:{type:"gui",gui:"boxes"},currentPaymentMethod:n.ctx.userCurrentPaymentMethod,paymentProviderProps:[{name:"stripe",paymentButtonText:n.t("paymentButtonText")},{name:"paypal"}]}).then(n._onAbstractPaymentInited)},n._onPaymentSuccess=function(e){var t="dialog"===n.ctx.getContextPlacement()?"popup":"auth",t=(window.ev("send","event","user","premium",t),window.ev("event","premium",{origin:t}),new a.SubscriptionSuccessState);n.ctx.changeState(t),t.render(n.domRoot)},n._onPaymentFailed=function(e){},n._onAbstractPaymentInited=function(){setTimeout(n.clearLoadingScreen,150)},n}t.CannotTrialState=n},function(e,t,n){"use strict";var i,o,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.SubscriptionSuccessState=void 0,n(10)),s=n(13),l=n(21),n=n(18),n=(o=n.StateBase,r(c,o),c.prototype.init=function(){this.actionBtn.addEventListener("click",this._onDoneButtonClick);var e=this.dialogSubtitle;e.innerHTML=e.innerHTML.replace("${email}","<b>${email}</b>"),e.innerHTML=s.Lang.tr(e.innerHTML,{email:this.authenticatedUserEmail})},c.prototype.hideHeaderAndFooter=function(){var e=this.domRoot.querySelector(".dialog__header");if(!e)throw"Header not found";var t=this.domRoot.querySelector(".dialog__footer");if(!t)throw"Footer not found";e.style.display="none",t.style.display="none"},Object.defineProperty(c.prototype,"dialogSubtitle",{get:function(){var e=this.domStateRoot.querySelector(".dialog__subtitle");if(e)return e;throw"Description elem not found"},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"authenticatedUserEmail",{get:function(){var e=l.UserModel.get();if(e)return e.email;throw"Authenticated user not found!"},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"actionBtn",{get:function(){var e=this.domStateRoot.querySelector(".dialog__action [next-from-payment-completed]");if(e)return e;throw"'Done' button not found"},enumerable:!1,configurable:!0}),c);function c(){var e=null!==o&&o.apply(this,arguments)||this;return e.name="SubscriptionSuccessState",e.LAYOUT_TEMPLATE_NAME="new-premium",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.ctx.setEndState(),e.changeScreen(e.INITIAL_SCREEN),e.init(),e.hideHeaderAndFooter(),e.clearLoadingScreen()},e._onDoneButtonClick=function(){e.dispatchEvent(new a.IloveEvent("end"))},e}t.SubscriptionSuccessState=n},function(e,t,n){"use strict";var i,o,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.CanTrialState=void 0,n(67)),s=n(116),n=(o=a.AbstractPaymentState,r(l,o),l);function l(){var i=null!==o&&o.apply(this,arguments)||this;return i.name="CanTrialState",i.LAYOUT_TEMPLATE_NAME="new-premium",i.INITIAL_SCREEN="default",i.onDomReady=function(){i.changeScreen(i.INITIAL_SCREEN),i.initAbstractPayment({paymentAction:"become_premium",paymentInterval:{type:"gui",gui:"radio"},currentPaymentMethod:i.ctx.userCurrentPaymentMethod,paymentProviderProps:[{name:"stripe",paymentButtonText:i.t("paymentButtonText")},{name:"paypal"}]}).then(i._onAbstractPaymentInited)},i._onPaymentSuccess=function(e,t){var n="dialog"===i.ctx.getContextPlacement()?"popup":"auth",n=(window.ev("send","event","user","premium",n),window.ev("event","premium",{origin:n}),new s.TrialSuccessState);i.ctx.changeState(n),n.render(i.domRoot)},i._onPaymentFailed=function(e,t){},i._onAbstractPaymentInited=function(){setTimeout(i.clearLoadingScreen,150)},i}t.CanTrialState=n},function(e,t,n){"use strict";var i,o,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.TrialSuccessState=void 0,n(10)),s=n(13),l=n(21),n=n(18),n=(o=n.StateBase,r(c,o),c.prototype.init=function(){this.actionBtn.addEventListener("click",this._onDoneButtonClick);var e=this.dialogSubtitle;e.innerHTML=e.innerHTML.replace("${email}","<b>${email}</b>"),e.innerHTML=s.Lang.tr(e.innerHTML,{email:this.authenticatedUserEmail})},c.prototype.hideHeaderAndFooter=function(){var e=this.domRoot.querySelector(".dialog__header");if(!e)throw"Header not found";var t=this.domRoot.querySelector(".dialog__footer");if(!t)throw"Footer not found";e.style.display="none",t.style.display="none"},Object.defineProperty(c.prototype,"dialogSubtitle",{get:function(){var e=this.domStateRoot.querySelector(".dialog__subtitle");if(e)return e;throw"Description elem not found"},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"authenticatedUserEmail",{get:function(){var e=l.UserModel.get();if(e)return e.email;throw"Authenticated user not found!"},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"actionBtn",{get:function(){var e=this.domStateRoot.querySelector(".dialog__action [next-from-payment-completed]");if(e)return e;throw"'Done' button not found"},enumerable:!1,configurable:!0}),c);function c(){var e=null!==o&&o.apply(this,arguments)||this;return e.name="TrialSuccessState",e.LAYOUT_TEMPLATE_NAME="new-premium",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.ctx.setEndState(),e.changeScreen(e.INITIAL_SCREEN),e.init(),e.hideHeaderAndFooter(),e.clearLoadingScreen()},e._onDoneButtonClick=function(){e.dispatchEvent(new a.IloveEvent("end"))},e}t.TrialSuccessState=n},function(e,t,n){"use strict";var i,o,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.PremiumState=void 0,n(10)),n=n(18),n=(o=n.StateBase,r(s,o),s.prototype.render=function(e){this.dispatchEvent(new a.IloveEvent("end"))},s);function s(){var e=null!==o&&o.apply(this,arguments)||this;return e.name="PremiumState",e.LAYOUT_TEMPLATE_NAME="new-premium",e.INITIAL_SCREEN="default",e.onDomReady=function(){},e}t.PremiumState=n},function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},,function(e,t,n){"use strict";!function(i){function e(){}Object.defineProperty(t,"__esModule",{value:!0}),t.Modal=void 0,e.init=function(){i(document).on({"show.bs.modal":function(){e.setZindex(this)},"hidden.bs.modal":function(){e.cleanZindex()}},".modal")},e.setZindex=function(e){var n=1050;i(".modal:visible, .dialog:visible").each(function(e,t){n=Math.max(n,parseInt(i(t).css("z-index"))+10)}),i(e).css("z-index",n),setTimeout(function(){i(".modal-backdrop").not(".modal-stack").css("z-index",n-1).addClass("modal-stack")},10)},e.cleanZindex=function(){0<i(".modal:visible, .dialog:visible").length&&setTimeout(function(){i(document.body).addClass("modal-open")},10)},t.Modal=e}.call(this,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Dialog=void 0;var o=n(10),r=n(29),a=n(76),n=(s.getVisibleDialogs=function(){return Array.from(this.visibleDialogs).filter(function(e){return!e.isClosing()})},s.prototype.canBeClosedByUser=function(){return void 0!==this._canBeClosedByUser?this._canBeClosedByUser:this.props.canBeClosedByUser},s.prototype.isClosedOrInProcessOfClosing=function(){return this.isClosing()||!this.isShown},s.prototype.isClosing=function(){return this._isClosing},s.prototype.listenToEvents=function(e){var t=this;-1===this.contentsListeningTo.indexOf(e.getInstanceID())&&(e.addEventListener("end",function(){t.isClosedOrInProcessOfClosing()||t.close()}),e.addEventListener("disableContentAbandonment",function(){return t._canBeClosedByUser=!1}),e.addEventListener("unsetContentAbandonment",function(){return t._canBeClosedByUser=void 0}),this.contentsListeningTo.push(e.getInstanceID()))},Object.defineProperty(s.prototype,"dialog",{get:function(){var e,t,n,i=this;return this._dialog||(t=this.createDialogContainer(),n=this.createDialogElement(),t.appendChild(n),n=this.createDialogBackdrop(),this._dialog=document.createElement("div"),this.props.dialogName&&this._dialog.setAttribute("data-dialog-name",this.props.dialogName),this._dialog.classList.add("dialog"),0<(null==(e=this.props.classes)?void 0:e.length)&&this.props.classes.forEach(function(e){return i._dialog.classList.add(e)}),this._dialog.appendChild(t),this._dialog.appendChild(n),this.props.enableCloseBtn&&this.initCloseBtn(),this._dialog.style.display="none",document.body.appendChild(this._dialog)),this._dialog},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"domRoot",{get:function(){return this.element},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"element",{get:function(){return this.dialog.children[0].children[0]},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"elementContainer",{get:function(){return this.dialog.querySelector(".dialog__container")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"backdrop",{get:function(){return this.dialog.children[1]},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"closeBtn",{get:function(){return this.dialog.querySelector(".dialog__close")},enumerable:!1,configurable:!0}),s.prototype.mergeWithDefaultPropValues=function(e){var t=null==(t=e.canBeClosedByUser)||t,n=null!=(n=e.clickAwayClose)&&n,i=null!=(i=e.enableCloseBtn)?i:t,o=null!=(o=e.classes)?o:[];return{dialogName:e.dialogName,canBeClosedByUser:t,clickAwayClose:n,escapeKeyClose:t,enableCloseBtn:i,classes:o}},s.prototype.getContent=function(){return this.content},s.prototype.dispatchEvent=function(e){return this.eventEmitter.dispatchEvent(e)},s.prototype.addEventListener=function(e,t){return this.eventEmitter.addEventListener(e,t)},s.visibleDialogs=new Set,s);function s(e){var i=this;void 0===e&&(e={}),this.isShown=!1,this.contentsListeningTo=new Array,this.destroyed=!1,this._canBeClosedByUser=void 0,this._isClosing=!1,this.show=function(){if(i.destroyed)throw"This dialog was destroyed. It's no longer usable";var e,t,n;document.body.style.overflow="hidden",i.isShown||(e=i.element,t=i.backdrop,n=i.closeBtn,i.content&&i.content.reset(),0==i.props.enableCloseBtn&&n&&(n.style.display="none"),i.dialog.style.display="",i.elementContainer,e.offsetWidth,i.elementContainer.classList.add("dialog__container--appeared"),t.offsetWidth,t.classList.add("dialog__backdrop--appeared"),i.isShown=!0,s.visibleDialogs.add(i),i.dispatchEvent(new o.IloveEvent("shown")))},this.close=function(){if(i.destroyed)throw"This dialog was destroyed. It's no longer usable";i.isShown&&(i.elementContainer.classList.remove("dialog__container--appeared"),i.backdrop.classList.remove("dialog__backdrop--appeared"),i._isClosing=!0,setTimeout(function(){i._dialog&&(i.dialog.style.display="none"),i.isShown=!1,i._isClosing=!1,document.body.style.overflow="",s.visibleDialogs.delete(i),i.dispatchEvent(new o.IloveEvent("hidden"))},250),i.dispatchEvent(new o.IloveEvent("closed")),i.content)&&i.content.notifyOfContainerClosing()},this.getDialogName=function(){return i.props.dialogName},this.destroy=function(){i.destroyed||(i._dialog&&(i._dialog.parentNode.removeChild(i._dialog),i._dialog=void 0),i.destroyed=!0)},this.setContent=function(e){if(i.destroyed)throw"This dialog was destroyed. It's no longer usable";return(i.content=e).setContextPlacement("dialog"),e.render(i.domRoot),i.listenToEvents(e),i},this._closeOnEscapeKey=function(e){"Escape"===e.key&&i.close()},this.createDialogContainer=function(){var e=document.createElement("div");return e.classList.add("dialog__container"),e},this.createDialogElement=function(){var e=document.createElement("div");return e.classList.add("dialog__element"),e},this.createDialogBackdrop=function(){var e=document.createElement("div");return e.classList.add("dialog__backdrop"),i.props.clickAwayClose&&e.addEventListener("click",function(){i.canBeClosedByUser()&&i.close()}),e},this.initCloseBtn=function(){i.dialog.addEventListener("click",function(e){e.target.classList.contains("dialog__close")&&i.canBeClosedByUser()&&(a.Banner.preventClickAds(),i.close())})},this.eventEmitter=new r.ILoveEventEmitter,this.props=this.mergeWithDefaultPropValues(e)}t.Dialog=n},function(e,t,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function o(e){return"certificates"===e||"signatures"===e}Object.defineProperty(t,"__esModule",{value:!0}),t.localeProduct=t.initials=t.fromRgbToHex=t.localePrice=t.localeDateTime=t.localeNumber=void 0,t.localeNumber=function(e){return(-1===navigator.language.toLowerCase().indexOf("es")?Intl.NumberFormat(navigator.languages):Intl.NumberFormat("de-DE")).format(e)},t.localeDateTime=function(e){return Intl.DateTimeFormat(navigator.languages,{dateStyle:"short"}).format(e)},t.localePrice=function(t,n){n={style:"currency",currency:n,currencyDisplay:"narrowSymbol",minimumFractionDigits:0};try{return(-1===navigator.language.toLowerCase().indexOf("es")?Intl.NumberFormat(navigator.languages,n):Intl.NumberFormat("de-DE",n)).format(t)}catch(e){return(-1===navigator.language.toLowerCase().indexOf("es")?Intl.NumberFormat(navigator.languages,i(i({},n),{currencyDisplay:"symbol"})):Intl.NumberFormat("de-DE",i(i({},n),{currencyDisplay:"symbol"}))).format(t)}},t.fromRgbToHex=function(e){var t=(e=e.split(" ").join("").split(","))[0].indexOf("("),t=e[0].substring(t+1),n=e[1],e=e[2].substr(0,e[2].length-1);return"#"+((1<<24)+(Number(t)<<16)+(Number(n)<<8)+Number(e)).toString(16).slice(1)},t.initials=function(e,t){return void 0===t&&(t=2),e.replace(/\s+/g," ").trim().split(" ").map(function(e){return e[0].toUpperCase()}).join("").substr(0,t)},t.localeProduct=function(e,t){return o(e)&&!t?"digital signatures":o(e)&&t?"signatures":"sms"===e?"SMS":e}},function(e){e.exports=JSON.parse('{"default":{"mimeTypes":[{"title":"Image files","extensions":"jpg,jpeg,gif,png","mime":"image/jpeg,image/jpg,image/gif,image/png"}],"multiSelection":true},"resizeimage":{"mimeTypes":[{"title":"Image files","extensions":"jpg,jpeg,gif,png,svg","mime":"image/jpeg,image/jpg,image/gif,image/png,image/svg+xml"}],"multiSelection":true},"cropimage":{"mimeTypes":[{"title":"Image files","extensions":"jpg,jpeg,gif,png","mime":"image/jpeg,image/jpg,image/gif,image/png"}],"multiSelection":false},"fromjpg":{"mimeTypes":[{"title":"Image files","extensions":"jpg,jpeg","mime":"image/jpeg,image/jpg"}],"multiSelection":true},"tojpg":{"mimeTypes":[{"title":"Image files","extensions":"gif,tif,tiff,png,crw,cr2,dng,raf,nef,nrw,orf,rw2,pef,arw,srf,sr2,raw,psd,svg,webp,heic","mime":"image/png,image/x-sony-arw,image/x-canon-cr2,image/x-canon-crw,image/x-kodak-dcr,image/x-adobe-dng,image/x-epson-erf,image/x-kodak-k25,image/x-kodak-kdc,image/x-minolta-mrw,image/x-nikon-nef,image/x-olympus-orf,image/x-pentax-pef,image/x-fuji-raf,image/x-panasonic-raw,image/x-sony-sr2,image/x-sony-srf,image/x-sigma-x3f,image/svg+xml,mage/vnd.adobe.photoshop,application/x-photoshop,image/webp,image/heic"}],"multiSelection":true},"watermarkimage":{"mimeTypes":[{"title":"Image files","extensions":"jpg,jpeg,png,gif","mime":"image/jpeg,image/jpg,image/png,image/gif"}],"multiSelection":true},"memeimage":{"mimeTypes":[{"title":"Image files","extensions":"jpg,jpeg,png,gif","mime":"image/jpeg,image/jpg,image/png,image/gif"}],"multiSelection":false},"compressimage":{"mimeTypes":[{"title":"Image files","extensions":"jpg,jpeg,png,gif,svg","mime":"image/jpeg,image/jpg,image/png,image/gif,image/svg"}],"multiSelection":true},"editpdf":{"maxFiles":1,"mimeTypes":[{"title":"Pdf files","extensions":"pdf"}],"multiSelection":false},"sign":{"mimeTypes":[{"title":"Pdf files","extensions":"pdf"}],"multiSelection":true},"organize":{"mimeTypes":[{"title":"Pdf files","extensions":"pdf"}],"multiSelection":true},"split":{"maxFiles":1,"mimeTypes":[{"title":"Pdf files","extensions":"pdf"}],"multiSelection":false},"imagepdf":{"mimeTypes":[{"title":"Image files","extensions":"jpg,jpeg,png,tif,tiff","mime":"image/jpeg,image/jpg,image/png,image/tiff"}]},"officepdf":{"mimeTypes":[{"title":"Word files","extensions":"doc,docx,odt,ott,stw,sdw,sxw"},{"title":"Excel files","extensions":"xls,xlsx,ods,ots,sdc,sxc"},{"title":"Powerpoint files","extensions":"ppt,pptx,odp,pps,ppsx,sxi"}]},"wordpdf":{"mimeTypes":[{"title":"Word files","extensions":"doc,docx,odt,ott,stw,sdw,sxw"}]},"powerpointpdf":{"mimeTypes":[{"title":"Powerpoint files","extensions":"ppt,pptx,odp,pps,ppsx,sxi"}]},"excelpdf":{"mimeTypes":[{"title":"Excel files","extensions":"xls,xlsx,ods,ots,sdc,sxc"}]},"upscaleimage":{"mimeTypes":[{"title":"Image files","extensions":"jpg,jpeg,png","mime":"image/jpeg,image/jpg,image/png"}],"multiSelection":true},"blurfaceimage":{"mimeTypes":[{"title":"Image files","extensions":"jpg,jpeg,png","mime":"image/jpeg,image/jpg,image/png"}],"multiSelection":true},"removebackgroundimage":{"mimeTypes":[{"title":"Image files","extensions":"jpg,jpeg,png","mime":"image/jpeg,image/jpg,image/png"}],"multiSelection":true}}')},,,function(e,t,n){var i,o;!function(){"use strict";o=[n(1),n(153),n(44),n(94)],void 0!==(o="function"==typeof(i=function(o){"use strict";var r=false;return o(document).on("mouseup",function(){r=false}),o.widget("ui.mouse",{version:"1.13.0",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(e){if(true===o.data(e.target,t.widgetName+".preventClickEvent")){o.removeData(e.target,t.widgetName+".preventClickEvent");e.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.off("."+this.widgetName);if(this._mouseMoveDelegate)this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(r)return;this._mouseMoved=false;if(this._mouseStarted)this._mouseUp(e);this._mouseDownEvent=e;var t=this,n=e.which===1,i=typeof this.options.cancel==="string"&&e.target.nodeName?o(e.target).closest(this.options.cancel).length:false;if(!n||i||!this._mouseCapture(e))return true;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){t.mouseDelayMet=true},this.options.delay);if(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)){this._mouseStarted=this._mouseStart(e)!==false;if(!this._mouseStarted){e.preventDefault();return true}}if(true===o.data(e.target,this.widgetName+".preventClickEvent"))o.removeData(e.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(e){return t._mouseMove(e)};this._mouseUpDelegate=function(e){return t._mouseUp(e)};this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate);e.preventDefault();r=true;return true},_mouseMove:function(e){if(this._mouseMoved)if(o.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);else if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=true;else if(!this.ignoreMissingWhich)return this._mouseUp(e);if(e.which||e.button)this._mouseMoved=true;if(this._mouseStarted){this._mouseDrag(e);return e.preventDefault()}if(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)){this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==false;if(this._mouseStarted)this._mouseDrag(e);else this._mouseUp(e)}return!this._mouseStarted},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(e.target===this._mouseDownEvent.target)o.data(e.target,this.widgetName+".preventClickEvent",true);this._mouseStop(e)}if(this._mouseDelayTimer){clearTimeout(this._mouseDelayTimer);delete this._mouseDelayTimer}this.ignoreMissingWhich=false;r=false;e.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})?i.apply(t,o):i)&&(e.exports=o)}()},function(e,t,n){var i,o;!function(){"use strict";o=[n(1),n(44)],void 0!==(o="function"==typeof(i=function(r){"use strict";return r.ui.plugin={add:function(e,t,n){var i,o=r.ui[e].prototype;for(i in n){o.plugins[i]=o.plugins[i]||[];o.plugins[i].push([t,n[i]])}},call:function(e,t,n,i){var o,r=e.plugins[t];if(!r)return;if(!i&&(!e.element[0].parentNode||e.element[0].parentNode.nodeType===11))return;for(o=0;o<r.length;o++)if(e.options[r[o][0]])r[o][1].apply(e.element,n)}}})?i.apply(t,o):i)&&(e.exports=o)}()},function(e,r,a){"use strict";!function(n){Object.defineProperty(r,"__esModule",{value:!0}),r.Popup=void 0;var t=a(33),i=a(120);function o(){}o.initTermsPopup=function(){var t=this;n(document).on("click",".termsLink",function(e){e.preventDefault(),t.termsPopup()}),n(document).on("click",".legalLink",function(e){e.preventDefault(),t.legalPopup()})},o.termsPopup=function(){var e;0==n("#termsModal").length&&(n(t.Tools.modalView({id:"termsModal",size:"lg",content:'<div class="in d-flex fustify-content-center"></div>'})).appendTo("body"),e=n(".termsLink").attr("data-a-href")?n(".termsLink").attr("data-a-href"):n(".termsLink").attr("href"),n("#termsModal .in").load(e+" #terms")),n("#termsModal").modal("show"),i.Modal.setZindex(n("#termsModal"))},o.legalPopup=function(){var e;0==n("#legalModal").length&&(n(t.Tools.modalView({id:"legalModal",size:"lg",content:'<div class="in"></div>'})).appendTo("body"),e=n(".legalLink").attr("data-a-href")?n(".legalLink").attr("data-a-href"):n(".legalLink").attr("href"),n("#legalModal .in").load(e+" #privacy",function(){o.runIubenda()})),n("#legalModal").modal("show"),i.Modal.setZindex(n("#legalModal"))},o.runIubenda=function(){var e,t;e=document.createElement("script"),t=document.getElementsByTagName("script")[0],e.src="//cdn.iubenda.com/iubenda.js",t.parentNode.insertBefore(e,t)},r.Popup=o}.call(this,a(1))},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,a,s){"use strict";!function(l){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),e=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},c=this&&this.__awaiter||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,o)}r((l=l.apply(e,a||[])).next())})},u=this&&this.__generator||function(i,o){var r,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(s=0<(s=l.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],a=0}finally{r=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},n=(Object.defineProperty(a,"__esModule",{value:!0}),a.PluploadUpload=void 0,e(s(37))),d=s(13),p=e(s(23)),f=s(15),t=s(68),h=s(76);function r(e){this.SLOW_CONNECTION_LIMIT=200,this.BPS_CONNECTION_LIMIT=2e4,this.RETRY_NUM=4,this.optionsManager=null,this.processManager=null,this.config=null,this.files=null,this.workerServer=null,this.startServer=null,this.token=null,this.tool=null,this.taskId=null,this.id="pickfiles",this.container="uploader",this.servers=null,this.haveDrop=!0,this.dropElement="workArea",this.ignoreFiles=!1,this.chunkSize="2Mb",Object.assign(this,e),this.appVersion=t.APP_VERSION,this.apiVersion=t.API_VERSION,this.slowConnectionCounter=0,this.dnsFallback=!1,this.dnsFallbackActive=!1,this.servers=this.shuffle(this.servers),this.notCheckedServers=this.servers,this.retryCount=this.RETRY_NUM,this.settimer0=null,this.settimer1=null;e=this.notCheckedServers.indexOf(this.workerServer);-1<e&&this.notCheckedServers.splice(e,1),this.uploader=null,this.timeout=null,this.timeLimit=684e4,this.timeCheck=3e5,this.checkServerStatusOnStart=this.optionsManager.checkServerStatusOnStart,this.init()}r.prototype.shuffle=function(e){for(var t=e.length-1;0<t;t--){var n=Math.floor(Math.random()*(t+1)),i=[e[n],e[t]];e[t]=i[0],e[n]=i[1]}return e},r.prototype.init=function(){var e=this;this.initPlupload().then(function(){l("#"+e.id).addClass("active"),e.configPlupload(),e.dragDrop(),e.checkTimeoutInterval(),e.listenEventTaskIdChanged(),e.listenEventLimitsChanged()},function(){})},r.prototype.initPlupload=function(){return new Promise(function(e){if(null===window.plupload||void 0!==window.plupload)return e(!0);n.lazyload("/js/plupload/plupload.full.min.js");var t=window.setInterval(function(){if(null!==window.plupload&&"object"==typeof window.plupload)return clearInterval(t),e(!0)},100)})},r.prototype.listenEventTaskIdChanged=function(){var t=this;window.addEventListener("taskIdChanged",function(e){e=e.detail.taskId;e&&t.changeTaskId(e)})},r.prototype.listenEventLimitsChanged=function(){var t=this;window.addEventListener("limitsChanged",function(e){t.checkLimits([],t.id),t.uploadPendingFiles()})},r.prototype.changeDNSServer=function(e){return this.workerServer=this.workerServer.replace(".","-cf."),this.optionsManager.changeServer(this.workerServer),this.uploader.setOption("url",this.workerServer+"/"+this.apiVersion+"/upload"),this.dnsFallbackActive=!0,window.ev("sendOnce","event","upload-info","upload-change","dns - "+e),window.ev("eventOnce","upload-change",{change:"dns",reason:e}),p.addBreadcrumb({category:"upload",level:f.Severity.Info,message:"change dns: "+e}),!0},r.prototype.checkServerStatus=function(){var n=this;return new Promise(function(t,e){1==n.optionsManager.checkServerStatusOnStart?(n.optionsManager.checkServerStatusOnStart=!1,n.optionsManager.processManager.api.getStatus(n.workerServer).then(function(e){e&&"down"==e.status&&n.changeServer(),t({})},function(e){n.changeServer(),t({})})):t({})})},r.prototype.changeServer=function(){var e,t,n=this;return this.notCheckedServers=this.notCheckedServers.filter(function(e){return e!=n.workerServer.replace("-cf.",".")}),0<this.notCheckedServers.length&&(e=this.workerServer,t=this.notCheckedServers[0],this.workerServer=t,this.uploader.stop(),this.uploader.setOption("url",t+"/"+this.apiVersion+"/upload"),window.ev("sendOnce","event","upload-info","upload-change","server-"+e),window.ev("eventOnce","upload-change",{server:e}),this.optionsManager.changeServer(t),this.optionsManager.checkServerStatusOnStart=this.checkServerStatusOnStart,this.uploader.start(),p.addBreadcrumb({category:"upload",level:f.Severity.Info,message:"change server: "+e+" - "+this.workerServer}),!0)},r.prototype.configPlupload=function(){var t=this,r=this,a={file:null,offset:0,chunk:0},s=(this.uploader=new window.plupload.Uploader({browse_button:r.id,chunk_size:this.chunkSize,max_retries:0,runtimes:"html5",container:r.container,drop_element:r.dropElement,dragdrop:r.haveDrop,multi_selection:r.config.getConfig("multiSelection"),url:r.getUrl(),filters:{mime_types:r.config.getConfig("mimeTypes")},headers:r.getHeaders(),multipart_params:r.getUploadParams(),init:{Init:function(e,t){},PostInit:function(){},QueueChanged:function(e){},FilesAdded:function(n,t){return c(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return h.Banner.preventClick(),[4,r.checkServerStatus()];case 1:return e.sent(),l.each(t,function(e,t){t.upBy=r.id,1==r.ignoreFiles&&(t.ignored=!0,r.optionsManager.limits.addIgnoredFile(t.id)),r.files.addFile(t)}),0!=r.ignoreFiles?[3,3]:[4,r.checkLimits(t,n)];case 2:t=e.sent(),e.label=3;case 3:return(l.each(r.files.removed,function(e,t){try{n.removeFile(t)}catch(e){}}),0<t.length)?(l.each(t,function(e,t){"errorData"in t&&delete t.errorData,r.fileAdded(t,n)}),0==r.files.limited.length&&2!=n.state&&n.start(),[2]):[2,!1]}})})},FilesRemoved:function(e,t){},BeforeUpload:function(e,t){if(!t)return e.stop(),!1;a.file=t,a.offset=0,a.chunk=0,p.addBreadcrumb({category:"upload",level:f.Severity.Info,message:"before upload: "+t.name+" w."+t.size})},BeforeChunkUpload:function(e,t,n,i,o){return!1===r.isOnline?(e.stop(),!1):i&&i.size&&0!=i.size?(r.timeout=Date.now(),p.addBreadcrumb({category:"upload",level:f.Severity.Info,message:"before chunk: "+a.chunk}),1==r.dnsFallback&&0==r.dnsFallbackActive?(r.changeDNSServer("slow"),s(),!1):void 0):(t.status=window.plupload.FAILED,r.error({error:"FileRemoved",file:t}),t.errorData="FileRemoved",e.removeFile(t.id),r.uploader.stop(),l("body").hasClass("process-run")||r.uploader.start(),!1)},ChunkUploaded:function(e,t,n){a.offset=n.offset,a.chunk++},UploadProgress:function(e,t){if(!t)return!1;l("#uploadSpeed").html(window.plupload.formatSize(e.total.bytesPerSec).toUpperCase()+"/S");var n=Math.round((e.total.size-e.total.loaded)/e.total.bytesPerSec*1e3);null!=i(n)&&l("#timeLeft").html(i(n).toUpperCase()),t.size>3*r.BPS_CONNECTION_LIMIT&&e.total.bytesPerSec<r.BPS_CONNECTION_LIMIT?r.slowConnectionCounter++:r.slowConnectionCounter--,r.slowConnectionCounter==r.SLOW_CONNECTION_LIMIT&&(r.dnsFallback=!0,window.ib&&window.ib.set("c","s"),p.addBreadcrumb({category:"upload",level:f.Severity.Info,message:"Slow Connection: Set to change server"}))},FileUploaded:function(e,t,n){a.file=null;n=JSON.parse(n.response);r.fileUploaded(t.id,n)},UploadComplete:function(e,t){t.forEach(function(e){return r.fileChanged(e.id)})},Error:function(e,t){-600==t.code&&0==t.file.origSize?window.Toastr.error(d.Lang.t("EmptyFile")+"<br>"+t.file.name,d.Lang.t("Upload error"),{timeOut:6e3,positionClass:"toast-top-left"}):-600==t.code&&0<t.file.origSize?window.Toastr.error(d.Lang.t("FileSizeExceeded")+"<br>"+t.file.name,d.Lang.t("Upload error"),{timeOut:6e3,positionClass:"toast-top-left"}):-601==t.code?window.Toastr.error(d.Lang.t("InvalidExtension")+"<br>"+t.file.name,d.Lang.t("Upload error"),{timeOut:6e3,positionClass:"toast-top-left"}):-200==t.code&&"status"in t&&400==t.status?r.error(t):-200==t.code?(p.addBreadcrumb({category:"upload",level:f.Severity.Error,message:"Server Error"}),500==t.status||401==t.status?(p.addBreadcrumb({category:"upload",level:f.Severity.Error,message:"Server Error"}),500==t.status&&(p.configureScope(function(e){e.setExtra("error500",t)}),p.captureMessage("upload500")),401==t.status&&(p.configureScope(function(e){e.setExtra("error401",t),e.setExtra("token",r.token)}),p.captureMessage("upload401")),1==r.changeServer()?r.reUploadAllFiles():(r.timeout=null,r.uploader.stop(),r.fatalError("ServerError"),"file"in t&&(t.file.errorData="ServerError"))):0<r.retryCount?(r.retryCount--,r.uploader.stop(),s(!0)):0==r.dnsFallbackActive?(r.uploader.stop(),r.retryCount=r.RETRY_NUM,r.changeDNSServer("connection"),s(!0)):0==t.status&&"HTTP Error."==t.message?1==r.changeServer()?r.reUploadAllFiles():(r.timeout=null,l("body").hasClass("process-run")?(r.error({error:"ConnectionError"}),r.processManager.status="error",r.uploader.stop()):r.error({error:"ConnectionError"})):r.uploader.stop()):(r.uploader.stop(),e.removeFile(t.file.id),r.error(t))}}}),function(e){void 0===e&&(e=!1),a.file.loaded=a.offset,clearTimeout(r.settimer1),r.settimer1=setTimeout(function(){if(p.addBreadcrumb({category:"upload",level:f.Severity.Info,message:"retry upload "}),a.file){a.file.status=window.plupload.UPLOADING,r.uploader.state=window.plupload.STARTED;try{r.uploader.trigger("UploadFile",a.file)}catch(e){r.uploader.stop(),r.uploader.start()}}},1500)});function i(e){d.Lang.t("Time left");var t,n=d.Lang.t("minute"),i=d.Lang.t("hour"),o=d.Lang.t("less than"),r=d.Lang.t("minutes"),a=d.Lang.t("hours"),s=d.Lang.t("seconds"),l=Math.floor(e/1e3),e=(e%=1e3,Math.floor(l/60)),c=(l%=60,Math.floor(e/60));e%=60,Math.floor(c/60);return 0==(c%=60)?0==e?t=l+" "+s:1==e?t="1 "+n:1<e&&(t=" "+e+" "+r):1==c?t=o+" "+(1+c)+" "+a:1<c&&(t=o+" "+c+" "+i),t}window.addEventListener("goProcess",function(){var e={task:r.taskId,preview:0,v:r.appVersion};r.uploader.setOption("multipart_params",e)},!1),window.addEventListener("offline",function(){r.isOnline=!1,r.uploader.stop(),p.addBreadcrumb({category:"upload",level:f.Severity.Info,message:"go offline "})},!1),window.addEventListener("online",function(){if(r.isOnline=!0,null===a.file)return!1;p.addBreadcrumb({category:"upload",level:f.Severity.Info,message:"go online"}),s()},!1),window.addEventListener("fileRemoved",function(e){t.uploader.removeFile(e.detail.fileId),t.optionsManager.limits&&t.optionsManager.limits.setFileLimits(),t.uploadPendingFiles()}),this.uploader.init()},r.prototype.uploadPendingFiles=function(){this.uploader.start()},r.prototype.reUploadAllFiles=function(){var e=this.uploader;p.addBreadcrumb({category:"upload",level:f.Severity.Info,message:"Reuploading all files "+this.id}),e.stop(),clearTimeout(this.settimer0),e.files.forEach(function(e,t){e.status=window.plupload.QUEUED,e.percent=0,e.loaded=0,e.error=!1,e.retry=!0,e.server_filename&&(delete e.server_filename,e.reUploaded=!0)}),this.settimer0=setTimeout(function(){e.refresh(),e.start()},500)},r.prototype.getHeaders=function(){return this.token||p.captureMessage("no token on upload!"),{Authorization:"Bearer "+this.token,Accept:"application/json"}},r.prototype.getUrl=function(){return this.workerServer+"/"+this.apiVersion+"/upload"},r.prototype.getUploadParams=function(){return{task:this.taskId,preview:1==window.processStart?0:1,pdfinfo:1==window.pdfinfo?1:0,pdfforms:1==window.pdfforms?1:0,pdfresetforms:1==window.pdfresetforms?1:0,v:this.appVersion}},r.prototype.checkLimits=function(e,t){return this.optionsManager.checkLimits(e,this.id)},r.prototype.getOnlyNoLimitedFiles=function(e){return e.filter(function(e){return!0!==e.limited})},r.prototype.getOnlyLimitedFiles=function(e){return e.filter(function(e){return!0===e.limited})},r.prototype.fileAdded=function(e,t){e.runtime=t.runtime,e.canvasId=e.id,this.optionsManager.fileAdded(e,this.id,this.ignoreFiles).then(function(){},function(){})},r.prototype.fileUploaded=function(e,t){this.optionsManager.fileUploaded(e,t)},r.prototype.fileChanged=function(e){this.optionsManager.fileChanged&&this.optionsManager.fileChanged(e)},r.prototype.error=function(e){this.optionsManager.invalidUpload(e)},r.prototype.fatalError=function(e){this.optionsManager.fatalError(e)},r.prototype.dragDrop=function(){"function"!=typeof l.fn.dndhover&&0!=this.haveDrop&&(l.fn.dndhover=function(e){return this.each(function(){var n=l(this),i=l();n.on("dragenter",function(e){var t;0===i.length&&(t=e.originalEvent.dataTransfer).types&&(t.types.indexOf?-1!=t.types.indexOf("Files"):t.types.contains("Files"))&&n.trigger("dndHoverStart"),i=i.add(e.target)}),n.on("dragleave",function(e){setTimeout(function(){0===(i=i.not(e.target)).length&&n.trigger("dndHoverEnd")},1)}),n.on("drop",function(e){setTimeout(function(){0===(i=i.not(e.target)).length&&n.trigger("dndHoverEnd")},1)})})},l(".tool__workarea").dndhover().on({dndHoverStart:function(e){return l("#dropArea").text(d.Lang.t("dropIt")),l("#dropArea").show(),e.stopPropagation(),e.preventDefault(),!1},dndHoverEnd:function(e){return l("#dropArea").hide(),e.stopPropagation(),e.preventDefault(),!1}}))},r.prototype.timeIsOk=function(){var e;return null==this.timeout||(e=Date.now()-this.timeLimit,this.timeout>e)},r.prototype.checkTimeoutInterval=function(){var e=this;window.setInterval(function(){e.checkTimeout()},e.timeCheck)},r.prototype.checkTimeout=function(){null==this.timeout||this.timeIsOk()||(this.uploader.stop(),this.optionsManager.timeout&&this.optionsManager.timeout(),this.timeout=null)},r.prototype.changeTaskId=function(e){this.taskId=e,this.uploader&&(e=this.getUploadParams(),this.uploader.setOption("multipart_params",e))},a.PluploadUpload=r}.call(this,s(1))},function(e,t,n){var i,o;!function(){"use strict";o=[n(56)],void 0!==(o="function"==typeof(i=function(x){"use strict";var r=x.transform;x.transform=function(e,t,n,i,o){r.call(x,x.scale(e,t,o),t,n,i,o)},x.transformCoordinates=function(){},x.getTransformedOptions=function(e,t){var n=t.aspectRatio;var i;var o;var r;var a;if(!n)return t;i={};for(o in t)if(Object.prototype.hasOwnProperty.call(t,o))i[o]=t[o];i.crop=true;r=e.naturalWidth||e.width;a=e.naturalHeight||e.height;if(r/a>n){i.maxWidth=a*n;i.maxHeight=a}else{i.maxWidth=r;i.maxHeight=r/n}return i},x.renderImageToCanvas=function(e,t,n,i,o,r,a,s,l,c,u){var d=e.getContext("2d");if(u.imageSmoothingEnabled===false)d.imageSmoothingEnabled=false;else if(u.imageSmoothingQuality)d.imageSmoothingQuality=u.imageSmoothingQuality;d.drawImage(t,n,i,o,r,a,s,l,c);return e},x.hasCanvasOption=function(e){return e.canvas||e.crop||!!e.aspectRatio},x.scale=function(e,t,n){t=t||{};var i=document.createElement("canvas");var o=e.getContext||x.hasCanvasOption(t)&&i.getContext;var r=e.naturalWidth||e.width;var a=e.naturalHeight||e.height;var s=r;var l=a;var c;var u;var d;var p;var f;var h;var g;var m;var v;var y;var _;function b(){var e=Math.max((d||s)/s,(p||l)/l);if(e>1){s*=e;l*=e}}function w(){var e=Math.min((c||s)/s,(u||l)/l);if(e<1){s*=e;l*=e}}if(o){t=x.getTransformedOptions(e,t,n);g=t.left||0;m=t.top||0;if(t.sourceWidth){f=t.sourceWidth;if(t.right!==undefined&&t.left===undefined)g=r-f-t.right}else f=r-g-(t.right||0);if(t.sourceHeight){h=t.sourceHeight;if(t.bottom!==undefined&&t.top===undefined)m=a-h-t.bottom}else h=a-m-(t.bottom||0);s=f;l=h}c=t.maxWidth;u=t.maxHeight;d=t.minWidth;p=t.minHeight;if(o&&c&&u&&t.crop){s=c;l=u;_=f/h-c/u;if(_<0){h=u*f/c;if(t.top===undefined&&t.bottom===undefined)m=(a-h)/2}else if(_>0){f=c*h/u;if(t.left===undefined&&t.right===undefined)g=(r-f)/2}}else{if(t.contain||t.cover){d=c=c||d;p=u=u||p}if(t.cover){w();b()}else{b();w()}}if(o){v=t.pixelRatio;if(v>1){i.style.width=s+"px";i.style.height=l+"px";s*=v;l*=v;i.getContext("2d").scale(v,v)}y=t.downsamplingRatio;if(y>0&&y<1&&s<f&&l<h)while(f*y>s){i.width=f*y;i.height=h*y;x.renderImageToCanvas(i,e,g,m,f,h,0,0,i.width,i.height,t);g=0;m=0;f=i.width;h=i.height;e=document.createElement("canvas");e.width=f;e.height=h;x.renderImageToCanvas(e,i,0,0,f,h,0,0,f,h,t)}i.width=s;i.height=l;x.transformCoordinates(i,t);return x.renderImageToCanvas(i,e,g,m,f,h,0,0,s,l,t)}e.width=s;e.height=l;return e}})?i.apply(t,o):i)&&(e.exports=o)}()},function(e,t,n){var i,o;!function(){"use strict";o=[n(56),n(88)],void 0!==(o="function"==typeof(i=function(f){"use strict";f.ExifMap=function(){return this},f.ExifMap.prototype.map={Orientation:274},f.ExifMap.prototype.get=function(e){return this[e]||this[this.map[e]]},f.getExifThumbnail=function(e,t,n){if(!n||t+n>e.byteLength){console.log("Invalid Exif data: Invalid thumbnail data.");return}return f.createObjectURL(new Blob([e.buffer.slice(t,t+n)]))},f.exifTagTypes={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:true},3:{getValue:function(e,t,n){return e.getUint16(t,n)},size:2},4:{getValue:function(e,t,n){return e.getUint32(t,n)},size:4},5:{getValue:function(e,t,n){return e.getUint32(t,n)/e.getUint32(t+4,n)},size:8},9:{getValue:function(e,t,n){return e.getInt32(t,n)},size:4},10:{getValue:function(e,t,n){return e.getInt32(t,n)/e.getInt32(t+4,n)},size:8}},f.exifTagTypes[7]=f.exifTagTypes[1],f.getExifValue=function(e,t,n,i,o,r){var a=f.exifTagTypes[i];var s;var l;var c;var u;var d;var p;if(!a){console.log("Invalid Exif data: Invalid tag type.");return}s=a.size*o;l=s>4?t+e.getUint32(n+8,r):n+8;if(l+s>e.byteLength){console.log("Invalid Exif data: Invalid data offset.");return}if(o===1)return a.getValue(e,l,r);c=[];for(u=0;u<o;u+=1)c[u]=a.getValue(e,l+u*a.size,r);if(a.ascii){d="";for(u=0;u<c.length;u+=1){p=c[u];if(p==="\0")break;d+=p}return d}return c},f.parseExifTag=function(e,t,n,i){return{number:e.getUint16(n,i),value:f.getExifValue(e,t,n,e.getUint16(n+2,i),e.getUint32(n+4,i),i)}},f.parseExifTags=function(e,t,n,i,o){var r,a,s,l,c;if(n+6>e.byteLength){console.log("Invalid Exif data: Invalid directory offset.");return}r=e.getUint16(n,i);a=n+2+12*r;if(a+4>e.byteLength){console.log("Invalid Exif data: Invalid directory size.");return}for(s=0;s<r;s+=1){l=n+2+12*s;c=this.parseExifTag(e,t,l,i,o);o.exif[c.number]=c.value;if(o.exifOffsets)o.exifOffsets[c.number]=l}return e.getUint32(a,i)},f.parseExifData=function(e,t,n,i,o){if(o.disableExif)return;var r=t+10;var a;var s;var l;if(e.getUint32(t+4)!==1165519206)return;if(r+8>e.byteLength){console.log("Invalid Exif data: Invalid segment size.");return}if(e.getUint16(t+8)!==0){console.log("Invalid Exif data: Missing byte alignment offset.");return}switch(e.getUint16(r)){case 18761:a=true;break;case 19789:a=false;break;default:console.log("Invalid Exif data: Invalid byte alignment marker.");return}if(e.getUint16(r+2,a)!==42){console.log("Invalid Exif data: Missing TIFF marker.");return}s=e.getUint32(r+4,a);i.exif=new f.ExifMap;if(!o.disableExifOffsets){i.exifOffsets=new f.ExifMap;i.exifTiffOffset=r;i.exifLittleEndian=a}s=f.parseExifTags(e,r,r+s,a,i);if(s&&!o.disableExifThumbnail){l={exif:{}};s=f.parseExifTags(e,r,r+s,a,l);if(l.exif[513])i.exif.Thumbnail=f.getExifThumbnail(e,r+l.exif[513],l.exif[514])}if(i.exif[34665]&&!o.disableExifSub)f.parseExifTags(e,r,r+i.exif[34665],a,i);if(i.exif[34853]&&!o.disableExifGps)f.parseExifTags(e,r,r+i.exif[34853],a,i)},f.metaDataParsers.jpeg[65505].push(f.parseExifData),f.exifWriters={274:function(e,t,n){var i=new DataView(e,t.exifOffsets[274]+8,2);i.setUint16(0,n,t.exifLittleEndian);return e}},f.writeExifData=function(e,t,n,i){f.exifWriters[t.exif.map[n]](e,t,i)}})?i.apply(t,o):i)&&(e.exports=o)}()},function(e,t,n){var i,o;!function(){"use strict";o=[n(56),n(88)],void 0!==(o="function"==typeof(i=function(u){"use strict";u.IptcMap=function(){return this},u.IptcMap.prototype.map={ObjectName:5},u.IptcMap.prototype.get=function(e){return this[e]||this[this.map[e]]},u.parseIptcTags=function(e,t,n,i){function o(e,t,n){var i="";for(var o=t;o<t+n;o++)i+=String.fromCharCode(e.getUint8(o));return i}var r,a,s;var l=t;while(l<t+n){if(e.getUint8(l)===28&&e.getUint8(l+1)===2){s=e.getUint8(l+2);if(s in i.iptc.tags){a=e.getInt16(l+3);r=o(e,l+5,a);if(Object.prototype.hasOwnProperty.call(i.iptc,s))if(i.iptc[s]instanceof Array)i.iptc[s].push(r);else i.iptc[s]=[i.iptc[s],r];else i.iptc[s]=r}}l++}},u.parseIptcData=function(e,t,n,i,o){if(o.disableIptc)return;var r=t+n;var a=function(e,t){return e.getUint32(t)===943868237&&e.getUint16(t+4)===1028};while(t+8<r){if(a(e,t)){var s=e.getUint8(t+7);if(s%2!==0)s+=1;if(s===0)s=4;var l=t+8+s;if(l>r){console.log("Invalid IPTC data: Invalid segment offset.");break}var c=e.getUint16(t+6+s);if(t+c>r){console.log("Invalid IPTC data: Invalid segment size.");break}i.iptc=new u.IptcMap;return u.parseIptcTags(e,l,c,i)}t++}console.log("No IPTC data at this offset - could be XMP")},u.metaDataParsers.jpeg[65517].push(u.parseIptcData)})?i.apply(t,o):i)&&(e.exports=o)}()},function(e,t,n){"use strict";e.exports=function(e,t,n,i){for(var o=65535&e|0,r=e>>>16&65535|0,a=0;0!==n;){for(n-=a=2e3<n?2e3:n;r=r+(o=o+t[i++]|0)|0,--a;);o%=65521,r%=65521}return o|r<<16|0}},function(e,t,n){"use strict";var s=function(){for(var e=[],t=0;t<256;t++){for(var n=t,i=0;i<8;i++)n=1&n?3988292384^n>>>1:n>>>1;e[t]=n}return e}();e.exports=function(e,t,n,i){var o=s,r=i+n;e^=-1;for(var a=i;a<r;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}},function(e,t,n){"use strict";var l=n(63),o=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch(e){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){r=!1}for(var c=new l.Buf8(256),i=0;i<256;i++)c[i]=252<=i?6:248<=i?5:240<=i?4:224<=i?3:192<=i?2:1;function u(e,t){if(t<65534&&(e.subarray&&r||!e.subarray&&o))return String.fromCharCode.apply(null,l.shrinkBuf(e,t));for(var n="",i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n}c[254]=c[254]=1,t.string2buf=function(e){for(var t,n,i,o,r=e.length,a=0,s=0;s<r;s++)55296==(64512&(n=e.charCodeAt(s)))&&s+1<r&&56320==(64512&(i=e.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(i-56320),s++),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new l.Buf8(a),s=o=0;o<a;s++)55296==(64512&(n=e.charCodeAt(s)))&&s+1<r&&56320==(64512&(i=e.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(i-56320),s++),n<128?t[o++]=n:(n<2048?t[o++]=192|n>>>6:(n<65536?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t},t.buf2binstring=function(e){return u(e,e.length)},t.binstring2buf=function(e){for(var t=new l.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){for(var n,i,o=t||e.length,r=new Array(2*o),a=0,s=0;s<o;)if((n=e[s++])<128)r[a++]=n;else if(4<(i=c[n]))r[a++]=65533,s+=i-1;else{for(n&=2===i?31:3===i?15:7;1<i&&s<o;)n=n<<6|63&e[s++],i--;1<i?r[a++]=65533:n<65536?r[a++]=n:(n-=65536,r[a++]=55296|n>>10&1023,r[a++]=56320|1023&n)}return u(r,a)},t.utf8border=function(e,t){for(var n=(t=(t=t||e.length)>e.length?e.length:t)-1;0<=n&&128==(192&e[n]);)n--;return!(n<0)&&0!==n&&n+c[e[n]]>t?n:t}},function(e,t,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},,,,function(t,n,i){"use strict";function g(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function A(i){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?g(Object(o),!0).forEach(function(e){var t,n;t=i,n=o[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):g(Object(o)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(o,e))})}return i}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var n,i=function(e,t){if(null==e)return{};for(var n,i={},o=Object.keys(e),r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n]);return i}function e(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var _=e(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),b=e(/Edge/i),y=e(/firefox/i),w=e(/safari/i)&&!e(/chrome/i)&&!e(/android/i),x=e(/iP(ad|od|hone)/i),E=e(/chrome/i)&&e(/android/i),S={capture:!1,passive:!1};function l(e,t,n){e.addEventListener(t,n,!_&&S)}function r(e,t,n){e.removeEventListener(t,n,!_&&S)}function k(e,t){if(t&&(">"===t[0]&&(t=t.substring(1)),e))try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return}}function L(e,t,n,i){if(e){n=n||document;do{if(null!=t&&(">"!==t[0]||e.parentNode===n)&&k(e,t)||i&&e===n)return e}while(e!==n&&(e=(o=e).host&&o!==document&&o.host.nodeType?o.host:o.parentNode))}var o;return null}var O,T=/\s+/g;function I(e,t,n){var i;e&&t&&(e.classList?e.classList[n?"add":"remove"](t):(i=(" "+e.className+" ").replace(T," ").replace(" "+t+" "," "),e.className=(i+(n?" "+t:"")).replace(T," ")))}function M(e,t,n){var i=e&&e.style;if(i){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];i[t=t in i||-1!==t.indexOf("webkit")?t:"-webkit-"+t]=n+("string"==typeof n?"":"px")}}function f(e,t){var n="";if("string"==typeof e)n=e;else do{var i=M(e,"transform")}while(i&&"none"!==i&&(n=i+" "+n),!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function Q(e,t,n){if(e){var i=e.getElementsByTagName(t),o=0,r=i.length;if(n)for(;o<r;o++)n(i[o],o);return i}return[]}function C(){var e=document.scrollingElement;return e||document.documentElement}function j(e,t,n,i,o){if(e.getBoundingClientRect||e===window){var r,a,s,l,c,u,d=e!==window&&e.parentNode&&e!==C()?(a=(r=e.getBoundingClientRect()).top,s=r.left,l=r.bottom,c=r.right,u=r.height,r.width):(s=a=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,window.innerWidth);if((t||n)&&e!==window&&(o=o||e.parentNode,!_))do{if(o&&o.getBoundingClientRect&&("none"!==M(o,"transform")||n&&"static"!==M(o,"position"))){var p=o.getBoundingClientRect();a-=p.top+parseInt(M(o,"border-top-width")),s-=p.left+parseInt(M(o,"border-left-width")),l=a+r.height,c=s+r.width;break}}while(o=o.parentNode);return i&&e!==window&&(i=(t=f(o||e))&&t.a,e=t&&t.d,t)&&(l=(a/=e)+(u/=e),c=(s/=i)+(d/=i)),{top:a,left:s,bottom:l,right:c,width:d,height:u}}}function $(e,t,n){for(var i=P(e,!0),o=j(e)[t];i;){var r=j(i)[n];if(!("top"===n||"left"===n?r<=o:o<=r))return i;if(i===C())break;i=P(i,!1)}return!1}function R(e,t,n,i){for(var o=0,r=0,a=e.children;r<a.length;){if("none"!==a[r].style.display&&a[r]!==Z.ghost&&(i||a[r]!==Z.dragged)&&L(a[r],n.draggable,e,!1)){if(o===t)return a[r];o++}r++}return null}function J(e,t){for(var n=e.lastElementChild;n&&(n===Z.ghost||"none"===M(n,"display")||t&&!k(n,t));)n=n.previousElementSibling;return n||null}function D(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Z.clone||t&&!k(e,t)||n++;return n}function ee(e){var t=0,n=0,i=C();if(e)do{var o=f(e),r=o.a,o=o.d}while(t+=e.scrollLeft*r,n+=e.scrollTop*o,e!==i&&(e=e.parentNode));return[t,n]}function P(e,t){if(e&&e.getBoundingClientRect){var n=e,i=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=M(n);if(n.clientWidth<n.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!n.getBoundingClientRect||n===document.body)return C();if(i||t)return n;i=!0}}}while(n=n.parentNode)}return C()}function te(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function ne(t,n){return function(){var e;O||(1===(e=arguments).length?t.call(this,e[0]):t.apply(this,e),O=setTimeout(function(){O=void 0},n))}}function ie(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function oe(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var F="Sortable"+(new Date).getTime();function re(){var t,i=[];return{captureAnimationState:function(){i=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(e){var t,n;"none"!==M(e,"display")&&e!==Z.ghost&&(i.push({target:e,rect:j(e)}),t=A({},i[i.length-1].rect),e.thisAnimationDuration&&(n=f(e,!0))&&(t.top-=n.f,t.left-=n.e),e.fromRect=t)})},addAnimationState:function(e){i.push(e)},removeAnimationState:function(e){i.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var i in t)if(t.hasOwnProperty(i)&&t[i]===e[n][i])return Number(n);return-1}(i,{target:e}),1)},animateAll:function(e){var c,u,d=this;this.options.animation?(c=!1,u=0,i.forEach(function(e){var t,n=0,i=e.target,o=i.fromRect,r=j(i),a=i.prevFromRect,s=i.prevToRect,e=e.rect,l=f(i,!0);l&&(r.top-=l.f,r.left-=l.e),i.toRect=r,i.thisAnimationDuration&&te(a,r)&&!te(o,r)&&(e.top-r.top)/(e.left-r.left)==(o.top-r.top)/(o.left-r.left)&&(l=e,a=a,s=s,t=d.options,n=Math.sqrt(Math.pow(a.top-l.top,2)+Math.pow(a.left-l.left,2))/Math.sqrt(Math.pow(a.top-s.top,2)+Math.pow(a.left-s.left,2))*t.animation),te(r,o)||(i.prevFromRect=o,i.prevToRect=r,n=n||d.options.animation,d.animate(i,e,r,n)),n&&(c=!0,u=Math.max(u,n),clearTimeout(i.animationResetTimer),i.animationResetTimer=setTimeout(function(){i.animationTime=0,i.prevFromRect=null,i.fromRect=null,i.prevToRect=null,i.thisAnimationDuration=null},n),i.thisAnimationDuration=n)}),clearTimeout(t),c?t=setTimeout(function(){"function"==typeof e&&e()},u):"function"==typeof e&&e(),i=[]):(clearTimeout(t),"function"==typeof e&&e())},animate:function(e,t,n,i){var o,r;i&&(M(e,"transition",""),M(e,"transform",""),r=(o=f(this.el))&&o.a,o=o&&o.d,r=(t.left-n.left)/(r||1),t=(t.top-n.top)/(o||1),e.animatingX=!!r,e.animatingY=!!t,M(e,"transform","translate3d("+r+"px,"+t+"px,0)"),this.forRepaintDummy=e.offsetWidth,M(e,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),M(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout(function(){M(e,"transition",""),M(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1},i))}}}var s=[],ae={initializeByDefault:!0},se={mount:function(t){for(var e in ae)!ae.hasOwnProperty(e)||e in t||(t[e]=ae[e]);s.forEach(function(e){if(e.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),s.push(t)},pluginEvent:function(t,n,i){var e=this,o=(this.eventCanceled=!1,i.cancel=function(){e.eventCanceled=!0},t+"Global");s.forEach(function(e){n[e.pluginName]&&(n[e.pluginName][o]&&n[e.pluginName][o](A({sortable:n},i)),n.options[e.pluginName])&&n[e.pluginName][t]&&n[e.pluginName][t](A({sortable:n},i))})},initializePlugins:function(n,i,o,e){for(var t in s.forEach(function(e){var t=e.pluginName;(n.options[t]||e.initializeByDefault)&&((e=new e(n,i,n.options)).sortable=n,e.options=n.options,n[t]=e,a(o,e.defaults))}),n.options){var r;n.options.hasOwnProperty(t)&&void 0!==(r=this.modifyOption(n,t,n.options[t]))&&(n.options[t]=r)}},getEventProperties:function(t,n){var i={};return s.forEach(function(e){"function"==typeof e.eventProperties&&a(i,e.eventProperties.call(n[e.pluginName],t))}),i},modifyOption:function(t,n,i){var o;return s.forEach(function(e){t[e.pluginName]&&e.optionListeners&&"function"==typeof e.optionListeners[n]&&(o=e.optionListeners[n].call(t[e.pluginName],i))}),o}};function le(e){var t=e.sortable,n=e.rootEl,i=e.name,o=e.targetEl,r=e.cloneEl,a=e.toEl,s=e.fromEl,l=e.oldIndex,c=e.newIndex,u=e.oldDraggableIndex,d=e.newDraggableIndex,p=e.originalEvent,f=e.putSortable,e=e.extraEventProperties;if(t=t||n&&n[F]){var h,g,m=t.options,v="on"+i.charAt(0).toUpperCase()+i.substr(1),y=(!window.CustomEvent||_||b?(h=document.createEvent("Event")).initEvent(i,!0,!0):h=new CustomEvent(i,{bubbles:!0,cancelable:!0}),h.to=a||n,h.from=s||n,h.item=o||n,h.clone=r,h.oldIndex=l,h.newIndex=c,h.oldDraggableIndex=u,h.newDraggableIndex=d,h.originalEvent=p,h.pullMode=f?f.lastPutMode:void 0,A(A({},e),se.getEventProperties(i,t)));for(g in y)h[g]=y[g];n&&n.dispatchEvent(h),m[v]&&m[v].call(t,h)}}function N(e,t){var n=(i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).evt,i=v(i,ce);se.pluginEvent.bind(Z)(e,t,A({dragEl:U,parentEl:H,ghostEl:q,rootEl:W,nextEl:V,lastDownEl:ge,cloneEl:c,cloneHidden:o,dragStarted:xe,putSortable:X,activeSortable:Z.active,originalEvent:n,oldIndex:h,oldDraggableIndex:me,newIndex:G,newDraggableIndex:Y,hideGhostForTarget:pe,unhideGhostForTarget:fe,cloneNowHidden:function(){o=!0},cloneNowShown:function(){o=!1},dispatchSortableEvent:function(e){B({sortable:t,name:e,originalEvent:n})}},i))}var ce=["evt"];function B(e){le(A({putSortable:X,cloneEl:c,targetEl:U,rootEl:W,oldIndex:h,oldDraggableIndex:me,newIndex:G,newDraggableIndex:Y},e))}function ue(e,t){var n,i=M(e),o=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),r=R(e,0,t),e=R(e,1,t),t=r&&M(r),a=e&&M(e),s=t&&parseInt(t.marginLeft)+parseInt(t.marginRight)+j(r).width,l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+j(e).width;return"flex"===i.display?"column"===i.flexDirection||"column-reverse"===i.flexDirection?"vertical":"horizontal":"grid"===i.display?i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal":r&&t.float&&"none"!==t.float?(n="left"===t.float?"left":"right",!e||"both"!==a.clear&&a.clear!==n?"horizontal":"vertical"):r&&("block"===t.display||"flex"===t.display||"table"===t.display||"grid"===t.display||o<=s&&"none"===i[De]||e&&"none"===i[De]&&o<s+l)?"vertical":"horizontal"}function de(e){function s(r,a){return function(e,t,n,i){var o=e.options.group.name&&t.options.group.name&&e.options.group.name===t.options.group.name;return!(null!=r||!a&&!o)||null!=r&&!1!==r&&(a&&"clone"===r?r:"function"==typeof r?s(r(e,t,n,i),a)(e,t,n,i):(o=(a?e:t).options.group.name,!0===r||"string"==typeof r&&r===o||r.join&&-1<r.indexOf(o)))}}var t={},n=e.group;n&&"object"==m(n)||(n={name:n}),t.name=n.name,t.checkPull=s(n.pull,!0),t.checkPut=s(n.put),t.revertClone=n.revertClone,e.group=t}function pe(){!Ne&&q&&M(q,"display","none")}function fe(){!Ne&&q&&M(q,"display","")}function z(e){if(U){e=e.touches?e.touches[0]:e;o=e.clientX,r=e.clientY,Ce.some(function(e){var t,n,i=e[F].options.emptyInsertThreshold;if(i&&!J(e))return n=j(e),t=o>=n.left-i&&o<=n.right+i,n=r>=n.top-i&&r<=n.bottom+i,t&&n?a=e:void 0});var t=a;if(t){var n,i={};for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);i.target=i.rootEl=t,i.preventDefault=void 0,i.stopPropagation=void 0,t[F]._onDragOver(i)}}var o,r,a}function he(e){U&&U.parentNode[F]._isOutsideThisEl(e.target)}var U,H,q,W,V,ge,c,o,h,G,me,Y,ve,X,u,d,ye,_e,be,we,xe,Ee,Se,ke,p,Oe=!1,Te=!1,Ce=[],Pe=!1,Ae=!1,Le=[],Ie=!1,Me=[],je="undefined"!=typeof document,Re=x,De=b||_?"cssFloat":"float",Fe=je&&!E&&!x&&"draggable"in document.createElement("div"),Ne=function(){var e;if(je)return!_&&((e=document.createElement("x")).style.cssText="pointer-events:auto","auto"===e.style.pointerEvents)}();je&&document.addEventListener("click",function(e){if(Te)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Te=!1},!0);function Z(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=a({},t),e[F]=this;var n,i,o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return ue(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Z.supportPointer&&"PointerEvent"in window&&!w,emptyInsertThreshold:5};for(n in se.initializePlugins(this,e,o),o)n in t||(t[n]=o[n]);for(i in de(t),this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&Fe,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?l(e,"pointerdown",this._onTapStart):(l(e,"mousedown",this._onTapStart),l(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(l(e,"dragover",this),l(e,"dragenter",this)),Ce.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),a(this,re())}function Be(e,t,n,i,o,r,a,s){var l,c,u=e[F],d=u.options.onMove;return!window.CustomEvent||_||b?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=i,l.related=o||t,l.relatedRect=r||j(t),l.willInsertAfter=s,l.originalEvent=a,e.dispatchEvent(l),c=d?d.call(u,l,a):c}function ze(e){e.draggable=!1}function Ue(){Ie=!1}function He(e){return setTimeout(e,0)}function qe(e){return clearTimeout(e)}Z.prototype={constructor:Z,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(Ee=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,U):this.options.direction},_onTapStart:function(t){if(t.cancelable){for(var n=this,i=this.el,e=this.options,o=e.preventOnFilter,r=t.type,a=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,s=(a||t).target,l=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||s,c=e.filter,u=i,d=(Me.length=0,u.getElementsByTagName("input")),p=d.length;p--;){var f=d[p];f.checked&&Me.push(f)}if(!U&&!(/mousedown|pointerdown/.test(r)&&0!==t.button||e.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!w||!s||"SELECT"!==s.tagName.toUpperCase())&&!((s=L(s,e.draggable,i,!1))&&s.animated||ge===s)){if(h=D(s),me=D(s,e.draggable),"function"==typeof c){if(c.call(this,t,s,this))return B({sortable:n,rootEl:l,name:"filter",targetEl:s,toEl:i,fromEl:i}),N("filter",n,{evt:t}),void(o&&t.cancelable&&t.preventDefault())}else if(c=c&&c.split(",").some(function(e){if(e=L(l,e.trim(),i,!1))return B({sortable:n,rootEl:e,name:"filter",targetEl:s,fromEl:i,toEl:i}),N("filter",n,{evt:t}),!0}))return void(o&&t.cancelable&&t.preventDefault());e.handle&&!L(l,e.handle,i,!1)||this._prepareDragStart(t,a,s)}}},_prepareDragStart:function(e,t,n){var i,o=this,r=o.el,a=o.options,s=r.ownerDocument;n&&!U&&n.parentNode===r&&(i=j(n),W=r,H=(U=n).parentNode,V=U.nextSibling,ge=n,ve=a.group,u={target:Z.dragged=U,clientX:(t||e).clientX,clientY:(t||e).clientY},be=u.clientX-i.left,we=u.clientY-i.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,U.style["will-change"]="all",r=function(){N("delayEnded",o,{evt:e}),Z.eventCanceled?o._onDrop():(o._disableDelayedDragEvents(),!y&&o.nativeDraggable&&(U.draggable=!0),o._triggerDragStart(e,t),B({sortable:o,name:"choose",originalEvent:e}),I(U,a.chosenClass,!0))},a.ignore.split(",").forEach(function(e){Q(U,e.trim(),ze)}),l(s,"dragover",z),l(s,"mousemove",z),l(s,"touchmove",z),l(s,"mouseup",o._onDrop),l(s,"touchend",o._onDrop),l(s,"touchcancel",o._onDrop),y&&this.nativeDraggable&&(this.options.touchStartThreshold=4,U.draggable=!0),N("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(b||_)?r():Z.eventCanceled?this._onDrop():(l(s,"mouseup",o._disableDelayedDrag),l(s,"touchend",o._disableDelayedDrag),l(s,"touchcancel",o._disableDelayedDrag),l(s,"mousemove",o._delayedDragTouchMoveHandler),l(s,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&l(s,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(r,a.delay)))},_delayedDragTouchMoveHandler:function(e){e=e.touches?e.touches[0]:e;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){U&&ze(U),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;r(e,"mouseup",this._disableDelayedDrag),r(e,"touchend",this._disableDelayedDrag),r(e,"touchcancel",this._disableDelayedDrag),r(e,"mousemove",this._delayedDragTouchMoveHandler),r(e,"touchmove",this._delayedDragTouchMoveHandler),r(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?l(document,"pointermove",this._onTouchMove):l(document,t?"touchmove":"mousemove",this._onTouchMove):(l(U,"dragend",this),l(W,"dragstart",this._onDragStart));try{document.selection?He(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){var n;Oe=!1,W&&U?(N("dragStarted",this,{evt:t}),this.nativeDraggable&&l(document,"dragover",he),n=this.options,e||I(U,n.dragClass,!1),I(U,n.ghostClass,!0),Z.active=this,e&&this._appendGhost(),B({sortable:this,name:"start",originalEvent:t})):this._nulling()},_emulateDragOver:function(){if(d){this._lastX=d.clientX,this._lastY=d.clientY,pe();for(var e=document.elementFromPoint(d.clientX,d.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(d.clientX,d.clientY))!==t;)t=e;if(U.parentNode[F]._isOutsideThisEl(e),t)do{if(t[F])if(t[F]._onDragOver({clientX:d.clientX,clientY:d.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}while(t=(e=t).parentNode);fe()}},_onTouchMove:function(e){if(u){var t=this.options,n=t.fallbackTolerance,t=t.fallbackOffset,i=e.touches?e.touches[0]:e,o=q&&f(q,!0),r=q&&o&&o.a,a=q&&o&&o.d,s=Re&&p&&ee(p),r=(i.clientX-u.clientX+t.x)/(r||1)+(s?s[0]-Le[0]:0)/(r||1),t=(i.clientY-u.clientY+t.y)/(a||1)+(s?s[1]-Le[1]:0)/(a||1);if(!Z.active&&!Oe){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}q&&(o?(o.e+=r-(ye||0),o.f+=t-(_e||0)):o={a:1,b:0,c:0,d:1,e:r,f:t},s="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")"),M(q,"webkitTransform",s),M(q,"mozTransform",s),M(q,"msTransform",s),M(q,"transform",s),ye=r,_e=t,d=i),e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!q){var e=this.options.fallbackOnBody?document.body:W,t=j(U,!0,Re,!0,e),n=this.options;if(Re){for(p=e;"static"===M(p,"position")&&"none"===M(p,"transform")&&p!==document;)p=p.parentNode;p!==document.body&&p!==document.documentElement?(p===document&&(p=C()),t.top+=p.scrollTop,t.left+=p.scrollLeft):p=C(),Le=ee(p)}I(q=U.cloneNode(!0),n.ghostClass,!1),I(q,n.fallbackClass,!0),I(q,n.dragClass,!0),M(q,"transition",""),M(q,"transform",""),M(q,"box-sizing","border-box"),M(q,"margin",0),M(q,"top",t.top),M(q,"left",t.left),M(q,"width",t.width),M(q,"height",t.height),M(q,"opacity","0.8"),M(q,"position",Re?"absolute":"fixed"),M(q,"zIndex","100000"),M(q,"pointerEvents","none"),Z.ghost=q,e.appendChild(q),M(q,"transform-origin",be/parseInt(q.style.width)*100+"% "+we/parseInt(q.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,i=e.dataTransfer,o=n.options;N("dragStart",this,{evt:e}),Z.eventCanceled?this._onDrop():(N("setupClone",this),Z.eventCanceled||((c=oe(U)).draggable=!1,c.style["will-change"]="",this._hideClone(),I(c,this.options.chosenClass,!1),Z.clone=c),n.cloneId=He(function(){N("clone",n),Z.eventCanceled||(n.options.removeCloneOnHide||W.insertBefore(c,U),n._hideClone(),B({sortable:n,name:"clone"}))}),t||I(U,o.dragClass,!0),t?(Te=!0,n._loopId=setInterval(n._emulateDragOver,50)):(r(document,"mouseup",n._onDrop),r(document,"touchend",n._onDrop),r(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",o.setData)&&o.setData.call(n,i,U),l(document,"drop",n),M(U,"transform","translateZ(0)")),Oe=!0,n._dragStartId=He(n._dragStarted.bind(n,t,e)),l(document,"selectstart",n),xe=!0,w&&M(document.body,"user-select","none"))},_onDragOver:function(n){var i,o,r,a=this.el,s=n.target,t=this.options,e=t.group,l=Z.active,c=ve===e,u=t.sort,d=X||l,p=this,f=!1;if(!Ie){if(void 0!==n.preventDefault&&n.cancelable&&n.preventDefault(),s=L(s,t.draggable,a,!0),O("dragOver"),Z.eventCanceled)return f;if(U.contains(n.target)||s.animated&&s.animatingX&&s.animatingY||p._ignoreWhileAnimating===s)return C(!1);if(Te=!1,l&&!t.disabled&&(c?u||(o=H!==W):X===this||(this.lastPutMode=ve.checkPull(this,l,U,n))&&e.checkPut(this,l,U,n))){if(r="vertical"===this._getDirection(n,s),i=j(U),O("dragOverValid"),Z.eventCanceled)return f;if(o)return H=W,T(),this._hideClone(),O("revert"),Z.eventCanceled||(V?W.insertBefore(U,V):W.appendChild(U)),C(!0);e=J(a,t.draggable);if(!e||function(e,t,n){n=j(J(n.el,n.options.draggable));return t?e.clientX>n.right+10||e.clientX<=n.right&&e.clientY>n.bottom&&e.clientX>=n.left:e.clientX>n.right&&e.clientY>n.top||e.clientX<=n.right&&e.clientY>n.bottom+10}(n,r,this)&&!e.animated){if(e===U)return C(!1);if((s=e&&a===n.target?e:s)&&(v=j(s)),!1!==Be(W,a,U,i,s,v,n,!!s))return T(),a.appendChild(U),H=a,P(),C(!0)}else if(e&&function(e,t,n){n=j(R(n.el,0,n.options,!0));return t?e.clientX<n.left-10||e.clientY<n.top&&e.clientX<n.right:e.clientY<n.top-10||e.clientY<n.bottom&&e.clientX<n.left}(n,r,this)){e=R(a,0,t,!0);if(e===U)return C(!1);if(v=j(s=e),!1!==Be(W,a,U,i,s,v,n,!1))return T(),a.insertBefore(U,e),H=a,P(),C(!0)}else if(s.parentNode===a){var h,g,m,v=j(s),e=U.parentNode!==a,y=(E=U.animated&&U.toRect||i,y=s.animated&&s.toRect||v,w=(k=r)?E.left:E.top,_=k?E.right:E.bottom,E=k?E.width:E.height,S=k?y.left:y.top,b=k?y.right:y.bottom,k=k?y.width:y.height,!(w===S||_===b||w+E/2===S+k/2)),_=r?"top":"left",b=$(s,"top","top")||$(U,"top","top"),w=b?b.scrollTop:void 0;if(Ee!==s&&(g=v[_],Pe=!1,Ae=!y&&t.invertSwap||e),0!==(h=function(e,t,n,i,o,r,a,s){var e=i?e.clientY:e.clientX,l=i?n.height:n.width,c=i?n.top:n.left,i=i?n.bottom:n.right,n=!1;if(!a)if(s&&ke<l*o){if(Pe=!Pe&&(1===Se?c+l*r/2<e:e<i-l*r/2)?!0:Pe)n=!0;else if(1===Se?e<c+ke:i-ke<e)return-Se}else if(c+l*(1-o)/2<e&&e<i-l*(1-o)/2)return function(e){return D(U)<D(e)?1:-1}(t);if((n=n||a)&&(e<c+l*r/2||i-l*r/2<e))return c+l/2<e?1:-1;return 0}(n,s,v,r,y?1:t.swapThreshold,null==t.invertedSwapThreshold?t.swapThreshold:t.invertedSwapThreshold,Ae,Ee===s)))for(var x=D(U);(m=H.children[x-=h])&&("none"===M(m,"display")||m===q););if(0===h||m===s)return C(!1);Se=h;var E=(Ee=s).nextElementSibling,S=!1,k=Be(W,a,U,i,s,v,n,S=1===h);if(!1!==k)return 1!==k&&-1!==k||(S=1===k),Ie=!0,setTimeout(Ue,30),T(),S&&!E?a.appendChild(U):s.parentNode.insertBefore(U,S?E:s),b&&ie(b,0,w-b.scrollTop),H=U.parentNode,void 0===g||Ae||(ke=Math.abs(g-j(s)[_])),P(),C(!0)}if(a.contains(U))return C(!1)}return!1}function O(e,t){N(e,p,A({evt:n,isOwner:c,axis:r?"vertical":"horizontal",revert:o,dragRect:i,targetRect:v,canSort:u,fromSortable:d,target:s,completed:C,onMove:function(e,t){return Be(W,a,U,i,e,j(e),n,t)},changed:P},t))}function T(){O("dragOverAnimationCapture"),p.captureAnimationState(),p!==d&&d.captureAnimationState()}function C(e){return O("dragOverCompleted",{insertion:e}),e&&(c?l._hideClone():l._showClone(p),p!==d&&(I(U,(X||l).options.ghostClass,!1),I(U,t.ghostClass,!0)),X!==p&&p!==Z.active?X=p:p===Z.active&&(X=X&&null),d===p&&(p._ignoreWhileAnimating=s),p.animateAll(function(){O("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==d)&&(d.animateAll(),d._ignoreWhileAnimating=null),(s===U&&!U.animated||s===a&&!s.animated)&&(Ee=null),t.dragoverBubble||n.rootEl||s===document||(U.parentNode[F]._isOutsideThisEl(n.target),e)||z(n),!t.dragoverBubble&&n.stopPropagation&&n.stopPropagation(),f=!0}function P(){G=D(U),Y=D(U,t.draggable),B({sortable:p,name:"change",toEl:a,newIndex:G,newDraggableIndex:Y,originalEvent:n})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){r(document,"mousemove",this._onTouchMove),r(document,"touchmove",this._onTouchMove),r(document,"pointermove",this._onTouchMove),r(document,"dragover",z),r(document,"mousemove",z),r(document,"touchmove",z)},_offUpEvents:function(){var e=this.el.ownerDocument;r(e,"mouseup",this._onDrop),r(e,"touchend",this._onDrop),r(e,"pointerup",this._onDrop),r(e,"touchcancel",this._onDrop),r(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;G=D(U),Y=D(U,n.draggable),N("drop",this,{evt:e}),H=U&&U.parentNode,G=D(U),Y=D(U,n.draggable),Z.eventCanceled||(Pe=Ae=Oe=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),qe(this.cloneId),qe(this._dragStartId),this.nativeDraggable&&(r(document,"drop",this),r(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),w&&M(document.body,"user-select",""),M(U,"transform",""),e&&(xe&&(e.cancelable&&e.preventDefault(),n.dropBubble||e.stopPropagation()),q&&q.parentNode&&q.parentNode.removeChild(q),(W===H||X&&"clone"!==X.lastPutMode)&&c&&c.parentNode&&c.parentNode.removeChild(c),U)&&(this.nativeDraggable&&r(U,"dragend",this),ze(U),U.style["will-change"]="",xe&&!Oe&&I(U,(X||this).options.ghostClass,!1),I(U,this.options.chosenClass,!1),B({sortable:this,name:"unchoose",toEl:H,newIndex:null,newDraggableIndex:null,originalEvent:e}),W!==H?(0<=G&&(B({rootEl:H,name:"add",toEl:H,fromEl:W,originalEvent:e}),B({sortable:this,name:"remove",toEl:H,originalEvent:e}),B({rootEl:H,name:"sort",toEl:H,fromEl:W,originalEvent:e}),B({sortable:this,name:"sort",toEl:H,originalEvent:e})),X&&X.save()):G!==h&&0<=G&&(B({sortable:this,name:"update",toEl:H,originalEvent:e}),B({sortable:this,name:"sort",toEl:H,originalEvent:e})),Z.active)&&(null!=G&&-1!==G||(G=h,Y=me),B({sortable:this,name:"end",toEl:H,originalEvent:e}),this.save())),this._nulling()},_nulling:function(){N("nulling",this),W=U=H=q=V=c=ge=o=u=d=xe=G=Y=h=me=Ee=Se=X=ve=Z.dragged=Z.ghost=Z.clone=Z.active=null,Me.forEach(function(e){e.checked=!0}),Me.length=ye=_e=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":var t;U&&(this._onDragOver(e),(t=e).dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable)&&t.preventDefault();break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,i=0,o=n.length,r=this.options;i<o;i++)L(e=n[i],r.draggable,this.el,!1)&&t.push(e.getAttribute(r.dataIdAttr)||function(e){var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,i=0;for(;n--;)i+=t.charCodeAt(n);return i.toString(36)}(e));return t},sort:function(e,t){var n={},i=this.el;this.toArray().forEach(function(e,t){t=i.children[t];L(t,this.options.draggable,i,!1)&&(n[e]=t)},this),t&&this.captureAnimationState(),e.forEach(function(e){n[e]&&(i.removeChild(n[e]),i.appendChild(n[e]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return L(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var i=se.modifyOption(this,e,t);n[e]=void 0!==i?i:t,"group"===e&&de(n)},destroy:function(){N("destroy",this);var e=this.el;e[F]=null,r(e,"mousedown",this._onTapStart),r(e,"touchstart",this._onTapStart),r(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(r(e,"dragover",this),r(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Ce.splice(Ce.indexOf(this.el),1),this.el=e=null},_hideClone:function(){o||(N("hideClone",this),Z.eventCanceled)||(M(c,"display","none"),this.options.removeCloneOnHide&&c.parentNode&&c.parentNode.removeChild(c),o=!0)},_showClone:function(e){"clone"!==e.lastPutMode?this._hideClone():o&&(N("showClone",this),Z.eventCanceled||(U.parentNode!=W||this.options.group.revertClone?V?W.insertBefore(c,V):W.appendChild(c):W.insertBefore(c,U),this.options.group.revertClone&&this.animate(U,c),M(c,"display",""),o=!1))}},je&&l(document,"touchmove",function(e){(Z.active||Oe)&&e.cancelable&&e.preventDefault()}),Z.utils={on:l,off:r,css:M,find:Q,is:function(e,t){return!!L(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:ne,closest:L,toggleClass:I,clone:oe,index:D,nextTick:He,cancelNextTick:qe,detectDirection:ue,getChild:R},Z.get=function(e){return e[F]},Z.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];(t=t[0].constructor===Array?t[0]:t).forEach(function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Z.utils=A(A({},Z.utils),e.utils)),se.mount(e)})},Z.create=function(e,t){return new Z(e,t)};var We,Ve,Ge,Ye,Xe,Ze,K=[],Ke=!(Z.version="1.14.0");function Qe(){K.forEach(function(e){clearInterval(e.pid)}),K=[]}function $e(){clearInterval(Ze)}function Je(e){var t=e.originalEvent,n=e.putSortable,i=e.dragEl,o=e.activeSortable,r=e.dispatchSortableEvent,a=e.hideGhostForTarget,e=e.unhideGhostForTarget;t&&(o=n||o,a(),a=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,t=document.elementFromPoint(a.clientX,a.clientY),e(),o)&&!o.el.contains(t)&&(r("spill"),this.onSpill({dragEl:i,putSortable:n}))}var et=ne(function(n,e,t,i){if(e.scroll){var o,r=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,s=e.scrollSensitivity,l=e.scrollSpeed,c=C(),u=!1,d=0,p=We=Ve!==t&&(Ve=t,Qe(),We=e.scroll,o=e.scrollFn,!0===We)?P(t,!0):We;do{var f=p,h=j(f),g=h.top,m=h.bottom,v=h.left,y=h.right,_=h.width,h=h.height,b=void 0,w=void 0,x=f.scrollWidth,E=f.scrollHeight,S=M(f),k=f.scrollLeft,O=f.scrollTop,w=f===c?(b=_<x&&("auto"===S.overflowX||"scroll"===S.overflowX||"visible"===S.overflowX),h<E&&("auto"===S.overflowY||"scroll"===S.overflowY||"visible"===S.overflowY)):(b=_<x&&("auto"===S.overflowX||"scroll"===S.overflowX),h<E&&("auto"===S.overflowY||"scroll"===S.overflowY)),S=b&&(Math.abs(y-r)<=s&&k+_<x)-(Math.abs(v-r)<=s&&!!k),b=w&&(Math.abs(m-a)<=s&&O+h<E)-(Math.abs(g-a)<=s&&!!O);if(!K[d])for(var T=0;T<=d;T++)K[T]||(K[T]={});K[d].vx==S&&K[d].vy==b&&K[d].el===f||(K[d].el=f,K[d].vx=S,K[d].vy=b,clearInterval(K[d].pid),0==S&&0==b)||(u=!0,K[d].pid=setInterval(function(){i&&0===this.layer&&Z.active._onTouchMove(Xe);var e=K[this.layer].vy?K[this.layer].vy*l:0,t=K[this.layer].vx?K[this.layer].vx*l:0;"function"==typeof o&&"continue"!==o.call(Z.dragged.parentNode[F],t,e,n,Xe,K[this.layer].el)||ie(K[this.layer].el,t,e)}.bind({layer:d}),24)),d++}while(e.bubbleScroll&&p!==c&&(p=P(p,!1)));Ke=u}},30);function tt(){}function nt(){}tt.prototype={startIndex:null,dragStart:function(e){e=e.oldDraggableIndex;this.startIndex=e},onSpill:function(e){var t=e.dragEl,e=e.putSortable,n=(this.sortable.captureAnimationState(),e&&e.captureAnimationState(),R(this.sortable.el,this.startIndex,this.options));n?this.sortable.el.insertBefore(t,n):this.sortable.el.appendChild(t),this.sortable.animateAll(),e&&e.animateAll()},drop:Je},a(tt,{pluginName:"revertOnSpill"}),nt.prototype={onSpill:function(e){var t=e.dragEl,e=e.putSortable||this.sortable;e.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),e.animateAll()},drop:Je},a(nt,{pluginName:"removeOnSpill"});Z.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){e=e.originalEvent;this.sortable.nativeDraggable?l(document,"dragover",this._handleAutoScroll):this.options.supportPointer?l(document,"pointermove",this._handleFallbackAutoScroll):e.touches?l(document,"touchmove",this._handleFallbackAutoScroll):l(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){e=e.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?r(document,"dragover",this._handleAutoScroll):(r(document,"pointermove",this._handleFallbackAutoScroll),r(document,"touchmove",this._handleFallbackAutoScroll),r(document,"mousemove",this._handleFallbackAutoScroll)),$e(),Qe(),clearTimeout(O),O=void 0},nulling:function(){Xe=Ve=We=Ke=Ze=Ge=Ye=null,K.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(t,n){var i,o=this,r=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,e=document.elementFromPoint(r,a);Xe=t,n||this.options.forceAutoScrollFallback||b||_||w?(et(t,this.options,e,n),i=P(e,!0),!Ke||Ze&&r===Ge&&a===Ye||(Ze&&$e(),Ze=setInterval(function(){var e=P(document.elementFromPoint(r,a),!0);e!==i&&(i=e,Qe()),et(t,o.options,e,n)},10),Ge=r,Ye=a)):this.options.bubbleScroll&&P(e,!0)!==C()?et(t,this.options,P(e,!1),!1):Qe()}},a(e,{pluginName:"scroll",initializeByDefault:!0})}),Z.mount(nt,tt),n.a=Z},,function(e,a,s){"use strict";!function(e,g){var t=this&&this.__awaiter||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,o)}r((l=l.apply(e,a||[])).next())})},i=this&&this.__generator||function(i,o){var r,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(s=0<(s=l.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],a=0}finally{r=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},n=(Object.defineProperty(a,"__esModule",{value:!0}),a.ImageView=void 0,s(106)),o=s(168),o=(e.loadImage=o,s(173));function r(e){void 0===e&&(e={}),this.files=null,this.coversShow=!0,this.screenSize=[],this.imageIsLoaded=!1,this.URL=window.URL||window.webkitURL,this.URLObj={},this.imageSrc={},this.utif=s(174),this.useLoadImageLib=!1,Object.assign(this,e),this.init()}e.canvasToBlob=o,r.prototype.init=function(){},r.prototype.renderUrl=function(i,o,r){return void 0===r&&(r=!1),new Promise(function(n,e){var t=document.getElementById(o),t=(1==r?g(t).attr("src",i):g(t).attr("style","background-image: url("+i+");background-size:contain"),new Image);t.src=i,t.onload=function(){var t=new XMLHttpRequest;t.open("HEAD",i,!0),t.onreadystatechange=function(){var e;4==t.readyState&&(e=t.getResponseHeader("Content-Length"),200==t.status&&e?n({size:t.getResponseHeader("Content-Length")}):n({}))},t.send(null)}})},r.prototype.renderImage=function(e,t,n){return void 0===n&&(n=!1),1==this.useLoadImageLib?this.renderImageOrientation(e,t,n):this.renderImageBasic(e,t,n)},r.prototype.hasBrowserAppliedImageOrientation=function(e){return"from-image"===g(e).css("image-orientation")},r.prototype.renderImageBasic=function(e,u,d,t){void 0===d&&(d=!1),void 0===t&&(t=!1);var p=this;n.isIE11(),e.type;return new Promise(function(a,s){var l=document.getElementById(u);try{var c=new FileReader;c.onload=function(e){var t,n=0,n=p.getExifOrientation(e),i=new Uint8Array(c.result),o=null;try{t=new Blob([i]),o=(window.URL||window.webkitURL).createObjectURL(t)}catch(e){return void s(e)}p.imageSrc[u]=o,p.imageIsLoaded=!0;var r=new Image;r.onload=function(){var e=r.height,t=r.width;4<(n=p.hasBrowserAppliedImageOrientation(l)?0:n)&&n<9&&(e=(e+=t)-(t=e-t)),1==d?g(l).attr("src",o):g(l).css("background-image","url("+o+")").css("background-size","contain"),p.transformByOrientation(l,n),a({width:t,height:e})},r.onerror=function(e){g(l).css("background-image",'url("/img/filetype/damaged.svg")').css("background-size","35%;"),s(e)},r.src=o},c.readAsArrayBuffer(e)}catch(e){s()}})},r.prototype.renderHeic=function(e,n){return t(this,void 0,void 0,function(){var t;return i(this,function(e){return(t=document.getElementById(n)).style.backgroundImage="url( '/img/filetype/heic.svg' )",t.style.backgroundSize="contain",[2]})})},r.prototype.transformByOrientation=function(e,t){var n="";if(1<t){switch(t){case 1:break;case 2:n="scaleX(-1)";break;case 3:n="rotate(180deg)";break;case 4:n="rotate(180deg) scale(-1)";break;case 5:n="rotate(90deg) scale(-1)";break;case 6:n="rotate(90deg)";break;case 7:n="rotate(270deg) scale(-1)";break;case 8:n="rotate(270deg)"}g(e).css("transform",n)}},r.prototype.renderImageOrientation=function(e,c,u){void 0===u&&(u=!1);var d=this;return new Promise(function(r,a){var s=document.getElementById(c);try{var l=new FileReader;l.onload=function(e){var t=0,n=new Uint8Array(l.result),n=new Blob([n]);if(1<(t=d.hasBrowserAppliedImageOrientation(s)?t:d.getExifOrientation(e)))window.loadImage(n,function(e){!e||"type"in e&&"error"==e.type?a({error:"damagedImage",message:"cannot render image"}):e.toBlob(function(e){var t,n;try{t=window.URL||window.webkitURL,n=t.createObjectURL(e)}catch(e){return void a(e)}d.imageSrc[c]=n,d.imageIsLoaded=!0;var i=new Image;i.onload=function(){var e=i.height,t=i.width;u?g(s).attr("src",n):g(s).attr("style","background-image: url("+n+");background-size:contain"),window.setTimeout(function(){d.URL.revokeObjectURL(n)},1e3),r({width:t,height:e})},i.onerror=function(e){g(s).attr("style",'background-image: url("/img/filetype/damaged.svg");background-size:35%;'),a(e)},i.src=n})},{canvas:!0,orientation:t});else{var i,t=void 0;try{t=window.URL||window.webkitURL,i=t.createObjectURL(n)}catch(e){return void a(e)}d.imageSrc[c]=i,d.imageIsLoaded=!0;var o=new Image;o.onload=function(){var e=o.height,t=o.width;1==u?g(s).attr("src",i):g(s).css("background-image","url("+i+")").css("background-size","contain"),r({width:t,height:e})},o.onerror=function(e){g(s).css("background-image",'url("/img/filetype/damaged.svg")').css("background-size","35%;"),a(e)},o.src=i}},l.readAsArrayBuffer(e)}catch(e){a()}})},r.prototype.getExifOrientation=function(e){var t=new DataView(e.target.result);if(65496!=t.getUint16(0,!1))return-2;for(var n=t.byteLength,i=2;i<n;){if(t.getUint16(i+2,!1)<=8)return-1;var o=t.getUint16(i,!1);if(i+=2,65505==o){if(1165519206!=t.getUint32(i+=2,!1))return-1;var r=18761==t.getUint16(i+=6,!1),a=(i+=t.getUint32(i+4,r),t.getUint16(i,r));i+=2;for(var s=0;s<a;s++)if(274==t.getUint16(i+12*s,r))return t.getUint16(i+12*s+8,r)}else{if(65280!=(65280&o))break;i+=t.getUint16(i,!1)}}return-1},r.prototype.renderSvg=function(n,r,a){void 0===a&&(a=!1);var s=this;return new Promise(function(i,t){var o=document.getElementById(r),e=new FileReader;e.onload=function(e){s.imageSrc[r]=e.target.result,a?g(o).attr("src",s.imageSrc[r]):g(o).attr("style","background-image: url("+s.imageSrc[r]+");background-size:contain"),s.imageIsLoaded=!0;var n=new Image;n.onload=function(){var e=n.height,t=n.width;i({width:t,height:e})},n.onerror=function(e){g(o).attr("style",'background-image: url("/img/filetype/damaged.svg");background-size:35%;'),t(e)},n.src=s.imageSrc[r]};try{e.readAsDataURL(n)}catch(e){t()}})},r.prototype.renderTif=function(e,p){var f=this,h=document.getElementById(p),t=new FileReader;return new Promise(function(u,d){t.onload=function(e){try{for(var t=f.utif.decode(e.target.result)[0],n=f.utif.toRGBA8(t),i=t.width,o=t.height,r=void 0,a=0,s=(o<i?a=o*(r=f.screenSize.h)/i:r=i*(a=f.screenSize.h)/o,"canvas"!=h.tagName&&(g("#"+p).append('<canvas class="raw"></canvas>'),h=g("#"+p+" canvas")[0]),h.width=i,h.height=o,h.getContext("2d")),l=s.createImageData(i,o),c=0;c<n.length;c++)l.data[c]=n[c];s.putImageData(l,0,0),("canvas"==g("#"+p)[0].tagName?g("#"+p):g("#"+p+" canvas")).css("width",r+"px").css("height",a+"px"),u()}catch(e){d(e)}},t.readAsArrayBuffer(e)})},r.prototype.onFileReady=function(){var i=this;return new Promise(function(e,t){var n=window.setInterval(function(){!0===i.imageIsLoaded&&(clearInterval(n),e())},200)})},a.ImageView=r}.call(this,s(28),s(1))},,,,,,,,function(e,t,n){var i,o;!function(){"use strict";o=[n(1),n(126),n(154),n(127),n(155),n(156),n(157),n(44),n(94)],void 0!==(o="function"==typeof(i=function(_){"use strict";return _.widget("ui.draggable",_.ui.mouse,{version:"1.13.0",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){if(this.options.helper==="original")this._setPositionRelative();if(this.options.addClasses)this._addClass("ui-draggable");this._setHandleClassName();this._mouseInit()},_setOption:function(e,t){this._super(e,t);if(e==="handle"){this._removeHandleClassName();this._setHandleClassName()}},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging")){this.destroyOnClear=true;return}this._removeHandleClassName();this._mouseDestroy()},_mouseCapture:function(e){var t=this.options;if(this.helper||t.disabled||_(e.target).closest(".ui-resizable-handle").length>0)return false;this.handle=this._getHandle(e);if(!this.handle)return false;this._blurActiveElement(e);this._blockFrames(t.iframeFix===true?"iframe":t.iframeFix);return true},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=_(this);return _("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks}},_blurActiveElement:function(e){var t=_.ui.safeActiveElement(this.document[0]),n=_(e.target);if(n.closest(t).length)return;_.ui.safeBlur(t)},_mouseStart:function(e){var t=this.options;this.helper=this._createHelper(e);this._addClass(this.helper,"ui-draggable-dragging");this._cacheHelperProportions();if(_.ui.ddmanager)_.ui.ddmanager.current=this;this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent(true);this.offsetParent=this.helper.offsetParent();this.hasFixedAncestor=this.helper.parents().filter(function(){return _(this).css("position")==="fixed"}).length>0;this.positionAbs=this.element.offset();this._refreshOffsets(e);this.originalPosition=this.position=this._generatePosition(e,false);this.originalPageX=e.pageX;this.originalPageY=e.pageY;if(t.cursorAt)this._adjustOffsetFromHelper(t.cursorAt);this._setContainment();if(this._trigger("start",e)===false){this._clear();return false}this._cacheHelperProportions();if(_.ui.ddmanager&&!t.dropBehaviour)_.ui.ddmanager.prepareOffsets(this,e);this._mouseDrag(e,true);if(_.ui.ddmanager)_.ui.ddmanager.dragStart(this,e);return true},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:false,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(e,t){if(this.hasFixedAncestor)this.offset.parent=this._getParentOffset();this.position=this._generatePosition(e,true);this.positionAbs=this._convertPositionTo("absolute");if(!t){var n=this._uiHash();if(this._trigger("drag",e,n)===false){this._mouseUp(new _.Event("mouseup",e));return false}this.position=n.position}this.helper[0].style.left=this.position.left+"px";this.helper[0].style.top=this.position.top+"px";if(_.ui.ddmanager)_.ui.ddmanager.drag(this,e);return false},_mouseStop:function(e){var t=this,n=false;if(_.ui.ddmanager&&!this.options.dropBehaviour)n=_.ui.ddmanager.drop(this,e);if(this.dropped){n=this.dropped;this.dropped=false}if(this.options.revert==="invalid"&&!n||this.options.revert==="valid"&&n||this.options.revert===true||typeof this.options.revert==="function"&&this.options.revert.call(this.element,n))_(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(t._trigger("stop",e)!==false)t._clear()});else if(this._trigger("stop",e)!==false)this._clear();return false},_mouseUp:function(e){this._unblockFrames();if(_.ui.ddmanager)_.ui.ddmanager.dragStop(this,e);if(this.handleElement.is(e.target))this.element.trigger("focus");return _.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){if(this.helper.is(".ui-draggable-dragging"))this._mouseUp(new _.Event("mouseup",{target:this.element[0]}));else this._clear();return this},_getHandle:function(e){return this.options.handle?!!_(e.target).closest(this.element.find(this.options.handle)).length:true},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var t=this.options,n=typeof t.helper==="function",i=n?_(t.helper.apply(this.element[0],[e])):t.helper==="clone"?this.element.clone().removeAttr("id"):this.element;if(!i.parents("body").length)i.appendTo(t.appendTo==="parent"?this.element[0].parentNode:t.appendTo);if(n&&i[0]===this.element[0])this._setPositionRelative();if(i[0]!==this.element[0]&&!/(fixed|absolute)/.test(i.css("position")))i.css("position","absolute");return i},_setPositionRelative:function(){if(!/^(?:r|a|f)/.test(this.element.css("position")))this.element[0].style.position="relative"},_adjustOffsetFromHelper:function(e){if(typeof e==="string")e=e.split(" ");if(Array.isArray(e))e={left:+e[0],top:+e[1]||0};if("left"in e)this.offset.click.left=e.left+this.margins.left;if("right"in e)this.offset.click.left=this.helperProportions.width-e.right+this.margins.left;if("top"in e)this.offset.click.top=e.top+this.margins.top;if("bottom"in e)this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),t=this.document[0];if(this.cssPosition==="absolute"&&this.scrollParent[0]!==t&&_.contains(this.scrollParent[0],this.offsetParent[0])){e.left+=this.scrollParent.scrollLeft();e.top+=this.scrollParent.scrollTop()}if(this._isRootNode(this.offsetParent[0]))e={top:0,left:0};return{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition!=="relative")return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(!t?this.scrollParent.scrollTop():0),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(!t?this.scrollParent.scrollLeft():0)}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,n,i=this.options,o=this.document[0];this.relativeContainer=null;if(!i.containment){this.containment=null;return}if(i.containment==="window"){this.containment=[_(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,_(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,_(window).scrollLeft()+_(window).width()-this.helperProportions.width-this.margins.left,_(window).scrollTop()+(_(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(i.containment==="document"){this.containment=[0,0,_(o).width()-this.helperProportions.width-this.margins.left,(_(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(i.containment.constructor===Array){this.containment=i.containment;return}if(i.containment==="parent")i.containment=this.helper[0].parentNode;t=_(i.containment);n=t[0];if(!n)return;e=/(scroll|auto)/.test(t.css("overflow"));this.containment=[(parseInt(t.css("borderLeftWidth"),10)||0)+(parseInt(t.css("paddingLeft"),10)||0),(parseInt(t.css("borderTopWidth"),10)||0)+(parseInt(t.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(t.css("borderRightWidth"),10)||0)-(parseInt(t.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(t.css("borderBottomWidth"),10)||0)-(parseInt(t.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relativeContainer=t},_convertPositionTo:function(e,t){if(!t)t=this.position;var n=e==="absolute"?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-(this.cssPosition==="fixed"?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-(this.cssPosition==="fixed"?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,i,o,r,a=this.options,s=this._isRootNode(this.scrollParent[0]),l=e.pageX,c=e.pageY;if(!s||!this.offset.scroll)this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()};if(t){if(this.containment){if(this.relativeContainer){i=this.relativeContainer.offset();n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]}else n=this.containment;if(e.pageX-this.offset.click.left<n[0])l=n[0]+this.offset.click.left;if(e.pageY-this.offset.click.top<n[1])c=n[1]+this.offset.click.top;if(e.pageX-this.offset.click.left>n[2])l=n[2]+this.offset.click.left;if(e.pageY-this.offset.click.top>n[3])c=n[3]+this.offset.click.top}if(a.grid){o=a.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY;c=n?o-this.offset.click.top>=n[1]||o-this.offset.click.top>n[3]?o:o-this.offset.click.top>=n[1]?o-a.grid[1]:o+a.grid[1]:o;r=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX;l=n?r-this.offset.click.left>=n[0]||r-this.offset.click.left>n[2]?r:r-this.offset.click.left>=n[0]?r-a.grid[0]:r+a.grid[0]:r}if(a.axis==="y")l=this.originalPageX;if(a.axis==="x")c=this.originalPageY}return{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging");if(this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval)this.helper.remove();this.helper=null;this.cancelHelperRemoval=false;if(this.destroyOnClear)this.destroy()},_trigger:function(e,t,n){n=n||this._uiHash();_.ui.plugin.call(this,e,[t,n,this],true);if(/^(drag|start|stop)/.test(e)){this.positionAbs=this._convertPositionTo("absolute");n.offset=this.positionAbs}return _.Widget.prototype._trigger.call(this,e,t,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),_.ui.plugin.add("draggable","connectToSortable",{start:function(t,e,n){var i=_.extend({},e,{item:n.element});n.sortables=[];_(n.options.connectToSortable).each(function(){var e=_(this).sortable("instance");if(e&&!e.options.disabled){n.sortables.push(e);e.refreshPositions();e._trigger("activate",t,i)}})},stop:function(t,e,n){var i=_.extend({},e,{item:n.element});n.cancelHelperRemoval=false;_.each(n.sortables,function(){var e=this;if(e.isOver){e.isOver=0;n.cancelHelperRemoval=true;e.cancelHelperRemoval=false;e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")};e._mouseStop(t);e.options.helper=e.options._helper}else{e.cancelHelperRemoval=true;e._trigger("deactivate",t,i)}})},drag:function(n,i,o){_.each(o.sortables,function(){var e=false,t=this;t.positionAbs=o.positionAbs;t.helperProportions=o.helperProportions;t.offset.click=o.offset.click;if(t._intersectsWith(t.containerCache)){e=true;_.each(o.sortables,function(){this.positionAbs=o.positionAbs;this.helperProportions=o.helperProportions;this.offset.click=o.offset.click;if(this!==t&&this._intersectsWith(this.containerCache)&&_.contains(t.element[0],this.element[0]))e=false;return e})}if(e){if(!t.isOver){t.isOver=1;o._parent=i.helper.parent();t.currentItem=i.helper.appendTo(t.element).data("ui-sortable-item",true);t.options._helper=t.options.helper;t.options.helper=function(){return i.helper[0]};n.target=t.currentItem[0];t._mouseCapture(n,true);t._mouseStart(n,true,true);t.offset.click.top=o.offset.click.top;t.offset.click.left=o.offset.click.left;t.offset.parent.left-=o.offset.parent.left-t.offset.parent.left;t.offset.parent.top-=o.offset.parent.top-t.offset.parent.top;o._trigger("toSortable",n);o.dropped=t.element;_.each(o.sortables,function(){this.refreshPositions()});o.currentItem=o.element;t.fromOutside=o}if(t.currentItem){t._mouseDrag(n);i.position=t.position}}else if(t.isOver){t.isOver=0;t.cancelHelperRemoval=true;t.options._revert=t.options.revert;t.options.revert=false;t._trigger("out",n,t._uiHash(t));t._mouseStop(n,true);t.options.revert=t.options._revert;t.options.helper=t.options._helper;if(t.placeholder)t.placeholder.remove();i.helper.appendTo(o._parent);o._refreshOffsets(n);i.position=o._generatePosition(n,true);o._trigger("fromSortable",n);o.dropped=false;_.each(o.sortables,function(){this.refreshPositions()})}})}}),_.ui.plugin.add("draggable","cursor",{start:function(e,t,n){var i=_("body"),o=n.options;if(i.css("cursor"))o._cursor=i.css("cursor");i.css("cursor",o.cursor)},stop:function(e,t,n){var i=n.options;if(i._cursor)_("body").css("cursor",i._cursor)}}),_.ui.plugin.add("draggable","opacity",{start:function(e,t,n){var i=_(t.helper),o=n.options;if(i.css("opacity"))o._opacity=i.css("opacity");i.css("opacity",o.opacity)},stop:function(e,t,n){var i=n.options;if(i._opacity)_(t.helper).css("opacity",i._opacity)}}),_.ui.plugin.add("draggable","scroll",{start:function(e,t,n){if(!n.scrollParentNotHidden)n.scrollParentNotHidden=n.helper.scrollParent(false);if(n.scrollParentNotHidden[0]!==n.document[0]&&n.scrollParentNotHidden[0].tagName!=="HTML")n.overflowOffset=n.scrollParentNotHidden.offset()},drag:function(e,t,n){var i=n.options,o=false,r=n.scrollParentNotHidden[0],a=n.document[0];if(r!==a&&r.tagName!=="HTML"){if(!i.axis||i.axis!=="x")if(n.overflowOffset.top+r.offsetHeight-e.pageY<i.scrollSensitivity)r.scrollTop=o=r.scrollTop+i.scrollSpeed;else if(e.pageY-n.overflowOffset.top<i.scrollSensitivity)r.scrollTop=o=r.scrollTop-i.scrollSpeed;if(!i.axis||i.axis!=="y")if(n.overflowOffset.left+r.offsetWidth-e.pageX<i.scrollSensitivity)r.scrollLeft=o=r.scrollLeft+i.scrollSpeed;else if(e.pageX-n.overflowOffset.left<i.scrollSensitivity)r.scrollLeft=o=r.scrollLeft-i.scrollSpeed}else{if(!i.axis||i.axis!=="x")if(e.pageY-_(a).scrollTop()<i.scrollSensitivity)o=_(a).scrollTop(_(a).scrollTop()-i.scrollSpeed);else if(_(window).height()-(e.pageY-_(a).scrollTop())<i.scrollSensitivity)o=_(a).scrollTop(_(a).scrollTop()+i.scrollSpeed);if(!i.axis||i.axis!=="y")if(e.pageX-_(a).scrollLeft()<i.scrollSensitivity)o=_(a).scrollLeft(_(a).scrollLeft()-i.scrollSpeed);else if(_(window).width()-(e.pageX-_(a).scrollLeft())<i.scrollSensitivity)o=_(a).scrollLeft(_(a).scrollLeft()+i.scrollSpeed)}if(o!==false&&_.ui.ddmanager&&!i.dropBehaviour)_.ui.ddmanager.prepareOffsets(n,e)}}),_.ui.plugin.add("draggable","snap",{start:function(e,t,n){var i=n.options;n.snapElements=[];_(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var e=_(this),t=e.offset();if(this!==n.element[0])n.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:t.top,left:t.left})})},drag:function(e,t,n){var i,o,r,a,s,l,c,u,d,p,f=n.options,h=f.snapTolerance,g=t.offset.left,m=g+n.helperProportions.width,v=t.offset.top,y=v+n.helperProportions.height;for(d=n.snapElements.length-1;d>=0;d--){s=n.snapElements[d].left-n.margins.left;l=s+n.snapElements[d].width;c=n.snapElements[d].top-n.margins.top;u=c+n.snapElements[d].height;if(m<s-h||g>l+h||y<c-h||v>u+h||!_.contains(n.snapElements[d].item.ownerDocument,n.snapElements[d].item)){if(n.snapElements[d].snapping)if(n.options.snap.release)n.options.snap.release.call(n.element,e,_.extend(n._uiHash(),{snapItem:n.snapElements[d].item}));n.snapElements[d].snapping=false;continue}if(f.snapMode!=="inner"){i=Math.abs(c-y)<=h;o=Math.abs(u-v)<=h;r=Math.abs(s-m)<=h;a=Math.abs(l-g)<=h;if(i)t.position.top=n._convertPositionTo("relative",{top:c-n.helperProportions.height,left:0}).top;if(o)t.position.top=n._convertPositionTo("relative",{top:u,left:0}).top;if(r)t.position.left=n._convertPositionTo("relative",{top:0,left:s-n.helperProportions.width}).left;if(a)t.position.left=n._convertPositionTo("relative",{top:0,left:l}).left}p=i||o||r||a;if(f.snapMode!=="outer"){i=Math.abs(c-v)<=h;o=Math.abs(u-y)<=h;r=Math.abs(s-g)<=h;a=Math.abs(l-m)<=h;if(i)t.position.top=n._convertPositionTo("relative",{top:c,left:0}).top;if(o)t.position.top=n._convertPositionTo("relative",{top:u-n.helperProportions.height,left:0}).top;if(r)t.position.left=n._convertPositionTo("relative",{top:0,left:s}).left;if(a)t.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left}if(!n.snapElements[d].snapping&&(i||o||r||a||p))if(n.options.snap.snap)n.options.snap.snap.call(n.element,e,_.extend(n._uiHash(),{snapItem:n.snapElements[d].item}));n.snapElements[d].snapping=i||o||r||a||p}}}),_.ui.plugin.add("draggable","stack",{start:function(e,t,n){var i,o=n.options,r=_.makeArray(_(o.stack)).sort(function(e,t){return(parseInt(_(e).css("zIndex"),10)||0)-(parseInt(_(t).css("zIndex"),10)||0)});if(!r.length)return;i=parseInt(_(r[0]).css("zIndex"),10)||0;_(r).each(function(e){_(this).css("zIndex",i+e)});this.css("zIndex",i+r.length)}}),_.ui.plugin.add("draggable","zIndex",{start:function(e,t,n){var i=_(t.helper),o=n.options;if(i.css("zIndex"))o._zIndex=i.css("zIndex");i.css("zIndex",o.zIndex)},stop:function(e,t,n){var i=n.options;if(i._zIndex)_(t.helper).css("zIndex",i._zIndex)}}),_.ui.draggable})?i.apply(t,o):i)&&(e.exports=o)}()},function(e,t,n){var i,o;!function(){"use strict";o=[n(1),n(44)],void 0!==(o="function"==typeof(i=function(e){"use strict";return e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())})?i.apply(t,o):i)&&(e.exports=o)}()},function(e,t,n){var i,o;!function(){"use strict";o=[n(1),n(44)],void 0!==(o="function"==typeof(i=function(i){"use strict";return i.extend(i.expr.pseudos,{data:i.expr.createPseudo?i.expr.createPseudo(function(t){return function(e){return!!i.data(e,t)}}):function(e,t,n){return!!i.data(e,n[3])}})})?i.apply(t,o):i)&&(e.exports=o)}()},function(e,t,n){var i,o;!function(){"use strict";o=[n(1),n(44)],void 0!==(o="function"==typeof(i=function(e){"use strict";return e.ui.safeActiveElement=function(t){var n;try{n=t.activeElement}catch(e){n=t.body}if(!n)n=t.body;if(!n.nodeName)n=t.body;return n}})?i.apply(t,o):i)&&(e.exports=o)}()},function(e,t,n){var i,o;!function(){"use strict";o=[n(1),n(44)],void 0!==(o="function"==typeof(i=function(t){"use strict";return t.ui.safeBlur=function(e){if(e&&e.nodeName.toLowerCase()!=="body")t(e).trigger("blur")}})?i.apply(t,o):i)&&(e.exports=o)}()},function(e,t,n){var i,o;!function(){"use strict";o=[n(1),n(44)],void 0!==(o="function"==typeof(i=function(r){"use strict";return r.fn.scrollParent=function(e){var t=this.css("position"),n=t==="absolute",i=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=r(this);if(n&&e.css("position")==="static")return false;return i.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return t==="fixed"||!o.length?r(this[0].ownerDocument||document):o}})?i.apply(t,o):i)&&(e.exports=o)}()},function(e,t,n){var i,o;!function(){"use strict";o=[n(1),n(126),n(159),n(127),n(44),n(94)],void 0!==(o="function"==typeof(i=function(y){"use strict";return y.widget("ui.resizable",y.ui.mouse,{version:"1.13.0",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(e,t){if(y(e).css("overflow")==="hidden")return false;var n=t&&t==="left"?"scrollLeft":"scrollTop",i=false;if(e[n]>0)return true;try{e[n]=1;i=e[n]>0;e[n]=0}catch(e){}return i},_create:function(){var e,t=this.options,n=this;this._addClass("ui-resizable");y.extend(this,{_aspectRatio:!!t.aspectRatio,aspectRatio:t.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:t.helper||t.ghost||t.animate?t.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)){this.element.wrap(y("<div class='ui-wrapper'></div>").css({overflow:"hidden",position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance"));this.elementIsWrapper=true;e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")};this.element.css(e);this.originalElement.css("margin",0);this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css(e);this._proportionallyResize()}this._setupHandles();if(t.autoHide)y(this.element).on("mouseenter",function(){if(t.disabled)return;n._removeClass("ui-resizable-autohide");n._handles.show()}).on("mouseleave",function(){if(t.disabled)return;if(!n.resizing){n._addClass("ui-resizable-autohide");n._handles.hide()}});this._mouseInit()},_destroy:function(){this._mouseDestroy();this._addedHandles.remove();var e,t=function(e){y(e).removeData("resizable").removeData("ui-resizable").off(".resizable")};if(this.elementIsWrapper){t(this.element);e=this.element;this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e);e.remove()}this.originalElement.css("resize",this.originalResizeStyle);t(this.originalElement);return this},_setOption:function(e,t){this._super(e,t);switch(e){case"handles":this._removeHandles();this._setupHandles();break;case"aspectRatio":this._aspectRatio=!!t;break;default:break}},_setupHandles:function(){var e=this.options,t,n,i,o,r,a=this;this.handles=e.handles||(!y(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});this._handles=y();this._addedHandles=y();if(this.handles.constructor===String){if(this.handles==="all")this.handles="n,e,s,w,se,sw,ne,nw";i=this.handles.split(",");this.handles={};for(n=0;n<i.length;n++){t=String.prototype.trim.call(i[n]);o="ui-resizable-"+t;r=y("<div>");this._addClass(r,"ui-resizable-handle "+o);r.css({zIndex:e.zIndex});this.handles[t]=".ui-resizable-"+t;if(!this.element.children(this.handles[t]).length){this.element.append(r);this._addedHandles=this._addedHandles.add(r)}}}this._renderAxis=function(e){var t,n,i,o;e=e||this.element;for(t in this.handles){if(this.handles[t].constructor===String)this.handles[t]=this.element.children(this.handles[t]).first().show();else if(this.handles[t].jquery||this.handles[t].nodeType){this.handles[t]=y(this.handles[t]);this._on(this.handles[t],{mousedown:a._mouseDown})}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)){n=y(this.handles[t],this.element);o=/sw|ne|nw|se|n|s/.test(t)?n.outerHeight():n.outerWidth();i=["padding",/ne|nw|n/.test(t)?"Top":/se|sw|s/.test(t)?"Bottom":/^e$/.test(t)?"Right":"Left"].join("");e.css(i,o);this._proportionallyResize()}this._handles=this._handles.add(this.handles[t])}};this._renderAxis(this.element);this._handles=this._handles.add(this.element.find(".ui-resizable-handle"));this._handles.disableSelection();this._handles.on("mouseover",function(){if(!a.resizing){if(this.className)r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);a.axis=r&&r[1]?r[1]:"se"}});if(e.autoHide){this._handles.hide();this._addClass("ui-resizable-autohide")}},_removeHandles:function(){this._addedHandles.remove()},_mouseCapture:function(e){var t,n,i=false;for(t in this.handles){n=y(this.handles[t])[0];if(n===e.target||y.contains(n,e.target))i=true}return!this.options.disabled&&i},_mouseStart:function(e){var t,n,i,o=this.options,r=this.element;this.resizing=true;this._renderProxy();t=this._num(this.helper.css("left"));n=this._num(this.helper.css("top"));if(o.containment){t+=y(o.containment).scrollLeft()||0;n+=y(o.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:t,top:n};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:r.width(),height:r.height()};this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()};this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()};this.originalPosition={left:t,top:n};this.originalMousePosition={left:e.pageX,top:e.pageY};this.aspectRatio=typeof o.aspectRatio==="number"?o.aspectRatio:this.originalSize.width/this.originalSize.height||1;i=y(".ui-resizable-"+this.axis).css("cursor");y("body").css("cursor",i==="auto"?this.axis+"-resize":i);this._addClass("ui-resizable-resizing");this._propagate("start",e);return true},_mouseDrag:function(e){var t,n,i=this.originalMousePosition,o=this.axis,r=e.pageX-i.left||0,a=e.pageY-i.top||0,s=this._change[o];this._updatePrevProperties();if(!s)return false;t=s.apply(this,[e,r,a]);this._updateVirtualBoundaries(e.shiftKey);if(this._aspectRatio||e.shiftKey)t=this._updateRatio(t,e);t=this._respectSize(t,e);this._updateCache(t);this._propagate("resize",e);n=this._applyChanges();if(!this._helper&&this._proportionallyResizeElements.length)this._proportionallyResize();if(!y.isEmptyObject(n)){this._updatePrevProperties();this._trigger("resize",e,this.ui());this._applyChanges()}return false},_mouseStop:function(e){this.resizing=false;var t,n,i,o,r,a,s,l=this.options,c=this;if(this._helper){t=this._proportionallyResizeElements;n=t.length&&/textarea/i.test(t[0].nodeName);i=n&&this._hasScroll(t[0],"left")?0:c.sizeDiff.height;o=n?0:c.sizeDiff.width;r={width:c.helper.width()-o,height:c.helper.height()-i};a=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null;s=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null;if(!l.animate)this.element.css(y.extend(r,{top:s,left:a}));c.helper.height(c.size.height);c.helper.width(c.size.width);if(this._helper&&!l.animate)this._proportionallyResize()}y("body").css("cursor","auto");this._removeClass("ui-resizable-resizing");this._propagate("stop",e);if(this._helper)this.helper.remove();return false},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};if(this.position.top!==this.prevPosition.top)e.top=this.position.top+"px";if(this.position.left!==this.prevPosition.left)e.left=this.position.left+"px";if(this.size.width!==this.prevSize.width)e.width=this.size.width+"px";if(this.size.height!==this.prevSize.height)e.height=this.size.height+"px";this.helper.css(e);return e},_updateVirtualBoundaries:function(e){var t,n,i,o,r,a=this.options;r={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:Infinity,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:Infinity};if(this._aspectRatio||e){t=r.minHeight*this.aspectRatio;i=r.minWidth/this.aspectRatio;n=r.maxHeight*this.aspectRatio;o=r.maxWidth/this.aspectRatio;if(t>r.minWidth)r.minWidth=t;if(i>r.minHeight)r.minHeight=i;if(n<r.maxWidth)r.maxWidth=n;if(o<r.maxHeight)r.maxHeight=o}this._vBoundaries=r},_updateCache:function(e){this.offset=this.helper.offset();if(this._isNumber(e.left))this.position.left=e.left;if(this._isNumber(e.top))this.position.top=e.top;if(this._isNumber(e.height))this.size.height=e.height;if(this._isNumber(e.width))this.size.width=e.width},_updateRatio:function(e){var t=this.position,n=this.size,i=this.axis;if(this._isNumber(e.height))e.width=e.height*this.aspectRatio;else if(this._isNumber(e.width))e.height=e.width/this.aspectRatio;if(i==="sw"){e.left=t.left+(n.width-e.width);e.top=null}if(i==="nw"){e.top=t.top+(n.height-e.height);e.left=t.left+(n.width-e.width)}return e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,i=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,o=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,r=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,a=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,s=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,c=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);if(r)e.width=t.minWidth;if(a)e.height=t.minHeight;if(i)e.width=t.maxWidth;if(o)e.height=t.maxHeight;if(r&&c)e.left=s-t.minWidth;if(i&&c)e.left=s-t.maxWidth;if(a&&u)e.top=l-t.minHeight;if(o&&u)e.top=l-t.maxHeight;if(!e.width&&!e.height&&!e.left&&e.top)e.top=null;else if(!e.width&&!e.height&&!e.top&&e.left)e.left=null;return e},_getPaddingPlusBorderDimensions:function(e){var t=0,n=[],i=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],o=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];for(;t<4;t++){n[t]=parseFloat(i[t])||0;n[t]+=parseFloat(o[t])||0}return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length)return;var e,t=0,n=this.helper||this.element;for(;t<this._proportionallyResizeElements.length;t++){e=this._proportionallyResizeElements[t];if(!this.outerDimensions)this.outerDimensions=this._getPaddingPlusBorderDimensions(e);e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})}},_renderProxy:function(){var e=this.element,t=this.options;this.elementOffset=e.offset();if(this._helper){this.helper=this.helper||y("<div></div>").css({overflow:"hidden"});this._addClass(this.helper,this._helper);this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++t.zIndex});this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize,i=this.originalPosition;return{left:i.left+t,width:n.width-t}},n:function(e,t,n){var i=this.originalSize,o=this.originalPosition;return{top:o.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(e,t,n){return y.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,t,n]))},sw:function(e,t,n){return y.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,t,n]))},ne:function(e,t,n){return y.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,t,n]))},nw:function(e,t,n){return y.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,t,n]))}},_propagate:function(e,t){y.ui.plugin.call(this,e,[t,this.ui()]);if(e!=="resize")this._trigger(e,t,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),y.ui.plugin.add("resizable","animate",{stop:function(t){var n=y(this).resizable("instance"),e=n.options,i=n._proportionallyResizeElements,o=i.length&&/textarea/i.test(i[0].nodeName),r=o&&n._hasScroll(i[0],"left")?0:n.sizeDiff.height,a=o?0:n.sizeDiff.width,s={width:n.size.width-a,height:n.size.height-r},l=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,c=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(y.extend(s,c&&l?{top:c,left:l}:{}),{duration:e.animateDuration,easing:e.animateEasing,step:function(){var e={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};if(i&&i.length)y(i[0]).css({width:e.width,height:e.height});n._updateCache(e);n._propagate("resize",t)}})}}),y.ui.plugin.add("resizable","containment",{start:function(){var n,i,e,t,o,r,a,s=y(this).resizable("instance"),l=s.options,c=s.element,u=l.containment,d=u instanceof y?u.get(0):/parent/.test(u)?c.parent().get(0):u;if(!d)return;s.containerElement=y(d);if(/document/.test(u)||u===document){s.containerOffset={left:0,top:0};s.containerPosition={left:0,top:0};s.parentData={element:y(document),left:0,top:0,width:y(document).width(),height:y(document).height()||document.body.parentNode.scrollHeight}}else{n=y(d);i=[];y(["Top","Right","Left","Bottom"]).each(function(e,t){i[e]=s._num(n.css("padding"+t))});s.containerOffset=n.offset();s.containerPosition=n.position();s.containerSize={height:n.innerHeight()-i[3],width:n.innerWidth()-i[1]};e=s.containerOffset;t=s.containerSize.height;o=s.containerSize.width;r=s._hasScroll(d,"left")?d.scrollWidth:o;a=s._hasScroll(d)?d.scrollHeight:t;s.parentData={element:d,left:e.left,top:e.top,width:r,height:a}}},resize:function(e){var t,n,i,o,r=y(this).resizable("instance"),a=r.options,s=r.containerOffset,l=r.position,c=r._aspectRatio||e.shiftKey,u={top:0,left:0},d=r.containerElement,p=true;if(d[0]!==document&&/static/.test(d.css("position")))u=s;if(l.left<(r._helper?s.left:0)){r.size.width=r.size.width+(r._helper?r.position.left-s.left:r.position.left-u.left);if(c){r.size.height=r.size.width/r.aspectRatio;p=false}r.position.left=a.helper?s.left:0}if(l.top<(r._helper?s.top:0)){r.size.height=r.size.height+(r._helper?r.position.top-s.top:r.position.top);if(c){r.size.width=r.size.height*r.aspectRatio;p=false}r.position.top=r._helper?s.top:0}i=r.containerElement.get(0)===r.element.parent().get(0);o=/relative|absolute/.test(r.containerElement.css("position"));if(i&&o){r.offset.left=r.parentData.left+r.position.left;r.offset.top=r.parentData.top+r.position.top}else{r.offset.left=r.element.offset().left;r.offset.top=r.element.offset().top}t=Math.abs(r.sizeDiff.width+(r._helper?r.offset.left-u.left:r.offset.left-s.left));n=Math.abs(r.sizeDiff.height+(r._helper?r.offset.top-u.top:r.offset.top-s.top));if(t+r.size.width>=r.parentData.width){r.size.width=r.parentData.width-t;if(c){r.size.height=r.size.width/r.aspectRatio;p=false}}if(n+r.size.height>=r.parentData.height){r.size.height=r.parentData.height-n;if(c){r.size.width=r.size.height*r.aspectRatio;p=false}}if(!p){r.position.left=r.prevPosition.left;r.position.top=r.prevPosition.top;r.size.width=r.prevSize.width;r.size.height=r.prevSize.height}},stop:function(){var e=y(this).resizable("instance"),t=e.options,n=e.containerOffset,i=e.containerPosition,o=e.containerElement,r=y(e.helper),a=r.offset(),s=r.outerWidth()-e.sizeDiff.width,l=r.outerHeight()-e.sizeDiff.height;if(e._helper&&!t.animate&&/relative/.test(o.css("position")))y(this).css({left:a.left-i.left-n.left,width:s,height:l});if(e._helper&&!t.animate&&/static/.test(o.css("position")))y(this).css({left:a.left-i.left-n.left,width:s,height:l})}}),y.ui.plugin.add("resizable","alsoResize",{start:function(){var e=y(this).resizable("instance"),t=e.options;y(t.alsoResize).each(function(){var e=y(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,n){var t=y(this).resizable("instance"),i=t.options,o=t.originalSize,r=t.originalPosition,a={height:t.size.height-o.height||0,width:t.size.width-o.width||0,top:t.position.top-r.top||0,left:t.position.left-r.left||0};y(i.alsoResize).each(function(){var e=y(this),i=y(this).data("ui-resizable-alsoresize"),o={},t=e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];y.each(t,function(e,t){var n=(i[t]||0)+(a[t]||0);if(n&&n>=0)o[t]=n||null});e.css(o)})},stop:function(){y(this).removeData("ui-resizable-alsoresize")}}),y.ui.plugin.add("resizable","ghost",{start:function(){var e=y(this).resizable("instance"),t=e.size;e.ghost=e.originalElement.clone();e.ghost.css({opacity:.25,display:"block",position:"relative",height:t.height,width:t.width,margin:0,left:0,top:0});e._addClass(e.ghost,"ui-resizable-ghost");if(y.uiBackCompat!==false&&typeof e.options.ghost==="string")e.ghost.addClass(this.options.ghost);e.ghost.appendTo(e.helper)},resize:function(){var e=y(this).resizable("instance");if(e.ghost)e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=y(this).resizable("instance");if(e.ghost&&e.helper)e.helper.get(0).removeChild(e.ghost.get(0))}}),y.ui.plugin.add("resizable","grid",{resize:function(){var e,t=y(this).resizable("instance"),n=t.options,i=t.size,o=t.originalSize,r=t.originalPosition,a=t.axis,s=typeof n.grid==="number"?[n.grid,n.grid]:n.grid,l=s[0]||1,c=s[1]||1,u=Math.round((i.width-o.width)/l)*l,d=Math.round((i.height-o.height)/c)*c,p=o.width+u,f=o.height+d,h=n.maxWidth&&n.maxWidth<p,g=n.maxHeight&&n.maxHeight<f,m=n.minWidth&&n.minWidth>p,v=n.minHeight&&n.minHeight>f;n.grid=s;if(m)p+=l;if(v)f+=c;if(h)p-=l;if(g)f-=c;if(/^(se|s|e)$/.test(a)){t.size.width=p;t.size.height=f}else if(/^(ne)$/.test(a)){t.size.width=p;t.size.height=f;t.position.top=r.top-d}else if(/^(sw)$/.test(a)){t.size.width=p;t.size.height=f;t.position.left=r.left-u}else{if(f-c<=0||p-l<=0)e=t._getPaddingPlusBorderDimensions(this);if(f-c>0){t.size.height=f;t.position.top=r.top-d}else{f=c-e.height;t.size.height=f;t.position.top=r.top+o.height-f}if(p-l>0){t.size.width=p;t.position.left=r.left-u}else{p=l-e.width;t.size.width=p;t.position.left=r.left+o.width-p}}}}),y.ui.resizable})?i.apply(t,o):i)&&(e.exports=o)}()},function(e,t,n){var i,o;!function(){"use strict";o=[n(1),n(44)],void 0!==(o="function"==typeof(i=function(e){"use strict";return e.fn.extend({disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}})})?i.apply(t,o):i)&&(e.exports=o)}()},function(e,t,n){var i;n=[n(1)],void 0!==(t="function"==typeof(i=function(r){return r.widget("ui.rotatable",r.ui.mouse,{widgetEventPrefix:"rotate",options:{angle:false,degrees:false,handle:false,handleOffset:{top:0,left:0},radians:false,rotate:null,rotationCenterOffset:{top:0,left:0},snap:false,start:null,step:22.5,stop:null,transforms:null,wheelRotate:false},angle:function e(t){if(t===undefined)return this.options.angle;this.options.angle=t;this.elementCurrentAngle=t;this._performRotation(this.options.angle)},getElementCenter:function e(){this.elementCenter=this._calculateElementCenter();return this.elementCenter},handle:function e(t){if(t===undefined)return this.options.handle;this.options.handle=t},plugins:{},rotationCenterOffset:function e(t){if(t===undefined)return this.options.rotationCenterOffset;if(t.top!==null)this.options.rotationCenterOffset.top=t.top;if(t.left!==null)this.options.rotationCenterOffset.left=t.left},rotateElement:function e(t){if(!this.element||this.element.disabled||this.options.disabled)return false;if(!t.which){this.stopRotate(t);return false}var n=this._calculateRotateAngle(t);var i=this.elementCurrentAngle;this.elementCurrentAngle=n;this._propagate("rotate",t);if(this._propagate("rotate",t)===false){this.elementCurrentAngle=i;return false}var o=this.ui();if(this._trigger("rotate",t,o)===false){this.elementCurrentAngle=i;return false}else if(o.angle.current!==n){n=o.angle.current;this.elementCurrentAngle=n}this._performRotation(n);if(i!==n)this.hasRotated=true;return false},startRotate:function e(t){var n=this.getElementCenter();var i=t.pageX-n.x;var o=t.pageY-n.y;this.mouseStartAngle=Math.atan2(o,i);this.elementStartAngle=this.elementCurrentAngle;this.hasRotated=false;this._propagate("start",t);r(document).bind("mousemove",this.listeners.rotateElement);r(document).bind("mouseup",this.listeners.stopRotate);return false},stopRotate:function e(t){if(!this.element||this.element.disabled)return;r(document).unbind("mousemove",this.listeners.rotateElement);r(document).unbind("mouseup",this.listeners.stopRotate);this.elementStopAngle=this.elementCurrentAngle;this._propagate("stop",t);setTimeout(function(){this.element=false},10);return false},wheelRotate:function e(t){var n=this._angleInRadians(Math.round(t.originalEvent.deltaY/10));if(this.options.snap||t.shiftKey)n=this._calculateSnap(n);n=this.elementCurrentAngle+n;this.angle(n);this._trigger("rotate",t,this.ui())},ui:function e(){return{api:this,element:this.element,angle:{start:this.elementStartAngle,current:this.elementCurrentAngle,degrees:Math.abs(this._angleInDegrees(this.elementCurrentAngle)),stop:this.elementStopAngle}}},_angleInRadians:function e(t){return t*Math.PI/180},_angleInDegrees:function e(t){return t*180/Math.PI},_calculateElementCenter:function e(){var t=this._getElementOffset();if(this._isRotationCenterSet())return{x:t.left+this.rotationCenterOffset().left,y:t.top+this.rotationCenterOffset().top};if(this.element.css("transform-origin")!==undefined){var n=this.element.css("transform-origin").match(/([\d.]+)px +([\d.]+)px/);if(n!=null)return{x:t.left+parseFloat(n[1]),y:t.top+parseFloat(n[2])}}return{x:t.left+this.element.width()/2,y:t.top+this.element.height()/2}},_calculateSnap:function e(t){var n=this._angleInDegrees(t);n=Math.round(n/this.options.step)*this.options.step;return this._angleInRadians(n)},_calculateRotateAngle:function e(t){var n=this.getElementCenter();var i=t.pageX-n.x;var o=t.pageY-n.y;var r=Math.atan2(o,i);var a=r-this.mouseStartAngle+this.elementStartAngle;if(this.options.snap||t.shiftKey)a=this._calculateSnap(a);return a},_create:function e(){var t;if(!this.options.handle){t=r(document.createElement("div"));t.addClass("ui-rotatable-handle");if(this.options.handleOffset.top!==0||this.options.handleOffset.left!==0){t.css("position","relative");t.css("top",this.options.handleOffset.top+"px");t.css("left",this.options.handleOffset.left+"px")}}else t=this.options.handle;this.listeners={rotateElement:r.proxy(this.rotateElement,this),startRotate:r.proxy(this.startRotate,this),stopRotate:r.proxy(this.stopRotate,this),wheelRotate:r.proxy(this.wheelRotate,this)};if(this.options.wheelRotate)this.element.bind("wheel",this.listeners.wheelRotate);t.draggable({helper:"clone",start:this._dragStart,handle:t});t.bind("mousedown",this.listeners.startRotate);if(!t.closest(this.element).length)t.appendTo(this.element);this.rotationCenterOffset(this.options.rotationCenterOffset);if(this.options.degrees)this.elementCurrentAngle=this._angleInRadians(this.options.degrees);else this.elementCurrentAngle=this.options.radians||this.options.angle||0;this._performRotation(this.elementCurrentAngle)},_destroy:function e(){this.element.removeClass("ui-rotatable");this.element.find(".ui-rotatable-handle").remove();if(this.options.wheelRotate)this.element.unbind("wheel",this.listeners.wheelRotate)},_dragStart:function e(t){if(this.element)return false},_getElementOffset:function e(){this._performRotation(0);var t=this.element.offset();this._performRotation(this.elementCurrentAngle);return t},_getTransforms:function e(t){var n="rotate("+t+"rad)";if(this.options.transforms)n+=" "+function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)&&e[n])t.push(n+"("+e[n]+")");return t.join(" ")}(this.options.transforms);return n},_isRotationCenterSet:function e(){return this.options.rotationCenterOffset.top!==0||this.options.rotationCenterOffset.left!==0},_performRotation:function e(t){if(this._isRotationCenterSet()){this.element.css("transform-origin",this.options.rotationCenterOffset.left+"px "+this.options.rotationCenterOffset.top+"px");this.element.css("-ms-transform-origin",this.options.rotationCenterOffset.left+"px "+this.options.rotationCenterOffset.top+"px");this.element.css("-webkit-transform-origin",this.options.rotationCenterOffset.left+"px "+this.options.rotationCenterOffset+"px")}var n=this._getTransforms(t);this.element.css("transform",n);this.element.css("-moz-transform",n);this.element.css("-webkit-transform",n);this.element.css("-o-transform",n)},_propagate:function e(t,n){r.ui.plugin.call(this,t,[n,this.ui()]);t!=="rotate"&&this._trigger(t,n,this.ui())}}),r.ui.rotatable})?i.apply(t,n):i)&&(e.exports=t)},function(e,t,n){var i,o;!function(){"use strict";o=[n(1)],void 0!==(o="function"==typeof(i=function(Ne,Be){"use strict";var i={beforeShow:e,move:e,change:e,show:e,hide:e,color:false,flat:false,showInput:false,allowEmpty:false,showButtons:true,clickoutFiresChange:true,showInitial:false,showPalette:false,showPaletteOnly:false,hideAfterPaletteSelect:false,togglePaletteOnly:false,showSelectionPalette:true,localStorageKey:false,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:false,className:"",containerClassName:"",replacerClassName:"",showAlpha:false,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:false,offset:null},ze=[],Ue=!!/msie/i.exec(window.navigator.userAgent),He=function(){function e(e,t){return!!~(""+e).indexOf(t)}var t=document.createElement("div");var n=t.style;n.cssText="background-color:rgba(0,0,0,.5)";return e(n.backgroundColor,"rgba")||e(n.backgroundColor,"hsla")}(),qe=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),We=function(){var e="";if(Ue)for(var t=1;t<=6;t++)e+="<div class='sp-"+t+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",e,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function Ve(e,t,n,i){var o=[];for(var r=0;r<e.length;r++){var a=e[r];if(a){var s=tinycolor(a);var l=s.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";l+=tinycolor.equals(t,a)?" sp-thumb-active":"";var c=s.toString(i.preferredFormat||"rgb");var u=He?"background-color:"+s.toRgbString():"filter:"+s.toFilter();o.push('<span title="'+c+'" data-color="'+s.toRgbString()+'" class="'+l+'"><span class="sp-thumb-inner" style="'+u+';"></span></span>')}else{var d="sp-clear-display";o.push(Ne("<div />").append(Ne('<span data-color="" style="background-color:transparent;" class="'+d+'"></span>').attr("title",i.noColorSelectedText)).html())}}return"<div class='sp-cf "+n+"'>"+o.join("")+"</div>"}function Ge(){for(var e=0;e<ze.length;e++)if(ze[e])ze[e].hide()}function Ye(e,t){var n=Ne.extend({},i,e);n.callbacks={move:o(n.move,t),change:o(n.change,t),show:o(n.show,t),hide:o(n.hide,t),beforeShow:o(n.beforeShow,t)};return n}function r(e,F){var c=Ye(F,e),i=c.flat,N=c.showSelectionPalette,n=c.localStorageKey,B=c.theme,o=c.callbacks,z=$e(D,10),t=false,U=false,l=0,u=0,a=0,s=0,H=0,q=0,W=0,V=0,d=0,p=0,f=0,h=1,G=[],r=[],Y={},g=c.selectionPalette.slice(0),X=c.maxSelectionSize,Z="sp-dragging",m=null;var v=e.ownerDocument,K=v.body,y=Ne(e),Q=false,_=Ne(We,v).addClass(B),$=_.find(".sp-picker-container"),J=_.find(".sp-color"),ee=_.find(".sp-dragger"),te=_.find(".sp-hue"),ne=_.find(".sp-slider"),b=_.find(".sp-alpha-inner"),ie=_.find(".sp-alpha"),oe=_.find(".sp-alpha-handle"),w=_.find(".sp-input"),re=_.find(".sp-palette"),ae=_.find(".sp-initial"),se=_.find(".sp-cancel"),le=_.find(".sp-clear"),ce=_.find(".sp-choose"),ue=_.find(".sp-palette-toggle"),de=y.is("input"),pe=de&&y.attr("type")==="color"&&Ke(),fe=de&&!i,x=fe?Ne(qe).addClass(B).addClass(c.className).addClass(c.replacerClassName):Ne([]),E=fe?x:y,S=x.find(".sp-preview-inner"),k=c.color||de&&y.val(),O=false,T=c.preferredFormat,he=!c.showButtons||c.clickoutFiresChange,C=!k,P=c.allowEmpty&&!pe;function ge(){if(c.showPaletteOnly)c.showPalette=true;ue.text(c.showPaletteOnly?c.togglePaletteMoreText:c.togglePaletteLessText);if(c.palette){G=c.palette.slice(0);r=Ne.isArray(G[0])?G:[G];Y={};for(var e=0;e<r.length;e++)for(var t=0;t<r[e].length;t++){var n=tinycolor(r[e][t]).toRgbString();Y[n]=true}}_.toggleClass("sp-flat",i);_.toggleClass("sp-input-disabled",!c.showInput);_.toggleClass("sp-alpha-enabled",c.showAlpha);_.toggleClass("sp-clear-enabled",P);_.toggleClass("sp-buttons-disabled",!c.showButtons);_.toggleClass("sp-palette-buttons-disabled",!c.togglePaletteOnly);_.toggleClass("sp-palette-disabled",!c.showPalette);_.toggleClass("sp-palette-only",c.showPaletteOnly);_.toggleClass("sp-initial-disabled",!c.showInitial);_.addClass(c.className).addClass(c.containerClassName);D()}function me(){if(Ue)_.find("*:not(input)").attr("unselectable","on");ge();if(fe)y.after(x).hide();if(!P)le.hide();if(i)y.after(_).hide();else{var e=c.appendTo==="parent"?y.parent():Ne(c.appendTo);if(e.length!==1)e=Ne("body");e.append(_)}ve();E.on("click.spectrum touchstart.spectrum",function(e){if(!Q)ke();e.stopPropagation();if(!Ne(e.target).is("input"))e.preventDefault()});if(y.is(":disabled")||c.disabled===true)Re();_.click(Qe);w.change(Se);w.on("paste",function(){setTimeout(Se,1)});w.keydown(function(e){if(e.keyCode==13)Se()});se.text(c.cancelText);se.on("click.spectrum",function(e){e.stopPropagation();e.preventDefault();Pe();A()});le.attr("title",c.clearText);le.on("click.spectrum",function(e){e.stopPropagation();e.preventDefault();C=true;M();if(i)R(true)});ce.text(c.chooseText);ce.on("click.spectrum",function(e){e.stopPropagation();e.preventDefault();if(Ue&&w.is(":focus"))w.trigger("change");if(Ae()){R(true);A()}});ue.text(c.showPaletteOnly?c.togglePaletteMoreText:c.togglePaletteLessText);ue.on("click.spectrum",function(e){e.stopPropagation();e.preventDefault();c.showPaletteOnly=!c.showPaletteOnly;if(!c.showPaletteOnly&&!i)_.css("left","-="+($.outerWidth(true)+5));ge()});Ze(ie,function(e,t,n){h=e/q;C=false;if(n.shiftKey)h=Math.round(h*10)/10;M()},xe,Ee);Ze(te,function(e,t){d=parseFloat(t/s);C=false;if(!c.showAlpha)h=1;M()},xe,Ee);Ze(J,function(e,t,n){if(!n.shiftKey)m=null;else if(!m){var i=p*l;var o=u-f*u;var r=Math.abs(e-i)>Math.abs(t-o);m=r?"x":"y"}var a=!m||m==="x";var s=!m||m==="y";if(a)p=parseFloat(e/l);if(s)f=parseFloat((u-t)/u);C=false;if(!c.showAlpha)h=1;M()},xe,Ee);if(!!k){L(k);j();T=c.preferredFormat||tinycolor(k).format;ye(k)}else j();if(i)Oe();function t(e){if(e.data&&e.data.ignore){L(Ne(e.target).closest(".sp-thumb-el").data("color"));M()}else{L(Ne(e.target).closest(".sp-thumb-el").data("color"));M();if(c.hideAfterPaletteSelect){R(true);A()}else R()}return false}var n=Ue?"mousedown.spectrum":"click.spectrum touchstart.spectrum";re.on(n,".sp-thumb-el",t);ae.on(n,".sp-thumb-el:nth-child(1)",{ignore:true},t)}function ve(){if(n&&window.localStorage){try{var e=window.localStorage[n].split(",#");if(e.length>1){delete window.localStorage[n];Ne.each(e,function(e,t){ye(t)})}}catch(e){}try{g=window.localStorage[n].split(";")}catch(e){}}}function ye(e){if(N){var t=tinycolor(e).toRgbString();if(!Y[t]&&Ne.inArray(t,g)===-1){g.push(t);while(g.length>X)g.shift()}if(n&&window.localStorage)try{window.localStorage[n]=g.join(";")}catch(e){}}}function _e(){var e=[];if(c.showPalette)for(var t=0;t<g.length;t++){var n=tinycolor(g[t]).toRgbString();if(!Y[n])e.push(g[t])}return e.reverse().slice(0,c.maxSelectionSize)}function be(){var n=I();var e=Ne.map(r,function(e,t){return Ve(e,n,"sp-palette-row sp-palette-row-"+t,c)});ve();if(g)e.push(Ve(_e(),n,"sp-palette-row sp-palette-row-selection",c));re.html(e.join(""))}function we(){if(c.showInitial){var e=O;var t=I();ae.html(Ve([e,t],t,"sp-palette-row-initial",c))}}function xe(){if(u<=0||l<=0||s<=0)D();U=true;_.addClass(Z);m=null;y.trigger("dragstart.spectrum",[I()])}function Ee(){U=false;_.removeClass(Z);y.trigger("dragstop.spectrum",[I()])}function Se(){var e=w.val();if((e===null||e==="")&&P){L(null);M();R()}else{var t=tinycolor(e);if(t.isValid()){L(t);M();R()}else w.addClass("sp-validation-error")}}function ke(){if(t)A();else Oe()}function Oe(){var e=Ne.Event("beforeShow.spectrum");if(t){D();return}y.trigger(e,[I()]);if(o.beforeShow(I())===false||e.isDefaultPrevented())return;Ge();t=true;Ne(v).on("keydown.spectrum",Te);Ne(v).on("click.spectrum",Ce);Ne(window).on("resize.spectrum",z);x.addClass("sp-active");_.removeClass("sp-hidden");D();j();O=I();we();o.show(O);y.trigger("show.spectrum",[O])}function Te(e){if(e.keyCode===27)A()}function Ce(e){if(e.button==2)return;if(U)return;if(he)R(true);else Pe();A()}function A(){if(!t||i)return;t=false;Ne(v).off("keydown.spectrum",Te);Ne(v).off("click.spectrum",Ce);Ne(window).off("resize.spectrum",z);x.removeClass("sp-active");_.addClass("sp-hidden");o.hide(I());y.trigger("hide.spectrum",[I()])}function Pe(){L(O,true);R(true)}function L(e,t){if(tinycolor.equals(e,I())){j();return}var n,i;if(!e&&P)C=true;else{C=false;n=tinycolor(e);i=n.toHsv();d=i.h%360/360;p=i.s;f=i.v;h=i.a}j();if(n&&n.isValid()&&!t)T=c.preferredFormat||n.getFormat()}function I(e){e=e||{};if(P&&C)return null;return tinycolor.fromRatio({h:d,s:p,v:f,a:Math.round(h*1e3)/1e3},{format:e.format||T})}function Ae(){return!w.hasClass("sp-validation-error")}function M(){j();o.move(I());y.trigger("move.spectrum",[I()])}function j(){w.removeClass("sp-validation-error");Le();var e=tinycolor.fromRatio({h:d,s:1,v:1});J.css("background-color",e.toHexString());var t=T;if(h<1&&!(h===0&&t==="name"))if(t==="hex"||t==="hex3"||t==="hex6"||t==="name")t="rgb";var n=I({format:t}),i="";S.removeClass("sp-clear-display");S.css("background-color","transparent");if(!n&&P)S.addClass("sp-clear-display");else{var o=n.toHexString(),r=n.toRgbString();if(He||n.alpha===1)S.css("background-color",r);else{S.css("background-color","transparent");S.css("filter",n.toFilter())}if(c.showAlpha){var a=n.toRgb();a.a=0;var s=tinycolor(a).toRgbString();var l="linear-gradient(left, "+s+", "+o+")";if(Ue)b.css("filter",tinycolor(s).toFilter({gradientType:1},o));else{b.css("background","-webkit-"+l);b.css("background","-moz-"+l);b.css("background","-ms-"+l);b.css("background","linear-gradient(to right, "+s+", "+o+")")}}i=n.toString(t)}if(c.showInput)w.val(i);if(c.showPalette)be();we()}function Le(){var e=p;var t=f;if(P&&C){oe.hide();ne.hide();ee.hide()}else{oe.show();ne.show();ee.show();var n=e*l;var i=u-t*u;n=Math.max(-a,Math.min(l-a,n-a));i=Math.max(-a,Math.min(u-a,i-a));ee.css({top:i+"px",left:n+"px"});var o=h*q;oe.css({left:o-W/2+"px"});var r=d*s;ne.css({top:r-V+"px"})}}function R(e){var t=I(),n="",i=!tinycolor.equals(t,O);if(t){n=t.toString(T);ye(t)}if(de)y.val(n);if(e&&i){o.change(t);y.trigger("change",[t])}}function D(){if(!t)return;l=J.width();u=J.height();a=ee.height();H=te.width();s=te.height();V=ne.height();q=ie.width();W=oe.width();if(!i){_.css("position","absolute");if(c.offset)_.offset(c.offset);else _.offset(Xe(_,E))}Le();if(c.showPalette)be();y.trigger("reflow.spectrum")}function Ie(){y.show();E.off("click.spectrum touchstart.spectrum");_.remove();x.remove();ze[Fe.id]=null}function Me(e,t){if(e===Be)return Ne.extend({},c);if(t===Be)return c[e];c[e]=t;if(e==="preferredFormat")T=c.preferredFormat;ge()}function je(){Q=false;y.attr("disabled",false);E.removeClass("sp-disabled")}function Re(){A();Q=true;y.attr("disabled",true);E.addClass("sp-disabled")}function De(e){c.offset=e;D()}me();var Fe={show:Oe,hide:A,toggle:ke,reflow:D,option:Me,enable:je,disable:Re,offset:De,set:function(e){L(e);R()},get:I,destroy:Ie,container:_};Fe.id=ze.push(Fe)-1;return Fe}function Xe(e,t){var n=0;var i=e.outerWidth();var o=e.outerHeight();var r=t.outerHeight();var a=e[0].ownerDocument;var s=a.documentElement;var l=s.clientWidth+Ne(a).scrollLeft();var c=s.clientHeight+Ne(a).scrollTop();var u=t.offset();var d=u.left;var p=u.top;p+=r;d-=Math.min(d,d+i>l&&l>i?Math.abs(d+i-l):0);p-=Math.min(p,p+o>c&&c>o?Math.abs(o+r-n):n);return{top:p,bottom:u.bottom,left:d,right:u.right,width:u.width,height:u.height}}function e(){}function Qe(e){e.stopPropagation()}function o(e,t){var n=Array.prototype.slice;var i=n.call(arguments,2);return function(){return e.apply(t,i.concat(n.call(arguments)))}}function Ze(a,s,n,e){s=s||function(){};n=n||function(){};e=e||function(){};var l=document;var c=false;var u={};var d=0;var p=0;var f="ontouchstart"in window;var i={};i["selectstart"]=h;i["dragstart"]=h;i["touchmove mousemove"]=o;i["touchend mouseup"]=g;function h(e){if(e.stopPropagation)e.stopPropagation();if(e.preventDefault)e.preventDefault();e.returnValue=false}function o(e){if(c){if(Ue&&l.documentMode<9&&!e.button)return g();var t=e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches[0];var n=t&&t.pageX||e.pageX;var i=t&&t.pageY||e.pageY;var o=Math.max(0,Math.min(n-u.left,p));var r=Math.max(0,Math.min(i-u.top,d));if(f)h(e);s.apply(a,[o,r,e])}}function t(e){var t=e.which?e.which==3:e.button==2;if(!t&&!c)if(n.apply(a,arguments)!==false){c=true;d=Ne(a).height();p=Ne(a).width();u=Ne(a).offset();Ne(l).on(i);Ne(l.body).addClass("sp-dragging");o(e);h(e)}}function g(){if(c){Ne(l).off(i);Ne(l.body).removeClass("sp-dragging");setTimeout(function(){e.apply(a,arguments)},0)}c=false}Ne(a).on("touchstart mousedown",t)}function $e(i,o,r){var a;return function(){var e=this,t=arguments;var n=function(){a=null;i.apply(e,t)};if(r)clearTimeout(a);if(r||!a)a=setTimeout(n,o)}}function Ke(){return Ne.fn.spectrum.inputTypeColorSupport()}var a="spectrum.id",E=(Ne.fn.spectrum=function(n,e){if(typeof n=="string"){var i=this;var o=Array.prototype.slice.call(arguments,1);this.each(function(){var e=ze[Ne(this).data(a)];if(e){var t=e[n];if(!t)throw new Error("Spectrum: no such method: '"+n+"'");if(n=="get")i=e.get();else if(n=="container")i=e.container;else if(n=="option")i=e.option.apply(e,o);else if(n=="destroy"){e.destroy();Ne(this).removeData(a)}else t.apply(e,o)}});return i}return this.spectrum("destroy").each(function(){var e=Ne.extend({},Ne(this).data(),n);var t=r(this,e);Ne(this).data(a,t.id)})},Ne.fn.spectrum.load=true,Ne.fn.spectrum.loadOpts={},Ne.fn.spectrum.draggable=Ze,Ne.fn.spectrum.defaults=i,Ne.fn.spectrum.inputTypeColorSupport=function e(){if(typeof e._cachedResult==="undefined"){var t=Ne("<input type='color'/>")[0];e._cachedResult=t.type==="color"&&t.value!==""}return e._cachedResult},Ne.spectrum={},Ne.spectrum.localization={},Ne.spectrum.palettes={},Ne.fn.spectrum.processNativeColorInputs=function(){var e=Ne("input[type=color]");if(e.length&&!Ke())e.spectrum({preferredFormat:"hex6"})},/^[\s,#]+/),S=/\s+$/,k=0,p=Math,s=p.round,c=p.min,u=p.max,t=p.random,d=function(e,t){e=e?e:"";t=t||{};if(e instanceof d)return e;if(!(this instanceof d))return new d(e,t);var n=O(e);this._originalInput=e;this._r=n.r;this._g=n.g;this._b=n.b;this._a=n.a;this._roundA=s(1e3*this._a)/1e3;this._format=t.format||n.format;this._gradientType=t.gradientType;if(this._r<1)this._r=s(this._r);if(this._g<1)this._g=s(this._g);if(this._b<1)this._b=s(this._b);this._ok=n.ok;this._tc_id=k++};function O(e){var t={r:0,g:0,b:0};var n=1;var i=false;var o=false;if(typeof e=="string")e=Z(e);if(typeof e=="object"){if(e.hasOwnProperty("r")&&e.hasOwnProperty("g")&&e.hasOwnProperty("b")){t=T(e.r,e.g,e.b);i=true;o=String(e.r).substr(-1)==="%"?"prgb":"rgb"}else if(e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("v")){e.s=w(e.s);e.v=w(e.v);t=P(e.h,e.s,e.v);i=true;o="hsv"}else if(e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("l")){e.s=w(e.s);e.l=w(e.l);t=C(e.h,e.s,e.l);i=true;o="hsl"}if(e.hasOwnProperty("a"))n=e.a}n=m(n);return{ok:i,format:e.format||o,r:c(255,u(t.r,0)),g:c(255,u(t.g,0)),b:c(255,u(t.b,0)),a:n}}function T(e,t,n){return{r:v(e,255)*255,g:v(t,255)*255,b:v(n,255)*255}}function l(e,t,n){e=v(e,255);t=v(t,255);n=v(n,255);var i=u(e,t,n),o=c(e,t,n);var r,a,s=(i+o)/2;if(i==o)r=a=0;else{var l=i-o;a=s>.5?l/(2-i-o):l/(i+o);switch(i){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4;break}r/=6}return{h:r,s:a,l:s}}function C(e,t,n){var i,o,r;e=v(e,360);t=v(t,100);n=v(n,100);function a(e,t,n){if(n<0)n+=1;if(n>1)n-=1;if(n<1/6)return e+(t-e)*6*n;if(n<1/2)return t;if(n<2/3)return e+(t-e)*(2/3-n)*6;return e}if(t===0)i=o=r=n;else{var s=n<.5?n*(1+t):n+t-n*t;var l=2*n-s;i=a(l,s,e+1/3);o=a(l,s,e);r=a(l,s,e-1/3)}return{r:i*255,g:o*255,b:r*255}}function f(e,t,n){e=v(e,255);t=v(t,255);n=v(n,255);var i=u(e,t,n),o=c(e,t,n);var r,a,s=i;var l=i-o;a=i===0?0:l/i;if(i==o)r=0;else{switch(i){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4;break}r/=6}return{h:r,s:a,v:s}}function P(e,t,n){e=v(e,360)*6;t=v(t,100);n=v(n,100);var i=p.floor(e),o=e-i,r=n*(1-t),a=n*(1-o*t),s=n*(1-(1-o)*t),l=i%6,c=[n,a,r,r,s,n][l],u=[s,n,n,a,r,r][l],d=[r,r,s,n,n,a][l];return{r:c*255,g:u*255,b:d*255}}function n(e,t,n,i){var o=[b(s(e).toString(16)),b(s(t).toString(16)),b(s(n).toString(16))];if(i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0);return o.join("")}function h(e,t,n,i){var o=[b(Y(i)),b(s(e).toString(16)),b(s(t).toString(16)),b(s(n).toString(16))];return o.join("")}function A(e,t){t=t===0?0:t||10;var n=d(e).toHsl();n.s-=t/100;n.s=y(n.s);return d(n)}function L(e,t){t=t===0?0:t||10;var n=d(e).toHsl();n.s+=t/100;n.s=y(n.s);return d(n)}function I(e){return d(e).desaturate(100)}function M(e,t){t=t===0?0:t||10;var n=d(e).toHsl();n.l+=t/100;n.l=y(n.l);return d(n)}function j(e,t){t=t===0?0:t||10;var n=d(e).toRgb();n.r=u(0,c(255,n.r-s(255*-(t/100))));n.g=u(0,c(255,n.g-s(255*-(t/100))));n.b=u(0,c(255,n.b-s(255*-(t/100))));return d(n)}function R(e,t){t=t===0?0:t||10;var n=d(e).toHsl();n.l-=t/100;n.l=y(n.l);return d(n)}function D(e,t){var n=d(e).toHsl();var i=(s(n.h)+t)%360;n.h=i<0?360+i:i;return d(n)}function F(e){var t=d(e).toHsl();t.h=(t.h+180)%360;return d(t)}function N(e){var t=d(e).toHsl();var n=t.h;return[d(e),d({h:(n+120)%360,s:t.s,l:t.l}),d({h:(n+240)%360,s:t.s,l:t.l})]}function B(e){var t=d(e).toHsl();var n=t.h;return[d(e),d({h:(n+90)%360,s:t.s,l:t.l}),d({h:(n+180)%360,s:t.s,l:t.l}),d({h:(n+270)%360,s:t.s,l:t.l})]}function z(e){var t=d(e).toHsl();var n=t.h;return[d(e),d({h:(n+72)%360,s:t.s,l:t.l}),d({h:(n+216)%360,s:t.s,l:t.l})]}function U(e,t,n){t=t||6;n=n||30;var i=d(e).toHsl();var o=360/n;var r=[d(e)];for(i.h=(i.h-(o*t>>1)+720)%360;--t;){i.h=(i.h+o)%360;r.push(d(i))}return r}function H(e,t){t=t||6;var n=d(e).toHsv();var i=n.h,o=n.s,r=n.v;var a=[];var s=1/t;while(t--){a.push(d({h:i,s:o,v:r}));r=(r+s)%1}return a}d.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},setAlpha:function(e){this._a=m(e);this._roundA=s(1e3*this._a)/1e3;return this},toHsv:function(){var e=f(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=f(this._r,this._g,this._b);var t=s(e.h*360),n=s(e.s*100),i=s(e.v*100);return this._a==1?"hsv("+t+", "+n+"%, "+i+"%)":"hsva("+t+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=l(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=l(this._r,this._g,this._b);var t=s(e.h*360),n=s(e.s*100),i=s(e.l*100);return this._a==1?"hsl("+t+", "+n+"%, "+i+"%)":"hsla("+t+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return n(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(){return h(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:s(this._r),g:s(this._g),b:s(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+s(this._r)+", "+s(this._g)+", "+s(this._b)+")":"rgba("+s(this._r)+", "+s(this._g)+", "+s(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:s(v(this._r,255)*100)+"%",g:s(v(this._g,255)*100)+"%",b:s(v(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+s(v(this._r,255)*100)+"%, "+s(v(this._g,255)*100)+"%, "+s(v(this._b,255)*100)+"%)":"rgba("+s(v(this._r,255)*100)+"%, "+s(v(this._g,255)*100)+"%, "+s(v(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){if(this._a===0)return"transparent";if(this._a<1)return false;return q[n(this._r,this._g,this._b,true)]||false},toFilter:function(e){var t="#"+h(this._r,this._g,this._b,this._a);var n=t;var i=this._gradientType?"GradientType = 1, ":"";if(e){var o=d(e);n=o.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=false;var i=this._a<1&&this._a>=0;var o=!t&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="name");if(o){if(e==="name"&&this._a===0)return this.toName();return this.toRgbString()}if(e==="rgb")n=this.toRgbString();if(e==="prgb")n=this.toPercentageRgbString();if(e==="hex"||e==="hex6")n=this.toHexString();if(e==="hex3")n=this.toHexString(true);if(e==="hex8")n=this.toHex8String();if(e==="name")n=this.toName();if(e==="hsl")n=this.toHslString();if(e==="hsv")n=this.toHsvString();return n||this.toHexString()},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));this._r=n._r;this._g=n._g;this._b=n._b;this.setAlpha(n._a);return this},lighten:function(){return this._applyModification(M,arguments)},brighten:function(){return this._applyModification(j,arguments)},darken:function(){return this._applyModification(R,arguments)},desaturate:function(){return this._applyModification(A,arguments)},saturate:function(){return this._applyModification(L,arguments)},greyscale:function(){return this._applyModification(I,arguments)},spin:function(){return this._applyModification(D,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(U,arguments)},complement:function(){return this._applyCombination(F,arguments)},monochromatic:function(){return this._applyCombination(H,arguments)},splitcomplement:function(){return this._applyCombination(z,arguments)},triad:function(){return this._applyCombination(N,arguments)},tetrad:function(){return this._applyCombination(B,arguments)}},d.fromRatio=function(e,t){if(typeof e=="object"){var n={};for(var i in e)if(e.hasOwnProperty(i))if(i==="a")n[i]=e[i];else n[i]=w(e[i]);e=n}return d(e,t)},d.equals=function(e,t){if(!e||!t)return false;return d(e).toRgbString()==d(t).toRgbString()},d.random=function(){return d.fromRatio({r:t(),g:t(),b:t()})},d.mix=function(e,t,n){n=n===0?0:n||50;var i=d(e).toRgb();var o=d(t).toRgb();var r=n/100;var a=r*2-1;var s=o.a-i.a;var l;if(a*s==-1)l=a;else l=(a+s)/(1+a*s);l=(l+1)/2;var c=1-l;var u={r:o.r*l+i.r*c,g:o.g*l+i.g*c,b:o.b*l+i.b*c,a:o.a*r+i.a*(1-r)};return d(u)},d.readability=function(e,t){var n=d(e);var i=d(t);var o=n.toRgb();var r=i.toRgb();var a=n.getBrightness();var s=i.getBrightness();var l=Math.max(o.r,r.r)-Math.min(o.r,r.r)+Math.max(o.g,r.g)-Math.min(o.g,r.g)+Math.max(o.b,r.b)-Math.min(o.b,r.b);return{brightness:Math.abs(a-s),color:l}},d.isReadable=function(e,t){var n=d.readability(e,t);return n.brightness>125&&n.color>500},d.mostReadable=function(e,t){var n=null;var i=0;var o=false;for(var r=0;r<t.length;r++){var a=d.readability(e,t[r]);var s=a.brightness>125&&a.color>500;var l=3*(a.brightness/125)+a.color/500;if(s&&!o||s&&o&&l>i||!s&&!o&&l>i){o=s;i=l;n=d(t[r])}}return n};var g=d.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},q=d.hexNames=W(g);function W(e){var t={};for(var n in e)if(e.hasOwnProperty(n))t[e[n]]=n;return t}function m(e){e=parseFloat(e);if(isNaN(e)||e<0||e>1)e=1;return e}function v(e,t){if(V(e))e="100%";var n=G(e);e=c(t,u(0,parseFloat(e)));if(n)e=parseInt(e*t,10)/100;if(p.abs(e-t)<1e-6)return 1;return e%t/parseFloat(t)}function y(e){return c(1,u(0,e))}function _(e){return parseInt(e,16)}function V(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function G(e){return typeof e==="string"&&e.indexOf("%")!=-1}function b(e){return e.length==1?"0"+e:""+e}function w(e){if(e<=1)e=e*100+"%";return e}function Y(e){return Math.round(parseFloat(e)*255).toString(16)}function X(e){return _(e)/255}var x=function(){var e="[-\\+]?\\d+%?";var t="[-\\+]?\\d*\\.\\d+%?";var n="(?:"+t+")|(?:"+e+")";var i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";var o="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+o),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+o),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+o),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Z(e){e=e.replace(E,"").replace(S,"").toLowerCase();var t=false;if(g[e]){e=g[e];t=true}else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;if(n=x.rgb.exec(e))return{r:n[1],g:n[2],b:n[3]};if(n=x.rgba.exec(e))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=x.hsl.exec(e))return{h:n[1],s:n[2],l:n[3]};if(n=x.hsla.exec(e))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=x.hsv.exec(e))return{h:n[1],s:n[2],v:n[3]};if(n=x.hsva.exec(e))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=x.hex8.exec(e))return{a:X(n[1]),r:_(n[2]),g:_(n[3]),b:_(n[4]),format:t?"name":"hex8"};if(n=x.hex6.exec(e))return{r:_(n[1]),g:_(n[2]),b:_(n[3]),format:t?"name":"hex"};if(n=x.hex3.exec(e))return{r:_(n[1]+""+n[1]),g:_(n[2]+""+n[2]),b:_(n[3]+""+n[3]),format:t?"name":"hex"};return false}window.tinycolor=d,Ne(function(){if(Ne.fn.spectrum.load)Ne.fn.spectrum.processNativeColorInputs()})})?i.apply(t,o):i)&&(e.exports=o)}()},function(e,t,n){e.exports=function(s,l){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}function t(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}function o(e,t,n){if(t in e)Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true});else e[t]=n;return e}function a(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};var i=Object.keys(n);if(typeof Object.getOwnPropertySymbols==="function")i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}));i.forEach(function(e){o(t,e,n[e])})}return t}s=s&&s.hasOwnProperty("default")?s["default"]:s,l=l&&l.hasOwnProperty("default")?l["default"]:l;var n="modal",r="4.2.1",c="bs.modal",u="."+c,e,d=s.fn[n],p=27,f={backdrop:true,keyboard:true,focus:true,show:true},h={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},g={HIDE:"hide"+u,HIDDEN:"hidden"+u,SHOW:"show"+u,SHOWN:"shown"+u,FOCUSIN:"focusin"+u,RESIZE:"resize"+u,CLICK_DISMISS:"click.dismiss"+u,KEYDOWN_DISMISS:"keydown.dismiss"+u,MOUSEUP_DISMISS:"mouseup.dismiss"+u,MOUSEDOWN_DISMISS:"mousedown.dismiss"+u,CLICK_DATA_API:"click"+u+".data-api"},m={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",SHOW:"show"},v={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top"},y=function(){function o(e,t){this._config=this._getConfig(t);this._element=e;this._dialog=e.querySelector(v.DIALOG);this._backdrop=null;this._isShown=false;this._isBodyOverflowing=false;this._ignoreBackdropClick=false;this._isTransitioning=false;this._scrollbarWidth=0}var e=o.prototype;e.toggle=function e(t){return this._isShown?this.hide():this.show(t)};e.show=function e(t){var n=this;if(this._isShown||this._isTransitioning)return;if(s(this._element).hasClass(m.FADE))this._isTransitioning=true;var i=s.Event(g.SHOW,{relatedTarget:t});s(this._element).trigger(i);if(this._isShown||i.isDefaultPrevented())return;this._isShown=true;this._checkScrollbar();this._setScrollbar();this._adjustDialog();this._setEscapeEvent();this._setResizeEvent();s(this._element).on(g.CLICK_DISMISS,v.DATA_DISMISS,function(e){return n.hide(e)});s(this._dialog).on(g.MOUSEDOWN_DISMISS,function(){s(n._element).one(g.MOUSEUP_DISMISS,function(e){if(s(e.target).is(n._element))n._ignoreBackdropClick=true})});this._showBackdrop(function(){return n._showElement(t)})};e.hide=function e(t){var n=this;if(t)t.preventDefault();if(!this._isShown||this._isTransitioning)return;var i=s.Event(g.HIDE);s(this._element).trigger(i);if(!this._isShown||i.isDefaultPrevented())return;this._isShown=false;var o=s(this._element).hasClass(m.FADE);if(o)this._isTransitioning=true;this._setEscapeEvent();this._setResizeEvent();s(document).off(g.FOCUSIN);s(this._element).removeClass(m.SHOW);s(this._element).off(g.CLICK_DISMISS);s(this._dialog).off(g.MOUSEDOWN_DISMISS);if(o){var r=l.getTransitionDurationFromElement(this._element);s(this._element).one(l.TRANSITION_END,function(e){return n._hideModal(e)}).emulateTransitionEnd(r)}else this._hideModal()};e.dispose=function e(){[window,this._element,this._dialog].forEach(function(e){return s(e).off(u)});s(document).off(g.FOCUSIN);s.removeData(this._element,c);this._config=null;this._element=null;this._dialog=null;this._backdrop=null;this._isShown=null;this._isBodyOverflowing=null;this._ignoreBackdropClick=null;this._isTransitioning=null;this._scrollbarWidth=null};e.handleUpdate=function e(){this._adjustDialog()};e._getConfig=function e(t){t=a({},f,t);l.typeCheckConfig(n,t,h);return t};e._showElement=function e(t){var n=this;var i=s(this._element).hasClass(m.FADE);if(!this._element.parentNode||this._element.parentNode.nodeType!==Node.ELEMENT_NODE)document.body.appendChild(this._element);this._element.style.display="block";this._element.removeAttribute("aria-hidden");this._element.setAttribute("aria-modal",true);this._element.scrollTop=0;if(i)l.reflow(this._element);s(this._element).addClass(m.SHOW);if(this._config.focus)this._enforceFocus();var o=s.Event(g.SHOWN,{relatedTarget:t});var r=function e(){if(n._config.focus)n._element.focus();n._isTransitioning=false;s(n._element).trigger(o)};if(i){var a=l.getTransitionDurationFromElement(this._dialog);s(this._dialog).one(l.TRANSITION_END,r).emulateTransitionEnd(a)}else r()};e._enforceFocus=function e(){var t=this;s(document).off(g.FOCUSIN).on(g.FOCUSIN,function(e){if(document!==e.target&&t._element!==e.target&&s(t._element).has(e.target).length===0)t._element.focus()})};e._setEscapeEvent=function e(){var t=this;if(this._isShown&&this._config.keyboard)s(this._element).on(g.KEYDOWN_DISMISS,function(e){if(e.which===p){e.preventDefault();t.hide()}});else if(!this._isShown)s(this._element).off(g.KEYDOWN_DISMISS)};e._setResizeEvent=function e(){var t=this;if(this._isShown)s(window).on(g.RESIZE,function(e){return t.handleUpdate(e)});else s(window).off(g.RESIZE)};e._hideModal=function e(){var t=this;this._element.style.display="none";this._element.setAttribute("aria-hidden",true);this._element.removeAttribute("aria-modal");this._isTransitioning=false;this._showBackdrop(function(){s(document.body).removeClass(m.OPEN);t._resetAdjustments();t._resetScrollbar();s(t._element).trigger(g.HIDDEN)})};e._removeBackdrop=function e(){if(this._backdrop){s(this._backdrop).remove();this._backdrop=null}};e._showBackdrop=function e(t){var n=this;var i=s(this._element).hasClass(m.FADE)?m.FADE:"";if(this._isShown&&this._config.backdrop){this._backdrop=document.createElement("div");this._backdrop.className=m.BACKDROP;if(i)this._backdrop.classList.add(i);s(this._backdrop).appendTo(document.body);s(this._element).on(g.CLICK_DISMISS,function(e){if(n._ignoreBackdropClick){n._ignoreBackdropClick=false;return}if(e.target!==e.currentTarget)return;if(n._config.backdrop==="static")n._element.focus();else n.hide()});if(i)l.reflow(this._backdrop);s(this._backdrop).addClass(m.SHOW);if(!t)return;if(!i){t();return}var o=l.getTransitionDurationFromElement(this._backdrop);s(this._backdrop).one(l.TRANSITION_END,t).emulateTransitionEnd(o)}else if(!this._isShown&&this._backdrop){s(this._backdrop).removeClass(m.SHOW);var r=function e(){n._removeBackdrop();if(t)t()};if(s(this._element).hasClass(m.FADE)){var a=l.getTransitionDurationFromElement(this._backdrop);s(this._backdrop).one(l.TRANSITION_END,r).emulateTransitionEnd(a)}else r()}else if(t)t()};e._adjustDialog=function e(){var t=this._element.scrollHeight>document.documentElement.clientHeight;if(!this._isBodyOverflowing&&t)this._element.style.paddingLeft=this._scrollbarWidth+"px";if(this._isBodyOverflowing&&!t)this._element.style.paddingRight=this._scrollbarWidth+"px"};e._resetAdjustments=function e(){this._element.style.paddingLeft="";this._element.style.paddingRight=""};e._checkScrollbar=function e(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=t.left+t.right<window.innerWidth;this._scrollbarWidth=this._getScrollbarWidth()};e._setScrollbar=function e(){var o=this;if(this._isBodyOverflowing){var t=[].slice.call(document.querySelectorAll(v.FIXED_CONTENT));var n=[].slice.call(document.querySelectorAll(v.STICKY_CONTENT));s(t).each(function(e,t){var n=t.style.paddingRight;var i=s(t).css("padding-right");s(t).data("padding-right",n).css("padding-right",parseFloat(i)+o._scrollbarWidth+"px")});s(n).each(function(e,t){var n=t.style.marginRight;var i=s(t).css("margin-right");s(t).data("margin-right",n).css("margin-right",parseFloat(i)-o._scrollbarWidth+"px")});var i=document.body.style.paddingRight;var r=s(document.body).css("padding-right");s(document.body).data("padding-right",i).css("padding-right",parseFloat(r)+this._scrollbarWidth+"px")}s(document.body).addClass(m.OPEN)};e._resetScrollbar=function e(){var t=[].slice.call(document.querySelectorAll(v.FIXED_CONTENT));s(t).each(function(e,t){var n=s(t).data("padding-right");s(t).removeData("padding-right");t.style.paddingRight=n?n:""});var n=[].slice.call(document.querySelectorAll(""+v.STICKY_CONTENT));s(n).each(function(e,t){var n=s(t).data("margin-right");if(typeof n!=="undefined")s(t).css("margin-right",n).removeData("margin-right")});var i=s(document.body).data("padding-right");s(document.body).removeData("padding-right");document.body.style.paddingRight=i?i:""};e._getScrollbarWidth=function e(){var t=document.createElement("div");t.className=m.SCROLLBAR_MEASURER;document.body.appendChild(t);var n=t.getBoundingClientRect().width-t.clientWidth;document.body.removeChild(t);return n};o._jQueryInterface=function e(n,i){return this.each(function(){var e=s(this).data(c);var t=a({},f,s(this).data(),typeof n==="object"&&n?n:{});if(!e){e=new o(this,t);s(this).data(c,e)}if(typeof n==="string"){if(typeof e[n]==="undefined")throw new TypeError('No method named "'+n+'"');e[n](i)}else if(t.show)e.show(i)})};t(o,null,[{key:"VERSION",get:function e(){return r}},{key:"Default",get:function e(){return f}}]);return o}();return s(document).on(g.CLICK_DATA_API,v.DATA_TOGGLE,function(e){var t=this;var n;var i=l.getSelectorFromElement(this);if(i)n=document.querySelector(i);var o=s(n).data(c)?"toggle":a({},s(n).data(),s(this).data());if(this.tagName==="A"||this.tagName==="AREA")e.preventDefault();var r=s(n).one(g.SHOW,function(e){if(e.isDefaultPrevented())return;r.one(g.HIDDEN,function(){if(s(t).is(":visible"))t.focus()})});y._jQueryInterface.call(s(n),o,this)}),s.fn[n]=y._jQueryInterface,s.fn[n].Constructor=y,s.fn[n].noConflict=function(){s.fn[n]=d;return y._jQueryInterface},y}(n(1),n(85))},function(e,t,n){e.exports=function(o,e){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}function n(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}function r(e,t,n){if(t in e)Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true});else e[t]=n;return e}function t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};var i=Object.keys(n);if(typeof Object.getOwnPropertySymbols==="function")i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}));i.forEach(function(e){r(t,e,n[e])})}return t}function a(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}o=o&&o.hasOwnProperty("default")?o["default"]:o,e=e&&e.hasOwnProperty("default")?e["default"]:e;var s="popover",l="4.2.1",c="bs.popover",u="."+c,d=o.fn[s],p="bs-popover",f=new RegExp("(^|\\s)"+p+"\\S+","g"),h=t({},e.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip">'+'<div class="arrow"></div>'+'<h3 class="popover-header"></h3>'+'<div class="popover-body"></div></div>'}),g=t({},e.DefaultType,{content:"(string|element|function)"}),m={FADE:"fade",SHOW:"show"},v={TITLE:".popover-header",CONTENT:".popover-body"},y={HIDE:"hide"+u,HIDDEN:"hidden"+u,SHOW:"show"+u,SHOWN:"shown"+u,INSERTED:"inserted"+u,CLICK:"click"+u,FOCUSIN:"focusin"+u,FOCUSOUT:"focusout"+u,MOUSEENTER:"mouseenter"+u,MOUSELEAVE:"mouseleave"+u},_=function(e){a(i,e);function i(){return e.apply(this,arguments)||this}var t=i.prototype;t.isWithContent=function e(){return this.getTitle()||this._getContent()};t.addAttachmentClass=function e(t){o(this.getTipElement()).addClass(p+"-"+t)};t.getTipElement=function e(){this.tip=this.tip||o(this.config.template)[0];return this.tip};t.setContent=function e(){var t=o(this.getTipElement());this.setElementContent(t.find(v.TITLE),this.getTitle());var n=this._getContent();if(typeof n==="function")n=n.call(this.element);this.setElementContent(t.find(v.CONTENT),n);t.removeClass(m.FADE+" "+m.SHOW)};t._getContent=function e(){return this.element.getAttribute("data-content")||this.config.content};t._cleanTipClass=function e(){var t=o(this.getTipElement());var n=t.attr("class").match(f);if(n!==null&&n.length>0)t.removeClass(n.join(""))};i._jQueryInterface=function e(n){return this.each(function(){var e=o(this).data(c);var t=typeof n==="object"?n:null;if(!e&&/dispose|hide/.test(n))return;if(!e){e=new i(this,t);o(this).data(c,e)}if(typeof n==="string"){if(typeof e[n]==="undefined")throw new TypeError('No method named "'+n+'"');e[n]()}})};n(i,null,[{key:"VERSION",get:function e(){return l}},{key:"Default",get:function e(){return h}},{key:"NAME",get:function e(){return s}},{key:"DATA_KEY",get:function e(){return c}},{key:"Event",get:function e(){return y}},{key:"EVENT_KEY",get:function e(){return u}},{key:"DefaultType",get:function e(){return g}}]);return i}(e);return o.fn[s]=_._jQueryInterface,o.fn[s].Constructor=_,o.fn[s].noConflict=function(){o.fn[s]=d;return _._jQueryInterface},_}(n(1),n(164))},function(e,t,n){e.exports=function(p,f,h){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}function t(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}function o(e,t,n){if(t in e)Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true});else e[t]=n;return e}function n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};var i=Object.keys(n);if(typeof Object.getOwnPropertySymbols==="function")i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}));i.forEach(function(e){o(t,e,n[e])})}return t}p=p&&p.hasOwnProperty("default")?p["default"]:p,f=f&&f.hasOwnProperty("default")?f["default"]:f,h=h&&h.hasOwnProperty("default")?h["default"]:h;var r="tooltip",a="4.2.1",s="bs.tooltip",l="."+s,e=p.fn[r],c="bs-tooltip",u=new RegExp("(^|\\s)"+c+"\\S+","g"),d={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"},g={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},m={animation:true,template:'<div class="tooltip" role="tooltip">'+'<div class="arrow"></div>'+'<div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,selector:false,placement:"top",offset:0,container:false,fallbackPlacement:"flip",boundary:"scrollParent"},v={SHOW:"show",OUT:"out"},y={HIDE:"hide"+l,HIDDEN:"hidden"+l,SHOW:"show"+l,SHOWN:"shown"+l,INSERTED:"inserted"+l,CLICK:"click"+l,FOCUSIN:"focusin"+l,FOCUSOUT:"focusout"+l,MOUSEENTER:"mouseenter"+l,MOUSELEAVE:"mouseleave"+l},_={FADE:"fade",SHOW:"show"},b={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner",ARROW:".arrow"},w={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"},x=function(){function i(e,t){if(typeof f==="undefined")throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");this._isEnabled=true;this._timeout=0;this._hoverState="";this._activeTrigger={};this._popper=null;this.element=e;this.config=this._getConfig(t);this.tip=null;this._setListeners()}var e=i.prototype;e.enable=function e(){this._isEnabled=true};e.disable=function e(){this._isEnabled=false};e.toggleEnabled=function e(){this._isEnabled=!this._isEnabled};e.toggle=function e(t){if(!this._isEnabled)return;if(t){var n=this.constructor.DATA_KEY;var i=p(t.currentTarget).data(n);if(!i){i=new this.constructor(t.currentTarget,this._getDelegateConfig());p(t.currentTarget).data(n,i)}i._activeTrigger.click=!i._activeTrigger.click;if(i._isWithActiveTrigger())i._enter(null,i);else i._leave(null,i)}else{if(p(this.getTipElement()).hasClass(_.SHOW)){this._leave(null,this);return}this._enter(null,this)}};e.dispose=function e(){clearTimeout(this._timeout);p.removeData(this.element,this.constructor.DATA_KEY);p(this.element).off(this.constructor.EVENT_KEY);p(this.element).closest(".modal").off("hide.bs.modal");if(this.tip)p(this.tip).remove();this._isEnabled=null;this._timeout=null;this._hoverState=null;this._activeTrigger=null;if(this._popper!==null)this._popper.destroy();this._popper=null;this.element=null;this.config=null;this.tip=null};e.show=function e(){var n=this;if(p(this.element).css("display")==="none")throw new Error("Please use show on visible elements");var t=p.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){p(this.element).trigger(t);var i=h.findShadowRoot(this.element);var o=p.contains(i!==null?i:this.element.ownerDocument.documentElement,this.element);if(t.isDefaultPrevented()||!o)return;var r=this.getTipElement();var a=h.getUID(this.constructor.NAME);r.setAttribute("id",a);this.element.setAttribute("aria-describedby",a);this.setContent();if(this.config.animation)p(r).addClass(_.FADE);var s=typeof this.config.placement==="function"?this.config.placement.call(this,r,this.element):this.config.placement;var l=this._getAttachment(s);this.addAttachmentClass(l);var c=this._getContainer();p(r).data(this.constructor.DATA_KEY,this);if(!p.contains(this.element.ownerDocument.documentElement,this.tip))p(r).appendTo(c);p(this.element).trigger(this.constructor.Event.INSERTED);this._popper=new f(this.element,r,{placement:l,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:b.ARROW},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function e(t){if(t.originalPlacement!==t.placement)n._handlePopperPlacementChange(t)},onUpdate:function e(t){return n._handlePopperPlacementChange(t)}});p(r).addClass(_.SHOW);if("ontouchstart"in document.documentElement)p(document.body).children().on("mouseover",null,p.noop);var u=function e(){if(n.config.animation)n._fixTransition();var t=n._hoverState;n._hoverState=null;p(n.element).trigger(n.constructor.Event.SHOWN);if(t===v.OUT)n._leave(null,n)};if(p(this.tip).hasClass(_.FADE)){var d=h.getTransitionDurationFromElement(this.tip);p(this.tip).one(h.TRANSITION_END,u).emulateTransitionEnd(d)}else u()}};e.hide=function e(t){var n=this;var i=this.getTipElement();var o=p.Event(this.constructor.Event.HIDE);var r=function e(){if(n._hoverState!==v.SHOW&&i.parentNode)i.parentNode.removeChild(i);n._cleanTipClass();n.element.removeAttribute("aria-describedby");p(n.element).trigger(n.constructor.Event.HIDDEN);if(n._popper!==null)n._popper.destroy();if(t)t()};p(this.element).trigger(o);if(o.isDefaultPrevented())return;p(i).removeClass(_.SHOW);if("ontouchstart"in document.documentElement)p(document.body).children().off("mouseover",null,p.noop);this._activeTrigger[w.CLICK]=false;this._activeTrigger[w.FOCUS]=false;this._activeTrigger[w.HOVER]=false;if(p(this.tip).hasClass(_.FADE)){var a=h.getTransitionDurationFromElement(i);p(i).one(h.TRANSITION_END,r).emulateTransitionEnd(a)}else r();this._hoverState=""};e.update=function e(){if(this._popper!==null)this._popper.scheduleUpdate()};e.isWithContent=function e(){return Boolean(this.getTitle())};e.addAttachmentClass=function e(t){p(this.getTipElement()).addClass(c+"-"+t)};e.getTipElement=function e(){this.tip=this.tip||p(this.config.template)[0];return this.tip};e.setContent=function e(){var t=this.getTipElement();this.setElementContent(p(t.querySelectorAll(b.TOOLTIP_INNER)),this.getTitle());p(t).removeClass(_.FADE+" "+_.SHOW)};e.setElementContent=function e(t,n){var i=this.config.html;if(typeof n==="object"&&(n.nodeType||n.jquery))if(i){if(!p(n).parent().is(t))t.empty().append(n)}else t.text(p(n).text());else t[i?"html":"text"](n)};e.getTitle=function e(){var t=this.element.getAttribute("data-original-title");if(!t)t=typeof this.config.title==="function"?this.config.title.call(this.element):this.config.title;return t};e._getContainer=function e(){if(this.config.container===false)return document.body;if(h.isElement(this.config.container))return p(this.config.container);return p(document).find(this.config.container)};e._getAttachment=function e(t){return g[t.toUpperCase()]};e._setListeners=function e(){var i=this;var t=this.config.trigger.split(" ");t.forEach(function(e){if(e==="click")p(i.element).on(i.constructor.Event.CLICK,i.config.selector,function(e){return i.toggle(e)});else if(e!==w.MANUAL){var t=e===w.HOVER?i.constructor.Event.MOUSEENTER:i.constructor.Event.FOCUSIN;var n=e===w.HOVER?i.constructor.Event.MOUSELEAVE:i.constructor.Event.FOCUSOUT;p(i.element).on(t,i.config.selector,function(e){return i._enter(e)}).on(n,i.config.selector,function(e){return i._leave(e)})}});p(this.element).closest(".modal").on("hide.bs.modal",function(){if(i.element)i.hide()});if(this.config.selector)this.config=n({},this.config,{trigger:"manual",selector:""});else this._fixTitle()};e._fixTitle=function e(){var t=typeof this.element.getAttribute("data-original-title");if(this.element.getAttribute("title")||t!=="string"){this.element.setAttribute("data-original-title",this.element.getAttribute("title")||"");this.element.setAttribute("title","")}};e._enter=function e(t,n){var i=this.constructor.DATA_KEY;n=n||p(t.currentTarget).data(i);if(!n){n=new this.constructor(t.currentTarget,this._getDelegateConfig());p(t.currentTarget).data(i,n)}if(t)n._activeTrigger[t.type==="focusin"?w.FOCUS:w.HOVER]=true;if(p(n.getTipElement()).hasClass(_.SHOW)||n._hoverState===v.SHOW){n._hoverState=v.SHOW;return}clearTimeout(n._timeout);n._hoverState=v.SHOW;if(!n.config.delay||!n.config.delay.show){n.show();return}n._timeout=setTimeout(function(){if(n._hoverState===v.SHOW)n.show()},n.config.delay.show)};e._leave=function e(t,n){var i=this.constructor.DATA_KEY;n=n||p(t.currentTarget).data(i);if(!n){n=new this.constructor(t.currentTarget,this._getDelegateConfig());p(t.currentTarget).data(i,n)}if(t)n._activeTrigger[t.type==="focusout"?w.FOCUS:w.HOVER]=false;if(n._isWithActiveTrigger())return;clearTimeout(n._timeout);n._hoverState=v.OUT;if(!n.config.delay||!n.config.delay.hide){n.hide();return}n._timeout=setTimeout(function(){if(n._hoverState===v.OUT)n.hide()},n.config.delay.hide)};e._isWithActiveTrigger=function e(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return true;return false};e._getConfig=function e(t){t=n({},this.constructor.Default,p(this.element).data(),typeof t==="object"&&t?t:{});if(typeof t.delay==="number")t.delay={show:t.delay,hide:t.delay};if(typeof t.title==="number")t.title=t.title.toString();if(typeof t.content==="number")t.content=t.content.toString();h.typeCheckConfig(r,t,this.constructor.DefaultType);return t};e._getDelegateConfig=function e(){var t={};if(this.config)for(var n in this.config)if(this.constructor.Default[n]!==this.config[n])t[n]=this.config[n];return t};e._cleanTipClass=function e(){var t=p(this.getTipElement());var n=t.attr("class").match(u);if(n!==null&&n.length)t.removeClass(n.join(""))};e._handlePopperPlacementChange=function e(t){var n=t.instance;this.tip=n.popper;this._cleanTipClass();this.addAttachmentClass(this._getAttachment(t.placement))};e._fixTransition=function e(){var t=this.getTipElement();var n=this.config.animation;if(t.getAttribute("x-placement")!==null)return;p(t).removeClass(_.FADE);this.config.animation=false;this.hide();this.show();this.config.animation=n};i._jQueryInterface=function e(n){return this.each(function(){var e=p(this).data(s);var t=typeof n==="object"&&n;if(!e&&/dispose|hide/.test(n))return;if(!e){e=new i(this,t);p(this).data(s,e)}if(typeof n==="string"){if(typeof e[n]==="undefined")throw new TypeError('No method named "'+n+'"');e[n]()}})};t(i,null,[{key:"VERSION",get:function e(){return a}},{key:"Default",get:function e(){return m}},{key:"NAME",get:function e(){return r}},{key:"DATA_KEY",get:function e(){return s}},{key:"Event",get:function e(){return y}},{key:"EVENT_KEY",get:function e(){return l}},{key:"DefaultType",get:function e(){return d}}]);return i}();return p.fn[r]=x._jQueryInterface,p.fn[r].Constructor=x,p.fn[r].noConflict=function(){p.fn[r]=e;return x._jQueryInterface},x}(n(1),n(96),n(85))},function(e,t,n){e.exports=function(u,d){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}function t(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}u=u&&u.hasOwnProperty("default")?u["default"]:u,d=d&&d.hasOwnProperty("default")?d["default"]:d;var e="tab",n="4.2.1",o="bs.tab",r="."+o,a,s=u.fn[e],p={HIDE:"hide"+r,HIDDEN:"hidden"+r,SHOW:"show"+r,SHOWN:"shown"+r,CLICK_DATA_API:"click"+r+".data-api"},f={DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active",DISABLED:"disabled",FADE:"fade",SHOW:"show"},h={DROPDOWN:".dropdown",NAV_LIST_GROUP:".nav, .list-group",ACTIVE:".active",ACTIVE_UL:"> li > .active",DATA_TOGGLE:'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',DROPDOWN_TOGGLE:".dropdown-toggle",DROPDOWN_ACTIVE_CHILD:"> .dropdown-menu .active"},l=function(){function i(e){this._element=e}var e=i.prototype;e.show=function e(){var i=this;if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&u(this._element).hasClass(f.ACTIVE)||u(this._element).hasClass(f.DISABLED))return;var t;var o;var n=u(this._element).closest(h.NAV_LIST_GROUP)[0];var r=d.getSelectorFromElement(this._element);if(n){var a=n.nodeName==="UL"||n.nodeName==="OL"?h.ACTIVE_UL:h.ACTIVE;o=u.makeArray(u(n).find(a));o=o[o.length-1]}var s=u.Event(p.HIDE,{relatedTarget:this._element});var l=u.Event(p.SHOW,{relatedTarget:o});if(o)u(o).trigger(s);u(this._element).trigger(l);if(l.isDefaultPrevented()||s.isDefaultPrevented())return;if(r)t=document.querySelector(r);this._activate(this._element,n);var c=function e(){var t=u.Event(p.HIDDEN,{relatedTarget:i._element});var n=u.Event(p.SHOWN,{relatedTarget:o});u(o).trigger(t);u(i._element).trigger(n)};if(t)this._activate(t,t.parentNode,c);else c()};e.dispose=function e(){u.removeData(this._element,o);this._element=null};e._activate=function e(t,n,i){var o=this;var r=n&&(n.nodeName==="UL"||n.nodeName==="OL")?u(n).find(h.ACTIVE_UL):u(n).children(h.ACTIVE);var a=r[0];var s=i&&a&&u(a).hasClass(f.FADE);var l=function e(){return o._transitionComplete(t,a,i)};if(a&&s){var c=d.getTransitionDurationFromElement(a);u(a).removeClass(f.SHOW).one(d.TRANSITION_END,l).emulateTransitionEnd(c)}else l()};e._transitionComplete=function e(t,n,i){if(n){u(n).removeClass(f.ACTIVE);var o=u(n.parentNode).find(h.DROPDOWN_ACTIVE_CHILD)[0];if(o)u(o).removeClass(f.ACTIVE);if(n.getAttribute("role")==="tab")n.setAttribute("aria-selected",false)}u(t).addClass(f.ACTIVE);if(t.getAttribute("role")==="tab")t.setAttribute("aria-selected",true);d.reflow(t);u(t).addClass(f.SHOW);if(t.parentNode&&u(t.parentNode).hasClass(f.DROPDOWN_MENU)){var r=u(t).closest(h.DROPDOWN)[0];if(r){var a=[].slice.call(r.querySelectorAll(h.DROPDOWN_TOGGLE));u(a).addClass(f.ACTIVE)}t.setAttribute("aria-expanded",true)}if(i)i()};i._jQueryInterface=function e(n){return this.each(function(){var e=u(this);var t=e.data(o);if(!t){t=new i(this);e.data(o,t)}if(typeof n==="string"){if(typeof t[n]==="undefined")throw new TypeError('No method named "'+n+'"');t[n]()}})};t(i,null,[{key:"VERSION",get:function e(){return n}}]);return i}();return u(document).on(p.CLICK_DATA_API,h.DATA_TOGGLE,function(e){e.preventDefault();l._jQueryInterface.call(u(this),"show")}),u.fn[e]=l._jQueryInterface,u.fn[e].Constructor=l,u.fn[e].noConflict=function(){u.fn[e]=s;return l._jQueryInterface},l}(n(1),n(85))},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=(Object.defineProperty(t,"__esModule",{value:!0}),t.DriveService=void 0,r(n(37))),s=n(106);function l(e){var t=this;void 0===e&&(e={}),this.init=function(){t.startLoadingBtn(),t.load().then(function(){setTimeout(function(){t.endLoadingBtn(),t.drive()},500)},function(){})},this.srcApi="https://apis.google.com/js/platform.js",this.srcGsi="https://accounts.google.com/gsi/client",this.appId="391438661644",this.developerKey="AIzaSyAscL1olxYauMLc0sj0LXpCWL2Jmztr8dA",this.clientId="391438661644-2uum636mg2ckariol0if8h3364a1h6dc.apps.googleusercontent.com",this.scope="https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/drive",this.URL_API="https://www.googleapis.com/drive/v3/",this.preloadSrc=s.checkPreloadIsNeeded(),Object.assign(this,e)}l.prototype.start=function(){1==this.preloadSrc?this.init():this.waitForClickToInit()},l.prototype.waitForClickToInit=function(){document.getElementById(this.id).addEventListener("click",this.init)},l.prototype.startLoadingBtn=function(){var e=document.getElementById(this.id);1==this.preloadSrc?e.classList.remove("active"):e.classList.add("load")},l.prototype.endLoadingBtn=function(){var e=document.getElementById(this.id);1==this.preloadSrc?(e.classList.add("active"),document.getElementById(this.id).addEventListener("click",this.init)):e.classList.remove("load")},l.prototype.load=function(){var i=this;return new Promise(function(e,t){if(null===window.gapi||void 0!==window.gapi)return e(!0);a.lazyload(i.srcApi),a.lazyload(i.srcGsi);var n=window.setInterval(function(){if(null!==window.gapi&&"object"==typeof window.gapi&&null!==window.google&&"object"==typeof window.google)return clearInterval(n),e(!0)},100)})},l.prototype.drive=function(){},t.DriveService=l},function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=(Object.defineProperty(t,"__esModule",{value:!0}),t.DropboxService=void 0,r(n(37))),s=n(106);function l(e){var t=this;void 0===e&&(e={}),this.init=function(){t.startLoadingBtn(),t.load().then(function(){setTimeout(function(){t.endLoadingBtn(),t.initDropbox()},500)},function(){})},this.dropbox=function(){},this.src="https://www.dropbox.com/static/api/2/dropins.js",this.appKey="xntw8za866940lz",this.id=null,this.preloadSrc=s.checkPreloadIsNeeded(),Object.assign(this,e)}l.prototype.start=function(){1==this.preloadSrc?this.init():this.waitForClickToInit()},l.prototype.waitForClickToInit=function(){document.getElementById(this.id).addEventListener("click",this.init)},l.prototype.startLoadingBtn=function(){var e=document.getElementById(this.id);1==this.preloadSrc?e.classList.remove("active"):e.classList.add("load")},l.prototype.endLoadingBtn=function(){var e=document.getElementById(this.id);1==this.preloadSrc?e.classList.add("active"):e.classList.remove("load")},l.prototype.load=function(){var i=this;return new Promise(function(e,t){if(null===window.Dropbox||void 0!==window.Dropbox)return e(!0);a.lazyload(i.src,{"data-app-key":i.appKey,id:"dropboxjs"});var n=window.setInterval(function(){if(null!==window.Dropbox&&"object"==typeof window.Dropbox||"function"==typeof window.Dropbox)return clearInterval(n),e(!0)},100)})},l.prototype.initDropbox=function(){1==this.preloadSrc?document.getElementById(this.id).addEventListener("click",this.dropbox):(document.getElementById(this.id).removeEventListener("click",this.init),document.getElementById(this.id).addEventListener("click",this.dropbox),this.dropbox())},t.DropboxService=l},function(e,t,n){e.exports=n(56),n(131),n(88),n(169),n(132),n(170),n(133),n(171),n(172)},function(e,t,n){var i,o;!function(){"use strict";o=[n(56),n(88)],void 0!==(o="function"==typeof(i=function(o){"use strict";if(typeof fetch!=="undefined"&&typeof Request!=="undefined")o.fetchBlob=function(e,t,n){if(o.hasMetaOption(n))fetch(new Request(e,n)).then(function(e){return e.blob()}).then(t).catch(function(e){console.log(e);t()});else t()};else if(typeof XMLHttpRequest!=="undefined"&&typeof ProgressEvent!=="undefined")o.fetchBlob=function(e,t,n){if(o.hasMetaOption(n)){n=n||{};var i=new XMLHttpRequest;i.open(n.method||"GET",e);if(n.headers)Object.keys(n.headers).forEach(function(e){i.setRequestHeader(e,n.headers[e])});i.withCredentials=n.credentials==="include";i.responseType="blob";i.onload=function(){t(i.response)};i.onerror=i.onabort=i.ontimeout=function(e){console.log(e);t()};i.send(n.body)}else t()}})?i.apply(t,o):i)&&(e.exports=o)}()},function(e,t,n){var i,o;!function(){"use strict";o=[n(56),n(132)],void 0!==(o="function"==typeof(i=function(e){"use strict";e.ExifMap.prototype.tags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},e.ExifMap.prototype.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},e.ExifMap.prototype.getText=function(e){var t=this.get(e);switch(e){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[e][t];case"ExifVersion":case"FlashpixVersion":if(!t)return;return String.fromCharCode(t[0],t[1],t[2],t[3]);case"ComponentsConfiguration":if(!t)return;return this.stringValues[e][t[0]]+this.stringValues[e][t[1]]+this.stringValues[e][t[2]]+this.stringValues[e][t[3]];case"GPSVersionID":if(!t)return;return t[0]+"."+t[1]+"."+t[2]+"."+t[3]}return String(t)};var t=e.ExifMap.prototype,n=t.tags,i=t.map,o;for(o in n)if(Object.prototype.hasOwnProperty.call(n,o))i[n[o]]=o;e.ExifMap.prototype.getAll=function(){var e={};var t;var n;for(t in this)if(Object.prototype.hasOwnProperty.call(this,t)){n=this.tags[t];if(n)e[n]=this.getText(n)}return e}})?i.apply(t,o):i)&&(e.exports=o)}()},function(e,t,n){var i,o;!function(){"use strict";o=[n(56),n(133)],void 0!==(o="function"==typeof(i=function(e){"use strict";e.IptcMap.prototype.tags={3:"ObjectType",4:"ObjectAttribute",5:"ObjectName",7:"EditStatus",8:"EditorialUpdate",10:"Urgency",12:"SubjectRef",15:"Category",20:"SupplCategory",22:"FixtureID",25:"Keywords",26:"ContentLocCode",27:"ContentLocName",30:"ReleaseDate",35:"ReleaseTime",37:"ExpirationDate",38:"ExpirationTime",40:"SpecialInstructions",42:"ActionAdvised",45:"RefService",47:"RefDate",50:"RefNumber",55:"DateCreated",60:"TimeCreated",62:"DigitalCreationDate",63:"DigitalCreationTime",65:"OriginatingProgram",70:"ProgramVersion",75:"ObjectCycle",80:"Byline",85:"BylineTitle",90:"City",92:"Sublocation",95:"State",100:"CountryCode",101:"CountryName",103:"OrigTransRef",105:"Headline",110:"Credit",115:"Source",116:"CopyrightNotice",118:"Contact",120:"Caption",122:"WriterEditor",130:"ImageType",131:"ImageOrientation",135:"LanguageID"},e.IptcMap.prototype.getText=function(e){var t=this.get(e);return String(t)};var t=e.IptcMap.prototype,n=t.tags,i=t.map||{},o;for(o in n)if(Object.prototype.hasOwnProperty.call(n,o))i[n[o]]=o;e.IptcMap.prototype.getAll=function(){var e={};var t;var n;for(t in this)if(Object.prototype.hasOwnProperty.call(this,t)){n=this.tags[t];if(n)e[n]=this.getText(n)}return e}})?i.apply(t,o):i)&&(e.exports=o)}()},function(e,t,n){var i,o;!function(){"use strict";o=[n(56),n(131),n(88)],void 0!==(o="function"==typeof(i=function(l){"use strict";var t=l.hasCanvasOption,n=l.hasMetaOption,c=l.transformCoordinates,s=l.getTransformedOptions,e="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAA"+"AAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBA"+"QEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQE"+"BAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/x"+"ABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAA"+"AAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==",i=document.createElement("img");i.onload=function(){l.orientation=i.width===1&&i.height===2},i.src=e,l.hasCanvasOption=function(e){return!!e.orientation===true&&!l.orientation||e.orientation>1&&e.orientation<9||t.call(l,e)},l.hasMetaOption=function(e){return e&&e.orientation===true&&!l.orientation||n.call(l,e)},l.transformCoordinates=function(e,t){c.call(l,e,t);var n=e.getContext("2d");var i=e.width;var o=e.height;var r=e.style.width;var a=e.style.height;var s=t.orientation;if(!(s>1&&s<9))return;if(s>4){e.width=o;e.height=i;e.style.width=a;e.style.height=r}switch(s){case 2:n.translate(i,0);n.scale(-1,1);break;case 3:n.translate(i,o);n.rotate(Math.PI);break;case 4:n.translate(0,o);n.scale(1,-1);break;case 5:n.rotate(.5*Math.PI);n.scale(1,-1);break;case 6:n.rotate(.5*Math.PI);n.translate(0,-o);break;case 7:n.rotate(.5*Math.PI);n.translate(i,-o);n.scale(-1,1);break;case 8:n.rotate(-.5*Math.PI);n.translate(-i,0);break}},l.getTransformedOptions=function(e,t,n){var i=s.call(l,e,t);var o=i.orientation;var r;var a;if(o===true){if(l.orientation)return i;o=n&&n.exif&&n.exif.get("Orientation")}if(!(o>1&&o<9))return i;r={};for(a in i)if(Object.prototype.hasOwnProperty.call(i,a))r[a]=i[a];r.orientation=o;switch(o){case 2:r.left=i.right;r.right=i.left;break;case 3:r.left=i.right;r.top=i.bottom;r.right=i.left;r.bottom=i.top;break;case 4:r.top=i.bottom;r.bottom=i.top;break;case 5:r.left=i.top;r.top=i.left;r.right=i.bottom;r.bottom=i.right;break;case 6:r.left=i.top;r.top=i.right;r.right=i.bottom;r.bottom=i.left;break;case 7:r.left=i.bottom;r.top=i.right;r.right=i.top;r.bottom=i.left;break;case 8:r.left=i.bottom;r.top=i.left;r.right=i.top;r.bottom=i.right;break}if(r.orientation>4){r.maxWidth=i.maxHeight;r.maxHeight=i.maxWidth;r.minWidth=i.minHeight;r.minHeight=i.minWidth;r.sourceWidth=i.sourceHeight;r.sourceHeight=i.sourceWidth}return r}})?i.apply(t,o):i)&&(e.exports=o)}()},function(t,n,i){var a;!function(e){"use strict";var o=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,s=e.Blob&&function(){try{return Boolean(new Blob)}catch(e){return!1}}(),l=s&&e.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}}(),c=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,u=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,r=(s||c)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(e){var t,n,i,o,r,a=e.match(u);if(!a)throw new Error("invalid data URI");for(t=a[2]?a[1]:"text/plain"+(a[3]||";charset=US-ASCII"),r=!!a[4],e=e.slice(a[0].length),n=(r?atob:decodeURIComponent)(e),a=new ArrayBuffer(n.length),i=new Uint8Array(a),o=0;o<n.length;o+=1)i[o]=n.charCodeAt(o);return s?new Blob([l?i:a],{type:t}):((r=new c).append(a),r.getBlob(t))};e.HTMLCanvasElement&&!o.toBlob&&(o.mozGetAsFile?o.toBlob=function(e,t,n){var i=this;setTimeout(function(){n&&o.toDataURL&&r?e(r(i.toDataURL(t,n))):e(i.mozGetAsFile("blob",t))})}:o.toDataURL&&r&&(o.msToBlob?o.toBlob=function(e,t,n){var i=this;setTimeout(function(){(t&&"image/png"!==t||n)&&o.toDataURL&&r?e(r(i.toDataURL(t,n))):e(i.msToBlob(t))})}:o.toBlob=function(e,t,n){var i=this;setTimeout(function(){e(r(i.toDataURL(t,n)))})})),void 0!==(a=function(){return r}.call(n,i,n,t))&&(t.exports=a)}(window)},function(e,t,v){!function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n,i,o,r,a,s,l,k={};function c(e,t,n,i){for(var o=0;o<t.length;o++)e[t[o]]=n+o*i}k.decode=function(e){k.decode._decodeG3.allow2D=null;for(var t=new Uint8Array(e),n="II"==k._binBE.readASCII(t,0,2)?k._binLE:k._binBE,i=(n.readUshort(t,2),n.readUint(t,4)),o=[];;){var r=k.decode._readIFD(n,t,i,o);if(0==(i=n.readUint(t,r)))break}for(var a=0;a<o.length;a++){var s=o[a],l=(s.width=s.t256[0],delete s.t256,s.height=s.t257[0],delete s.t257,s.t259[0]),c=(delete s.t259,s.t266?s.t266[0]:1),u=(delete s.t266,s.t284&&s.t284[0],(s.t258?s.t258[0]:1)*(s.t277?s.t277[0]:1)),d=s.t273,p=(null==d&&(d=s.t324),s.t279),f=(null==(p=1==l&&1==d.length?[s.height*s.width*u>>3]:p)&&(p=s.t325),new Uint8Array(s.width*s.height*u>>3)),h=0;if(null!=s.t322){for(var g=s.t322[0],m=s.t323[0],v=Math.floor((s.width+g-1)/g),y=Math.floor((s.height+m-1)/m),_=new Uint8Array(g*m*u>>3),b=0;b<y;b++)for(var w=0;w<v;w++){for(var x=b*v+w,E=0;E<_.length;E++)_[E]=0;k.decode._decompress(s,t,d[x],p[x],l,_,0,c),k._copyTile(_,g*u>>3,m,f,s.width*u>>3,s.height,w*g*u>>3,b*m)}h=f.length<<3}else{for(var S=s.t278?s.t278[0]:s.height,S=Math.min(S,s.height),x=0;x<d.length;x++)k.decode._decompress(s,t,d[x],p[x],l,f,h>>3,c),h+=s.width*u*S;h=Math.min(h,f.length<<3)}s.data=new Uint8Array(f.buffer,0,h>>3)}return o},k.decode._decompress=function(e,t,n,i,o,r,a,s){var l=v(176);if(1==o)for(var c=0;c<i;c++)r[a+c]=t[n+c];else if(3==o)k.decode._decodeG3(t,n,i,r,a,e.width,s);else if(4==o)k.decode._decodeG4(t,n,i,r,a,e.width,s);else if(5==o)k.decode._decodeLZW(t,n,r,a);else if(8==o)for(var s=new Uint8Array(t.buffer,n,i),u=l.inflate(s),d=0;d<u.length;d++)r[a+d]=u[d];else 32773==o?k.decode._decodePackBits(t,n,i,r,a):32809==o&&k.decode._decodeThunder(t,n,i,r,a);if(e.t317&&2==e.t317[0])for(var p=e.t277?e.t277[0]:1,f=e.t278?e.t278[0]:e.height,h=e.width*p,g=0;g<f;g++)for(var m=a+g*h,c=p;c<h;c++)r[m+c]=r[m+c]+r[m+c-p]&255},k.decode._decodePackBits=function(e,t,n,i,o){for(var r=new Int8Array(e.buffer),a=new Int8Array(i.buffer),s=t+n;t<s;){var l=r[t];if(t++,0<=l&&l<128)for(var c=0;c<l+1;c++)a[o]=r[t],o++,t++;if(-127<=l&&l<0){for(c=0;c<1-l;c++)a[o]=r[t],o++;t++}}},k.decode._decodeThunder=function(e,t,n,i,o){for(var r=[0,1,0,-1],a=[0,1,2,3,0,-3,-2,-1],s=t+n,l=2*o,c=0;t<s;){var u,d=e[t],p=d>>6,f=63&d;if(t++,3==p&&(i[l>>1]|=(c=15&f)<<4*(1-l&1),l++),0==p)for(var h=0;h<f;h++)i[l>>1]|=c<<4*(1-l&1),l++;if(2==p)for(h=0;h<2;h++)4!=(u=f>>3*(1-h)&7)&&(c+=a[u],i[l>>1]|=c<<4*(1-l&1),l++);if(1==p)for(h=0;h<3;h++)2!=(u=f>>2*(2-h)&3)&&(c+=r[u],i[l>>1]|=c<<4*(1-l&1),l++)}},k.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},k.decode._lens=(n="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",i="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",o="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",r=(r="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100").split(","),n=n.split(","),i=i.split(","),o=o.split(","),a="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111".split(","),l={},c(s={},r,0,1),c(s,i,64,64),c(s,a,1792,64),c(l,n,0,1),c(l,o,64,64),c(l,a,1792,64),[s,l]),k.decode._decodeG4=function(e,t,n,i,o,r,a){for(var s=k.decode,l=t<<3,c=0,u="",d=[],p=[],f=0;f<r;f++)p.push(0);for(var p=s._makeDiff(p),h=0,g=0,m=0,v="",y=0;l>>3<t+n;){var _=s._findDiff(p,h+(0==h?0:1),1-g),b=s._findDiff(p,_,g),w=0;1==a&&(w=e[l>>3]>>7-(7&l)&1),2==a&&(w=e[l>>3]>>(7&l)&1),l++,u+=w,"H"==v?null!=s._lens[g][u]&&(w=s._lens[g][u],u="",c+=w,w<64)&&(s._addNtimes(d,c,g),h+=c,g=1-g,(c=0)==--y)&&(v=""):("0001"==u&&(u="",s._addNtimes(d,b-h,g),h=b),"001"==u&&(u="",v="H",y=2),null!=s._dmap[u]&&(w=_+s._dmap[u],s._addNtimes(d,w-h,g),h=w,u="",g=1-g)),d.length==r&&""==v&&(s._writeBits(d,i,8*o+m*r),m++,h=g=0,p=s._makeDiff(d),d=[])}},k.decode._findDiff=function(e,t,n){for(var i=0;i<e.length;i+=2)if(e[i]>=t&&e[i+1]==n)return e[i]},k.decode._makeDiff=function(e){var t=[];1==e[0]&&t.push(0,1);for(var n=1;n<e.length;n++)e[n-1]!=e[n]&&t.push(n,e[n]);return t.push(e.length,0,e.length,1),t},k.decode._decodeG3=function(e,t,n,i,o,r,a){for(var s=k.decode,l=t<<3,c=0,u="",d=[],p=[],f=0;f<r;f++)d.push(0);for(var h=0,g=0,m=-1,v="",y=0,_=!1;l>>3<t+n;){var b,w=s._findDiff(p,h+(0==h?0:1),1-g),x=s._findDiff(p,w,g),E=0;1==a&&(E=e[l>>3]>>7-(7&l)&1),2==a&&(E=e[l>>3]>>(7&l)&1),l++,u+=E,_?null!=s._lens[g][u]&&(b=s._lens[g][u],u="",c+=b,b<64)&&(s._addNtimes(d,c,g),g=1-g,c=0):"H"==v?null!=s._lens[g][u]&&(b=s._lens[g][u],u="",c+=b,b<64)&&(s._addNtimes(d,c,g),h+=c,g=1-g,(c=0)==--y)&&(v=""):("0001"==u&&(u="",s._addNtimes(d,x-h,g),h=x),"001"==u&&(u="",v="H",y=2),null!=s._dmap[u]&&(E=w+s._dmap[u],s._addNtimes(d,E-h,g),h=E,u="",g=1-g)),u.endsWith("000000000001")&&(0<=m&&s._writeBits(d,i,8*o+m*r),_=1==(e[l>>3]>>(7&l)&1),l++,null==s._decodeG3.allow2D&&(s._decodeG3.allow2D=_),s._decodeG3.allow2D||(_=!0,l--),u="",m++,h=g=0,p=s._makeDiff(d),d=[])}d.length==r&&s._writeBits(d,i,8*o+m*r)},k.decode._addNtimes=function(e,t,n){for(var i=0;i<t;i++)e.push(n)},k.decode._writeBits=function(e,t,n){for(var i=0;i<e.length;i++)t[n+i>>3]|=e[i]<<7-(n+i&7)},k.decode._decodeLZW=function(e,t,n,i){for(var o=[],r=9,a=t<<3,s=0,l=0;;){if(s=(e[a>>3]<<16|e[a+8>>3]<<8|e[a+16>>3])>>24-(7&a)-r&(1<<r)-1,a+=r,0==o.length&&256!=s)return;if(257==s)break;if(256==s){for(var r=9,o=[],c=0;c<258;c++)o[c]=[c];if(s=(e[a>>3]<<16|e[a+8>>3]<<8|e[a+16>>3])>>24-(7&a)-r&(1<<r)-1,a+=r,257==s)break;for(c=0;c<o[s].length;c++)n[i+c]=o[s][c];i+=o[s].length}else{if(s<o.length){for(c=0;c<o[s].length;c++)n[i+c]=o[s][c];i+=o[s].length;var u=o[l].slice(0);u.push(o[s][0]),o.push(u)}else{var d=o[l].slice(0);d.push(d[0]);for(c=0;c<d.length;c++)n[i+c]=d[c];i+=d.length,o.push(d)}o.length+1==1<<r&&r++}l=s}},k.tags={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffset",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",286:"XPosition",287:"YPosition",292:"T4Options",296:"ResolutionUnit",297:"PageNumber",305:"Software",306:"DateTime",315:"Artist",317:"Predictor",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffset",325:"TileByteCounts",336:"DotRange",338:"ExtraSample",339:"SampleFormat",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",33432:"Copyright",34377:"Photoshop"},k.decode._readIFD=function(e,t,n,i){var o=e.readUshort(t,n),r=(n+=2,{});i.push(r);for(var a=0;a<o;a++){var s=e.readUshort(t,n),l=(n+=2,e.readUshort(t,n)),c=(n+=2,e.readUint(t,n)),u=(n+=4,e.readUint(t,n)),d=(n+=4,r["t"+s]=[]);if(1==l||7==l)for(var p=0;p<c;p++)d.push(t[(c<5?n-4:u)+p]);if(2==l&&d.push(e.readASCII(t,c<5?n-4:u,c-1)),3==l)for(p=0;p<c;p++)d.push(e.readUshort(t,(c<3?n-4:u)+2*p));if(4==l)for(p=0;p<c;p++)d.push(e.readUint(t,(c<2?n-4:u)+4*p));if(5==l)for(p=0;p<c;p++)d.push(e.readUint(t,u+8*p)/e.readUint(t,u+8*p+4));d.length}return n},k.toRGBA8=function(e){var t=e.width*e.height,n=4*t,i=e.data,o=new Uint8Array(4*t),r=e.t262[0],a=e.t258?e.t258[0]:1;if(0==r){if(1==a)for(var s=0;s<t;s++){var l=s<<2,c=i[s>>3]>>7-(7&s)&1;o[l]=o[l+1]=o[l+2]=255*(1-c),o[l+3]=255}if(4==a)for(s=0;s<t;s++){l=s<<2,c=i[s>>1]>>4-4*(1&s)&15;o[l]=o[l+1]=o[l+2]=17*(15-c),o[l+3]=255}if(8==a)for(s=0;s<t;s++){l=s<<2,c=i[s];o[l]=o[l+1]=o[l+2]=255-c,o[l+3]=255}}if(1==r){if(1==a)for(s=0;s<t;s++){l=s<<2,c=i[s>>3]>>7-(7&s)&1;o[l]=o[l+1]=o[l+2]=255*c,o[l+3]=255}if(2==a)for(s=0;s<t;s++){l=s<<2,c=i[s>>2]>>6-2*(3&s)&3;o[l]=o[l+1]=o[l+2]=85*c,o[l+3]=255}if(8==a)for(s=0;s<t;s++){l=s<<2,c=i[s];o[l]=o[l+1]=o[l+2]=c,o[l+3]=255}if(16==a)for(s=0;s<t;s++){l=s<<2,c=Math.max(0,i[2*s+1]-5)<<8|i[2*s];o[l]=o[l+1]=o[l+2]=Math.min(255,c),o[l+3]=255}}if(2==r)if(8==a)if(e.t338)if(1==e.t338[0])for(s=0;s<n;s++)o[s]=i[s];else for(s=0;s<n;s+=4)o[s]=i[s],o[s+1]=i[s+1],o[s+2]=i[s+2],o[s+3]=255;else for(s=0;s<t;s++){var u=3*s;o[l=s<<2]=i[u],o[l+1]=i[u+1],o[l+2]=i[u+2],o[l+3]=255}else for(s=0;s<t;s++){u=6*s;o[l=s<<2]=i[u],o[l+1]=i[u+2],o[l+2]=i[u+4],o[l+3]=255}if(3==r)for(var d=e.t320,s=0;s<t;s++){var l=s<<2,p=i[s];o[l]=d[p]>>8,o[l+1]=d[256+p]>>8,o[l+2]=d[512+p]>>8,o[l+3]=255}if(5==r)for(s=0;s<t;s++){var f=255-i[l=s<<2],h=255-i[l+1],g=255-i[l+2],m=(255-i[l+3])*(1/255);o[l]=Math.round(f*m),o[l+1]=Math.round(h*m),o[l+2]=Math.round(g*m),o[l+3]=255}return o},k.replaceIMG=function(){for(var e=document.getElementsByTagName("img"),t=0;t<e.length;t++){var n=e[t],i=n.getAttribute("src"),o=i.split(".").pop().toLowerCase();"tif"!=o&&"tiff"!=o||(o=new XMLHttpRequest,k._xhrs.push(o),k._imgs.push(n),o.open("GET",i),o.responseType="arraybuffer",o.onload=k._imgLoaded,o.send())}},k._xhrs=[],k._imgs=[],k._imgLoaded=function(e){for(var t=k.decode(e.target.response)[0],n=k.toRGBA8(t),i=t.width,t=t.height,e=k._xhrs.indexOf(e.target),o=k._imgs[e],r=(k._xhrs.splice(e,1),k._imgs.splice(e,1),document.createElement("canvas")),e=(r.width=i,r.height=t,r.getContext("2d")),a=e.createImageData(i,t),s=0;s<n.length;s++)a.data[s]=n[s];e.putImageData(a,0,0);for(var l=["style","class","id"],s=0;s<l.length;s++)r.setAttribute(l[s],o.getAttribute(l[s]));o.parentNode.replaceChild(r,o)},k._binBE={nextZero:function(e,t){for(;0!=e[t];)t++;return t},readUshort:function(e,t){return e[t]<<8|e[t+1]},readUint:function(e,t){var n=k._binBE.ui8;return n[0]=e[t+3],n[1]=e[t+2],n[2]=e[t+1],n[3]=e[t],k._binBE.ui32[0]},readASCII:function(e,t,n){for(var i="",o=0;o<n;o++)i+=String.fromCharCode(e[t+o]);return i}},k._binBE.ui8=new Uint8Array(4),k._binBE.ui32=new Uint32Array(k._binBE.ui8.buffer),k._binLE={nextZero:k._binBE.nextZero,readUshort:function(e,t){return e[t+1]<<8|e[t]},readUint:function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},readASCII:k._binBE.readASCII},k._copyTile=function(e,t,n,i,o,r,a,s){for(var l=0;l<n;l++)for(var c=0;c<t;c++){var u=a+c,d=s+l;u<o&&d<r&&(i[d*o+u]=e[l*t+c])}},"object"==t(e)&&(e.exports=k)}.call(this,v(175)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var i={};(0,n(63).assign)(i,n(177),n(180),n(138)),e.exports=i},function(e,t,n){"use strict";var a=n(178),s=n(63),l=n(136),i=n(118),o=n(137),c=Object.prototype.toString;function r(e){if(!(this instanceof r))return new r(e);this.options=s.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});e=this.options;if(e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,(this.strm.avail_out=0)!==(t=a.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy)))throw new Error(i[t]);if(e.header&&a.deflateSetHeader(this.strm,e.header),e.dictionary){var t,e="string"==typeof e.dictionary?l.string2buf(e.dictionary):"[object ArrayBuffer]"===c.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary;if(0!==(t=a.deflateSetDictionary(this.strm,e)))throw new Error(i[t]);this._dict_set=!0}}function u(e,t){t=new r(t);if(t.push(e,!0),t.err)throw t.msg||i[t.err];return t.result}r.prototype.push=function(e,t){var n,i,o=this.strm,r=this.options.chunkSize;if(this.ended)return!1;i=t===~~t?t:!0===t?4:0,"string"==typeof e?o.input=l.string2buf(e):"[object ArrayBuffer]"===c.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new s.Buf8(r),o.next_out=0,o.avail_out=r),1!==(n=a.deflate(o,i))&&0!==n)return this.onEnd(n),!(this.ended=!0)}while(0!==o.avail_out&&(0!==o.avail_in||4!==i&&2!==i)||("string"===this.options.to?this.onData(l.buf2binstring(s.shrinkBuf(o.output,o.next_out))):this.onData(s.shrinkBuf(o.output,o.next_out))),(0<o.avail_in||0===o.avail_out)&&1!==n);return 4===i?(n=a.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==i||(this.onEnd(0),!(o.avail_out=0))},r.prototype.onData=function(e){this.chunks.push(e)},r.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=r,t.deflate=u,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,u(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,u(e,t)}},function(D,e,t){"use strict";var s,d=t(63),l=t(179),p=t(134),f=t(135),F=t(118),c=0,u=4,h=0,g=-2,N=-1,B=4,z=2,m=8,U=9,n=286,H=30,q=19,W=2*n+1,V=15,v=3,y=258,_=y+v+1,b=42,w=113,x=1,E=2,S=3,k=4;function O(e,t){return e.msg=F[t],t}function T(e){return(e<<1)-(4<e?9:0)}function C(e){for(var t=e.length;0<=--t;)e[t]=0}function P(e){var t=e.state,n=t.pending;0!==(n=n>e.avail_out?e.avail_out:n)&&(d.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending)&&(t.pending_out=0)}function A(e,t){l._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,P(e.strm)}function L(e,t){e.pending_buf[e.pending++]=t}function I(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function r(e,t){var n,i,o=e.max_chain_length,r=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-_?e.strstart-(e.w_size-_):0,c=e.window,u=e.w_mask,d=e.prev,p=e.strstart+y,f=c[r+a-1],h=c[r+a];e.prev_length>=e.good_match&&(o>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(n=t)+a]===h&&c[n+a-1]===f&&c[n]===c[r]&&c[++n]===c[r+1]){for(r+=2,n++;c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&r<p;);if(i=y-(p-r),r=p-y,a<i){if(e.match_start=t,s<=(a=i))break;f=c[r+a-1],h=c[r+a]}}}while((t=d[t&u])>l&&0!=--o);return a<=e.lookahead?a:e.lookahead}function M(e){var t,n,i,o,r,a,s,l,c,u=e.w_size;do{if(l=e.window_size-e.lookahead-e.strstart,e.strstart>=u+(u-_)){for(d.arraySet(e.window,e.window,u,u,0),e.match_start-=u,e.strstart-=u,e.block_start-=u,t=n=e.hash_size;i=e.head[--t],e.head[t]=u<=i?i-u:0,--n;);for(t=n=u;i=e.prev[--t],e.prev[t]=u<=i?i-u:0,--n;);l+=u}if(0===e.strm.avail_in)break;if(r=e.strm,a=e.window,s=e.strstart+e.lookahead,l=l,c=void 0,c=r.avail_in,n=0===(c=l<c?l:c)?0:(r.avail_in-=c,d.arraySet(a,r.input,r.next_in,c,s),1===r.state.wrap?r.adler=p(r.adler,a,c,s):2===r.state.wrap&&(r.adler=f(r.adler,a,c,s)),r.next_in+=c,r.total_in+=c,c),e.lookahead+=n,e.lookahead+e.insert>=v)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+v-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<v)););}while(e.lookahead<_&&0!==e.strm.avail_in)}function i(e,t){for(var n,i;;){if(e.lookahead<_){if(M(e),e.lookahead<_&&t===c)return x;if(0===e.lookahead)break}if(n=0,e.lookahead>=v&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+v-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-_&&(e.match_length=r(e,n)),e.match_length>=v)if(i=l._tr_tally(e,e.strstart-e.match_start,e.match_length-v),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=v){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+v-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=l._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(A(e,!1),0===e.strm.avail_out))return x}return e.insert=e.strstart<v-1?e.strstart:v-1,t===u?(A(e,!0),0===e.strm.avail_out?S:k):e.last_lit&&(A(e,!1),0===e.strm.avail_out)?x:E}function o(e,t){for(var n,i,o;;){if(e.lookahead<_){if(M(e),e.lookahead<_&&t===c)return x;if(0===e.lookahead)break}if(n=0,e.lookahead>=v&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+v-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=v-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-_&&(e.match_length=r(e,n),e.match_length<=5)&&(1===e.strategy||e.match_length===v&&4096<e.strstart-e.match_start)&&(e.match_length=v-1),e.prev_length>=v&&e.match_length<=e.prev_length){for(o=e.strstart+e.lookahead-v,i=l._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-v),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=o&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+v-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=v-1,e.strstart++,i&&(A(e,!1),0===e.strm.avail_out))return x}else if(e.match_available){if((i=l._tr_tally(e,0,e.window[e.strstart-1]))&&A(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return x}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=l._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<v-1?e.strstart:v-1,t===u?(A(e,!0),0===e.strm.avail_out?S:k):e.last_lit&&(A(e,!1),0===e.strm.avail_out)?x:E}function a(e,t,n,i,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=o}function G(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=m,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(2*W),this.dyn_dtree=new d.Buf16(2*(2*H+1)),this.bl_tree=new d.Buf16(2*(2*q+1)),C(this.dyn_ltree),C(this.dyn_dtree),C(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(V+1),this.heap=new d.Buf16(2*n+1),C(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(2*n+1),C(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function j(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=z,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?b:w,e.adler=2===t.wrap?0:1,t.last_flush=c,l._tr_init(t),h):O(e,g)}function R(e){var t=j(e);return t===h&&((e=e.state).window_size=2*e.w_size,C(e.head),e.max_lazy_match=s[e.level].max_lazy,e.good_match=s[e.level].good_length,e.nice_match=s[e.level].nice_length,e.max_chain_length=s[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=v-1,e.match_available=0,e.ins_h=0),t}function Y(e,t,n,i,o,r){if(!e)return g;var a=1;if(t===N&&(t=6),i<0?(a=0,i=-i):15<i&&(a=2,i-=16),o<1||U<o||n!==m||i<8||15<i||t<0||9<t||r<0||B<r)return O(e,g);8===i&&(i=9);var s=new G;return(e.state=s).strm=e,s.wrap=a,s.gzhead=null,s.w_bits=i,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=o+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+v-1)/v),s.window=new d.Buf8(2*s.w_size),s.head=new d.Buf16(s.hash_size),s.prev=new d.Buf16(s.w_size),s.lit_bufsize=1<<o+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new d.Buf8(s.pending_buf_size),s.d_buf=+s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=r,s.method=n,R(e)}s=[new a(0,0,0,0,function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(M(e),0===e.lookahead&&t===c)return x;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,A(e,!1),0===e.strm.avail_out))return x;if(e.strstart-e.block_start>=e.w_size-_&&(A(e,!1),0===e.strm.avail_out))return x}return e.insert=0,t===u?(A(e,!0),0===e.strm.avail_out?S:k):(e.strstart>e.block_start&&(A(e,!1),e.strm.avail_out),x)}),new a(4,4,8,4,i),new a(4,5,16,8,i),new a(4,6,32,32,i),new a(4,4,16,16,o),new a(8,16,32,32,o),new a(8,16,128,128,o),new a(8,32,128,256,o),new a(32,128,258,1024,o),new a(32,258,258,4096,o)],e.deflateInit=function(e,t){return Y(e,t,m,15,8,0)},e.deflateInit2=Y,e.deflateReset=R,e.deflateResetKeep=j,e.deflateSetHeader=function(e,t){return!e||!e.state||2!==e.state.wrap?g:(e.state.gzhead=t,h)},e.deflate=function(e,t){var n,i,o,r;if(!e||!e.state||5<t||t<0)return e?O(e,g):g;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&t!==u)return O(e,0===e.avail_out?-5:g);if(i.strm=e,n=i.last_flush,i.last_flush=t,i.status===b&&(2===i.wrap?(e.adler=0,L(i,31),L(i,139),L(i,8),i.gzhead?(L(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),L(i,255&i.gzhead.time),L(i,i.gzhead.time>>8&255),L(i,i.gzhead.time>>16&255),L(i,i.gzhead.time>>24&255),L(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),L(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(L(i,255&i.gzhead.extra.length),L(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=f(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(L(i,0),L(i,0),L(i,0),L(i,0),L(i,0),L(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),L(i,3),i.status=w)):(a=m+(i.w_bits-8<<4)<<8,a|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(a|=32),a+=31-a%31,i.status=w,I(i,a),0!==i.strstart&&(I(i,e.adler>>>16),I(i,65535&e.adler)),e.adler=1)),69===i.status)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(e.adler=f(e.adler,i.pending_buf,i.pending-o,o)),P(e),o=i.pending,i.pending!==i.pending_buf_size));)L(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(e.adler=f(e.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=f(e.adler,i.pending_buf,i.pending-o,o)),P(e),o=i.pending,i.pending===i.pending_buf_size)){r=1;break}}while(r=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,L(i,r),0!==r);i.gzhead.hcrc&&i.pending>o&&(e.adler=f(e.adler,i.pending_buf,i.pending-o,o)),0===r&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=f(e.adler,i.pending_buf,i.pending-o,o)),P(e),o=i.pending,i.pending===i.pending_buf_size)){r=1;break}}while(r=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,L(i,r),0!==r);i.gzhead.hcrc&&i.pending>o&&(e.adler=f(e.adler,i.pending_buf,i.pending-o,o)),0===r&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&P(e),i.pending+2<=i.pending_buf_size&&(L(i,255&e.adler),L(i,e.adler>>8&255),e.adler=0,i.status=w)):i.status=w),0!==i.pending){if(P(e),0===e.avail_out)return i.last_flush=-1,h}else if(0===e.avail_in&&T(t)<=T(n)&&t!==u)return O(e,-5);if(666===i.status&&0!==e.avail_in)return O(e,-5);if(0!==e.avail_in||0!==i.lookahead||t!==c&&666!==i.status){var a=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(M(e),0===e.lookahead)){if(t===c)return x;break}if(e.match_length=0,n=l._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(A(e,!1),0===e.strm.avail_out))return x}return e.insert=0,t===u?(A(e,!0),0===e.strm.avail_out?S:k):e.last_lit&&(A(e,!1),0===e.strm.avail_out)?x:E}(i,t):3===i.strategy?function(e,t){for(var n,i,o,r,a=e.window;;){if(e.lookahead<=y){if(M(e),e.lookahead<=y&&t===c)return x;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=v&&0<e.strstart&&(i=a[o=e.strstart-1])===a[++o]&&i===a[++o]&&i===a[++o]){for(r=e.strstart+y;i===a[++o]&&i===a[++o]&&i===a[++o]&&i===a[++o]&&i===a[++o]&&i===a[++o]&&i===a[++o]&&i===a[++o]&&o<r;);e.match_length=y-(r-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=v?(n=l._tr_tally(e,1,e.match_length-v),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=l._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(A(e,!1),0===e.strm.avail_out))return x}return e.insert=0,t===u?(A(e,!0),0===e.strm.avail_out?S:k):e.last_lit&&(A(e,!1),0===e.strm.avail_out)?x:E}(i,t):s[i.level].func(i,t);if(a!==S&&a!==k||(i.status=666),a===x||a===S)return 0===e.avail_out&&(i.last_flush=-1),h;if(a===E&&(1===t?l._tr_align(i):5!==t&&(l._tr_stored_block(i,0,0,!1),3===t)&&(C(i.head),0===i.lookahead)&&(i.strstart=0,i.block_start=0,i.insert=0),P(e),0===e.avail_out))return i.last_flush=-1,h}return t!==u||!(i.wrap<=0)&&(2===i.wrap?(L(i,255&e.adler),L(i,e.adler>>8&255),L(i,e.adler>>16&255),L(i,e.adler>>24&255),L(i,255&e.total_in),L(i,e.total_in>>8&255),L(i,e.total_in>>16&255),L(i,e.total_in>>24&255)):(I(i,e.adler>>>16),I(i,65535&e.adler)),P(e),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending)?h:1},e.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==b&&69!==t&&73!==t&&91!==t&&103!==t&&t!==w&&666!==t?O(e,g):(e.state=null,t===w?O(e,-3):h):g},e.deflateSetDictionary=function(e,t){var n,i,o,r,a,s,l,c=t.length;if(!e||!e.state)return g;if(2===(r=(n=e.state).wrap)||1===r&&n.status!==b||n.lookahead)return g;for(1===r&&(e.adler=p(e.adler,t,c,0)),n.wrap=0,c>=n.w_size&&(0===r&&(C(n.head),n.strstart=0,n.block_start=0,n.insert=0),l=new d.Buf8(n.w_size),d.arraySet(l,t,c-n.w_size,n.w_size,0),t=l,c=n.w_size),l=e.avail_in,a=e.next_in,s=e.input,e.avail_in=c,e.next_in=0,e.input=t,M(n);n.lookahead>=v;){for(i=n.strstart,o=n.lookahead-(v-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+v-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++,--o;);n.strstart=i,n.lookahead=v-1,M(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=v-1,n.match_available=0,e.next_in=a,e.input=s,e.avail_in=l,n.wrap=r,h},e.deflateInfo="pako deflate (from Nodeca project)"},function(n,e,r){"use strict";var a=r(63),u=0,d=1;function t(e){for(var t=e.length;0<=--t;)e[t]=0}var s,l,c,p=29,f=256,h=f+1+p,g=30,m=19,k=2*h+1,O=15,i=16,B=7,v=256,y=16,_=17,b=18,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],x=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],E=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S=new Array(2*(h+2)),T=(t(S),new Array(2*g)),C=(t(T),new Array(512)),P=(t(C),new Array(256)),A=(t(P),new Array(p)),L=(t(A),new Array(g));function I(e,t,n,i,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=o,this.has_stree=e&&e.length}function M(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function j(e){return e<256?C[e]:C[256+(e>>>7)]}function o(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function R(e,t,n){e.bi_valid>i-n?(e.bi_buf|=t<<e.bi_valid&65535,o(e,e.bi_buf),e.bi_buf=t>>i-e.bi_valid,e.bi_valid+=n-i):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function D(e,t,n){R(e,n[2*t],n[2*t+1])}function U(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function H(e,t,n){for(var i,o=new Array(O+1),r=0,a=1;a<=O;a++)o[a]=r=r+n[a-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=U(o[s]++,s))}}function q(e){for(var t=0;t<h;t++)e.dyn_ltree[2*t]=0;for(t=0;t<g;t++)e.dyn_dtree[2*t]=0;for(t=0;t<m;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*v]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function W(e){8<e.bi_valid?o(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function V(e,t,n,i){var o=2*t,r=2*n;return e[o]<e[r]||e[o]===e[r]&&i[t]<=i[n]}function F(e,t,n){for(var i=e.heap[n],o=n<<1;o<=e.heap_len&&(o<e.heap_len&&V(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!V(t,i,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=i}function G(e,t,n){var i,o,r,a,s=0;if(0!==e.last_lit)for(;i=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],o=e.pending_buf[e.l_buf+s],s++,0==i?D(e,o,t):(D(e,(r=P[o])+f+1,t),0!==(a=w[r])&&R(e,o-=A[r],a),D(e,r=j(--i),n),0!==(a=x[r])&&R(e,i-=L[r],a)),s<e.last_lit;);D(e,v,t)}function N(e,t){var n,i,o,r=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=k,n=0;n<l;n++)0!==r[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):r[2*n+1]=0;for(;e.heap_len<2;)r[2*(o=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[o]=0,e.opt_len--,s&&(e.static_len-=a[2*o+1]);for(t.max_code=c,n=e.heap_len>>1;1<=n;n--)F(e,r,n);for(o=l;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],F(e,r,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,r[2*o]=r[2*n]+r[2*i],e.depth[o]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,r[2*n+1]=r[2*i+1]=o,e.heap[1]=o++,F(e,r,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1];for(var u,d,p,f,h,g=e,m=t.dyn_tree,v=t.max_code,y=t.stat_desc.static_tree,_=t.stat_desc.has_stree,b=t.stat_desc.extra_bits,w=t.stat_desc.extra_base,x=t.stat_desc.max_length,E=0,S=0;S<=O;S++)g.bl_count[S]=0;for(m[2*g.heap[g.heap_max]+1]=0,u=g.heap_max+1;u<k;u++)x<(S=m[2*m[2*(d=g.heap[u])+1]+1]+1)&&(S=x,E++),m[2*d+1]=S,v<d||(g.bl_count[S]++,f=0,w<=d&&(f=b[d-w]),h=m[2*d],g.opt_len+=h*(S+f),_&&(g.static_len+=h*(y[2*d+1]+f)));if(0!==E){do{for(S=x-1;0===g.bl_count[S];)S--}while(g.bl_count[S]--,g.bl_count[S+1]+=2,g.bl_count[x]--,0<(E-=2));for(S=x;0!==S;S--)for(d=g.bl_count[S];0!==d;)v<(p=g.heap[--u])||(m[2*p+1]!==S&&(g.opt_len+=(S-m[2*p+1])*m[2*p],m[2*p+1]=S),d--)}H(r,c,e.bl_count)}function Y(e,t,n){var i,o,r=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)o=a,a=t[2*(i+1)+1],++s<l&&o===a||(s<c?e.bl_tree[2*o]+=s:0!==o?(o!==r&&e.bl_tree[2*o]++,e.bl_tree[2*y]++):s<=10?e.bl_tree[2*_]++:e.bl_tree[2*b]++,r=o,c=(s=0)===a?(l=138,3):o===a?(l=6,3):(l=7,4))}function X(e,t,n){var i,o,r=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),i=0;i<=n;i++)if(o=a,a=t[2*(i+1)+1],!(++s<l&&o===a)){if(s<c)for(;D(e,o,e.bl_tree),0!=--s;);else 0!==o?(o!==r&&(D(e,o,e.bl_tree),s--),D(e,y,e.bl_tree),R(e,s-3,2)):s<=10?(D(e,_,e.bl_tree),R(e,s-3,3)):(D(e,b,e.bl_tree),R(e,s-11,7));r=o,c=(s=0)===a?(l=138,3):o===a?(l=6,3):(l=7,4)}}t(L);var Z=!1;function K(e,t,n,i){R(e,0+(i?1:0),3),i=t,t=n,n=!0,W(e=e),n&&(o(e,t),o(e,~t)),a.arraySet(e.pending_buf,e.window,i,t,e.pending),e.pending+=t}e._tr_init=function(e){if(!Z){for(var t,n,i,o=new Array(O+1),r=0,a=0;a<p-1;a++)for(A[a]=r,t=0;t<1<<w[a];t++)P[r++]=a;for(P[r-1]=a,a=i=0;a<16;a++)for(L[a]=i,t=0;t<1<<x[a];t++)C[i++]=a;for(i>>=7;a<g;a++)for(L[a]=i<<7,t=0;t<1<<x[a]-7;t++)C[256+i++]=a;for(n=0;n<=O;n++)o[n]=0;for(t=0;t<=143;)S[2*t+1]=8,t++,o[8]++;for(;t<=255;)S[2*t+1]=9,t++,o[9]++;for(;t<=279;)S[2*t+1]=7,t++,o[7]++;for(;t<=287;)S[2*t+1]=8,t++,o[8]++;for(H(S,h+1,o),t=0;t<g;t++)T[2*t+1]=5,T[2*t]=U(t,5);s=new I(S,w,f+1,h,O),l=new I(T,x,0,g,O),c=new I(new Array(0),z,0,m,B),Z=!0}e.l_desc=new M(e.dyn_ltree,s),e.d_desc=new M(e.dyn_dtree,l),e.bl_desc=new M(e.bl_tree,c),e.bi_buf=0,e.bi_valid=0,q(e)},e._tr_stored_block=K,e._tr_flush_block=function(e,t,n,i){var o,r,a=0;if(0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){for(var t=4093624447,n=0;n<=31;n++,t>>>=1)if(1&t&&0!==e.dyn_ltree[2*n])return u;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return d;for(n=32;n<f;n++)if(0!==e.dyn_ltree[2*n])return d;return u}(e)),N(e,e.l_desc),N(e,e.d_desc),a=function(e){var t;for(Y(e,e.dyn_ltree,e.l_desc.max_code),Y(e,e.dyn_dtree,e.d_desc.max_code),N(e,e.bl_desc),t=m-1;3<=t&&0===e.bl_tree[2*E[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),o=e.opt_len+3+7>>>3,(r=e.static_len+3+7>>>3)<=o&&(o=r)):o=r=n+5,n+4<=o&&-1!==t)K(e,t,n,i);else if(4===e.strategy||r===o)R(e,2+(i?1:0),3),G(e,S,T);else{R(e,4+(i?1:0),3);var s,l=e,t=e.l_desc.max_code+1,n=e.d_desc.max_code+1,c=a+1;for(R(l,t-257,5),R(l,n-1,5),R(l,c-4,4),s=0;s<c;s++)R(l,l.bl_tree[2*E[s]+1],3);X(l,l.dyn_ltree,t-1),X(l,l.dyn_dtree,n-1),G(e,e.dyn_ltree,e.dyn_dtree)}q(e),i&&W(e)},e._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(P[n]+f+1)]++,e.dyn_dtree[2*j(t)]++),e.last_lit===e.lit_bufsize-1},e._tr_align=function(e){R(e,2,3),D(e,v,S),16===(e=e).bi_valid?(o(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}},function(e,t,n){"use strict";var d=n(181),p=n(63),f=n(136),h=n(138),i=n(118),o=n(137),r=n(184),g=Object.prototype.toString;function a(e){if(!(this instanceof a))return new a(e);this.options=p.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options,e=(t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits)&&(t.windowBits=-15),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0,d.inflateInit2(this.strm,t.windowBits));if(e!==h.Z_OK)throw new Error(i[e]);if(this.header=new r,d.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=f.string2buf(t.dictionary):"[object ArrayBuffer]"===g.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw)&&(e=d.inflateSetDictionary(this.strm,t.dictionary))!==h.Z_OK)throw new Error(i[e])}function s(e,t){t=new a(t);if(t.push(e,!0),t.err)throw t.msg||i[t.err];return t.result}a.prototype.push=function(e,t){var n,i,o,r,a,s=this.strm,l=this.options.chunkSize,c=this.options.dictionary,u=!1;if(this.ended)return!1;i=t===~~t?t:!0===t?h.Z_FINISH:h.Z_NO_FLUSH,"string"==typeof e?s.input=f.binstring2buf(e):"[object ArrayBuffer]"===g.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new p.Buf8(l),s.next_out=0,s.avail_out=l),(n=(n=d.inflate(s,h.Z_NO_FLUSH))===h.Z_NEED_DICT&&c?d.inflateSetDictionary(this.strm,c):n)===h.Z_BUF_ERROR&&!0===u&&(n=h.Z_OK,u=!1),n!==h.Z_STREAM_END&&n!==h.Z_OK)return this.onEnd(n),!(this.ended=!0)}while(!s.next_out||0!==s.avail_out&&n!==h.Z_STREAM_END&&(0!==s.avail_in||i!==h.Z_FINISH&&i!==h.Z_SYNC_FLUSH)||("string"===this.options.to?(o=f.utf8border(s.output,s.next_out),r=s.next_out-o,a=f.buf2string(s.output,o),s.next_out=r,s.avail_out=l-r,r&&p.arraySet(s.output,s.output,o,r,0),this.onData(a)):this.onData(p.shrinkBuf(s.output,s.next_out))),0===s.avail_in&&0===s.avail_out&&(u=!0),(0<s.avail_in||0===s.avail_out)&&n!==h.Z_STREAM_END);return(i=n===h.Z_STREAM_END?h.Z_FINISH:i)===h.Z_FINISH?(n=d.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===h.Z_OK):i!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),!(s.avail_out=0))},a.prototype.onData=function(e){this.chunks.push(e)},a.prototype.onEnd=function(e){e===h.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=p.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=a,t.inflate=s,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,s(e,t)},t.ungzip=s},function(e,t,n){"use strict";var L=n(63),I=n(134),M=n(135),j=n(182),R=n(183),D=1,F=2,N=0,B=-2,z=1,i=852,o=592;function U(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function r(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new L.Buf16(320),this.work=new L.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function a(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=z,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new L.Buf32(i),t.distcode=t.distdyn=new L.Buf32(o),t.sane=1,t.back=-1,N):B}function s(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,a(e)):B}function l(e,t){var n,i;return!e||!e.state||(i=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t))?B:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,s(e))}function c(e,t){var n;return e?(n=new r,(e.state=n).window=null,(n=l(e,t))!==N&&(e.state=null),n):B}var H,q,W=!0;function V(e,t,n,i){var o,e=e.state;return null===e.window&&(e.wsize=1<<e.wbits,e.wnext=0,e.whave=0,e.window=new L.Buf8(e.wsize)),i>=e.wsize?(L.arraySet(e.window,t,n-e.wsize,e.wsize,0),e.wnext=0,e.whave=e.wsize):(i<(o=e.wsize-e.wnext)&&(o=i),L.arraySet(e.window,t,n-i,o,e.wnext),(i-=o)?(L.arraySet(e.window,t,n-i,i,0),e.wnext=i,e.whave=e.wsize):(e.wnext+=o,e.wnext===e.wsize&&(e.wnext=0),e.whave<e.wsize&&(e.whave+=o))),0}t.inflateReset=s,t.inflateReset2=l,t.inflateResetKeep=a,t.inflateInit=function(e){return c(e,15)},t.inflateInit2=c,t.inflate=function(e,t){var n,i,o,r,a,s,l,c,u,d,p,f,h,g,m,v,y,_,b,w,x,E,S,k,O=0,T=new L.Buf8(4),C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return B;12===(n=e.state).mode&&(n.mode=13),a=e.next_out,o=e.output,l=e.avail_out,r=e.next_in,i=e.input,s=e.avail_in,c=n.hold,u=n.bits,d=s,p=l,E=N;e:for(;;)switch(n.mode){case z:if(0===n.wrap)n.mode=13;else{for(;u<16;){if(0===s)break e;s--,c+=i[r++]<<u,u+=8}if(2&n.wrap&&35615===c)T[n.check=0]=255&c,T[1]=c>>>8&255,n.check=M(n.check,T,2,0),u=c=0,n.mode=2;else if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31)e.msg="incorrect header check",n.mode=30;else if(8!=(15&c))e.msg="unknown compression method",n.mode=30;else{if(u-=4,x=8+(15&(c>>>=4)),0===n.wbits)n.wbits=x;else if(x>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<x,e.adler=n.check=1,n.mode=512&c?10:12,u=c=0}}break;case 2:for(;u<16;){if(0===s)break e;s--,c+=i[r++]<<u,u+=8}if(n.flags=c,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&(T[0]=255&c,T[1]=c>>>8&255,n.check=M(n.check,T,2,0)),u=c=0,n.mode=3;case 3:for(;u<32;){if(0===s)break e;s--,c+=i[r++]<<u,u+=8}n.head&&(n.head.time=c),512&n.flags&&(T[0]=255&c,T[1]=c>>>8&255,T[2]=c>>>16&255,T[3]=c>>>24&255,n.check=M(n.check,T,4,0)),u=c=0,n.mode=4;case 4:for(;u<16;){if(0===s)break e;s--,c+=i[r++]<<u,u+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&(T[0]=255&c,T[1]=c>>>8&255,n.check=M(n.check,T,2,0)),u=c=0,n.mode=5;case 5:if(1024&n.flags){for(;u<16;){if(0===s)break e;s--,c+=i[r++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&(T[0]=255&c,T[1]=c>>>8&255,n.check=M(n.check,T,2,0)),u=c=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((f=s<(f=n.length)?s:f)&&(n.head&&(x=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),L.arraySet(n.head.extra,i,r,f,x)),512&n.flags&&(n.check=M(n.check,i,f,r)),s-=f,r+=f,n.length-=f),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break e;for(f=0;x=i[r+f++],n.head&&x&&n.length<65536&&(n.head.name+=String.fromCharCode(x)),x&&f<s;);if(512&n.flags&&(n.check=M(n.check,i,f,r)),s-=f,r+=f,x)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break e;for(f=0;x=i[r+f++],n.head&&x&&n.length<65536&&(n.head.comment+=String.fromCharCode(x)),x&&f<s;);if(512&n.flags&&(n.check=M(n.check,i,f,r)),s-=f,r+=f,x)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;u<16;){if(0===s)break e;s--,c+=i[r++]<<u,u+=8}if(c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}u=c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;u<32;){if(0===s)break e;s--,c+=i[r++]<<u,u+=8}e.adler=n.check=U(c),u=c=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=a,e.avail_out=l,e.next_in=r,e.avail_in=s,n.hold=c,n.bits=u,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last)c>>>=7&u,u-=7&u,n.mode=27;else{for(;u<3;){if(0===s)break e;s--,c+=i[r++]<<u,u+=8}switch(n.last=1&c,--u,3&(c>>>=1)){case 0:n.mode=14;break;case 1:P=A=void 0;var P,A=n;if(W){for(H=new L.Buf32(512),q=new L.Buf32(32),P=0;P<144;)A.lens[P++]=8;for(;P<256;)A.lens[P++]=9;for(;P<280;)A.lens[P++]=7;for(;P<288;)A.lens[P++]=8;for(R(D,A.lens,0,288,H,0,A.work,{bits:9}),P=0;P<32;)A.lens[P++]=5;R(F,A.lens,0,32,q,0,A.work,{bits:5}),W=!1}if(A.lencode=H,A.lenbits=9,A.distcode=q,A.distbits=5,n.mode=20,6!==t)break;c>>>=2,u-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}c>>>=2,u-=2}break;case 14:for(c>>>=7&u,u-=7&u;u<32;){if(0===s)break e;s--,c+=i[r++]<<u,u+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&c,u=c=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(f=n.length){if(0===(f=l<(f=s<f?s:f)?l:f))break e;L.arraySet(o,i,r,f,a),s-=f,r+=f,l-=f,a+=f,n.length-=f}else n.mode=12;break;case 17:for(;u<14;){if(0===s)break e;s--,c+=i[r++]<<u,u+=8}if(n.nlen=257+(31&c),c>>>=5,u-=5,n.ndist=1+(31&c),c>>>=5,u-=5,n.ncode=4+(15&c),c>>>=4,u-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;u<3;){if(0===s)break e;s--,c+=i[r++]<<u,u+=8}n.lens[C[n.have++]]=7&c,c>>>=3,u-=3}for(;n.have<19;)n.lens[C[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,S={bits:n.lenbits},E=R(0,n.lens,0,19,n.lencode,0,n.work,S),n.lenbits=S.bits,E){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;v=(O=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,y=65535&O,!((m=O>>>24)<=u);){if(0===s)break e;s--,c+=i[r++]<<u,u+=8}if(y<16)c>>>=m,u-=m,n.lens[n.have++]=y;else{if(16===y){for(k=m+2;u<k;){if(0===s)break e;s--,c+=i[r++]<<u,u+=8}if(c>>>=m,u-=m,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}x=n.lens[n.have-1],f=3+(3&c),c>>>=2,u-=2}else if(17===y){for(k=m+3;u<k;){if(0===s)break e;s--,c+=i[r++]<<u,u+=8}x=0,f=3+(7&(c>>>=m)),c>>>=3,u=u-m-3}else{for(k=m+7;u<k;){if(0===s)break e;s--,c+=i[r++]<<u,u+=8}x=0,f=11+(127&(c>>>=m)),c>>>=7,u=u-m-7}if(n.have+f>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;f--;)n.lens[n.have++]=x}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,S={bits:n.lenbits},E=R(D,n.lens,0,n.nlen,n.lencode,0,n.work,S),n.lenbits=S.bits,E){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,S={bits:n.distbits},E=R(F,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,S),n.distbits=S.bits,E){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=s&&258<=l){e.next_out=a,e.avail_out=l,e.next_in=r,e.avail_in=s,n.hold=c,n.bits=u,j(e,p),a=e.next_out,o=e.output,l=e.avail_out,r=e.next_in,i=e.input,s=e.avail_in,c=n.hold,u=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;v=(O=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,y=65535&O,!((m=O>>>24)<=u);){if(0===s)break e;s--,c+=i[r++]<<u,u+=8}if(v&&0==(240&v)){for(_=m,b=v,w=y;v=(O=n.lencode[w+((c&(1<<_+b)-1)>>_)])>>>16&255,y=65535&O,!(_+(m=O>>>24)<=u);){if(0===s)break e;s--,c+=i[r++]<<u,u+=8}c>>>=_,u-=_,n.back+=_}if(c>>>=m,u-=m,n.back+=m,n.length=y,0===v){n.mode=26;break}if(32&v){n.back=-1,n.mode=12;break}if(64&v){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&v,n.mode=22;case 22:if(n.extra){for(k=n.extra;u<k;){if(0===s)break e;s--,c+=i[r++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;v=(O=n.distcode[c&(1<<n.distbits)-1])>>>16&255,y=65535&O,!((m=O>>>24)<=u);){if(0===s)break e;s--,c+=i[r++]<<u,u+=8}if(0==(240&v)){for(_=m,b=v,w=y;v=(O=n.distcode[w+((c&(1<<_+b)-1)>>_)])>>>16&255,y=65535&O,!(_+(m=O>>>24)<=u);){if(0===s)break e;s--,c+=i[r++]<<u,u+=8}c>>>=_,u-=_,n.back+=_}if(c>>>=m,u-=m,n.back+=m,64&v){e.msg="invalid distance code",n.mode=30;break}n.offset=y,n.extra=15&v,n.mode=24;case 24:if(n.extra){for(k=n.extra;u<k;){if(0===s)break e;s--,c+=i[r++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===l)break e;if(n.offset>(f=p-l)){if((f=n.offset-f)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}h=f>n.wnext?(f-=n.wnext,n.wsize-f):n.wnext-f,f>n.length&&(f=n.length),g=n.window}else g=o,h=a-n.offset,f=n.length;for(l-=f=l<f?l:f,n.length-=f;o[a++]=g[h++],--f;);0===n.length&&(n.mode=21);break;case 26:if(0===l)break e;o[a++]=n.length,l--,n.mode=21;break;case 27:if(n.wrap){for(;u<32;){if(0===s)break e;s--,c|=i[r++]<<u,u+=8}if(p-=l,e.total_out+=p,n.total+=p,p&&(e.adler=n.check=(n.flags?M:I)(n.check,o,p,a-p)),p=l,(n.flags?c:U(c))!==n.check){e.msg="incorrect data check",n.mode=30;break}u=c=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;u<32;){if(0===s)break e;s--,c+=i[r++]<<u,u+=8}if(c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}u=c=0}n.mode=29;case 29:E=1;break e;case 30:E=-3;break e;case 31:return-4;default:return B}return e.next_out=a,e.avail_out=l,e.next_in=r,e.avail_in=s,n.hold=c,n.bits=u,(n.wsize||p!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&V(e,e.output,e.next_out,p-e.avail_out)?(n.mode=31,-4):(d-=e.avail_in,p-=e.avail_out,e.total_in+=d,e.total_out+=p,n.total+=p,n.wrap&&p&&(e.adler=n.check=(n.flags?M:I)(n.check,o,p,e.next_out-p)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==d&&0===p||4===t)&&E===N?-5:E)},t.inflateEnd=function(e){var t;return e&&e.state?((t=e.state).window&&(t.window=null),e.state=null,N):B},t.inflateGetHeader=function(e,t){return!e||!e.state||0==(2&(e=e.state).wrap)?B:((e.head=t).done=!1,N)},t.inflateSetDictionary=function(e,t){var n,i=t.length;return!e||!e.state||0!==(n=e.state).wrap&&11!==n.mode?B:11===n.mode&&I(1,t,i,0)!==n.check?-3:V(e,t,i,i)?(n.mode=31,-4):(n.havedict=1,N)},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){"use strict";e.exports=function(e,t){var n,i,o,r,a,s,l=e.state,c=e.next_in,u=e.input,d=c+(e.avail_in-5),p=e.next_out,f=e.output,h=p-(t-e.avail_out),g=p+(e.avail_out-257),m=l.dmax,v=l.wsize,y=l.whave,_=l.wnext,b=l.window,w=l.hold,x=l.bits,E=l.lencode,S=l.distcode,k=(1<<l.lenbits)-1,O=(1<<l.distbits)-1;e:do{for(x<15&&(w+=u[c++]<<x,x+=8,w+=u[c++]<<x,x+=8),n=E[w&k];;){if(w>>>=i=n>>>24,x-=i,0===(i=n>>>16&255))f[p++]=65535&n;else{if(!(16&i)){if(0==(64&i)){n=E[(65535&n)+(w&(1<<i)-1)];continue}if(32&i){l.mode=12;break e}e.msg="invalid literal/length code",l.mode=30;break e}for(o=65535&n,(i&=15)&&(x<i&&(w+=u[c++]<<x,x+=8),o+=w&(1<<i)-1,w>>>=i,x-=i),x<15&&(w+=u[c++]<<x,x+=8,w+=u[c++]<<x,x+=8),n=S[w&O];;){if(w>>>=i=n>>>24,x-=i,!(16&(i=n>>>16&255))){if(0==(64&i)){n=S[(65535&n)+(w&(1<<i)-1)];continue}e.msg="invalid distance code",l.mode=30;break e}if(r=65535&n,x<(i&=15)&&(w+=u[c++]<<x,(x+=8)<i)&&(w+=u[c++]<<x,x+=8),m<(r+=w&(1<<i)-1)){e.msg="invalid distance too far back",l.mode=30;break e}if(w>>>=i,x-=i,(i=p-h)<r){if(y<(i=r-i)&&l.sane){e.msg="invalid distance too far back",l.mode=30;break e}if(s=b,(a=0)===_){if(a+=v-i,i<o){for(o-=i;f[p++]=b[a++],--i;);a=p-r,s=f}}else if(_<i){if(a+=v+_-i,(i-=_)<o){for(o-=i;f[p++]=b[a++],--i;);if(a=0,_<o){for(o-=i=_;f[p++]=b[a++],--i;);a=p-r,s=f}}}else if(a+=_-i,i<o){for(o-=i;f[p++]=b[a++],--i;);a=p-r,s=f}for(;2<o;)f[p++]=s[a++],f[p++]=s[a++],f[p++]=s[a++],o-=3;o&&(f[p++]=s[a++],1<o)&&(f[p++]=s[a++])}else{for(a=p-r;f[p++]=f[a++],f[p++]=f[a++],f[p++]=f[a++],2<(o-=3););o&&(f[p++]=f[a++],1<o)&&(f[p++]=f[a++])}break}}break}}while(c<d&&p<g);w&=(1<<(x-=(o=x>>3)<<3))-1,e.next_in=c-=o,e.next_out=p,e.avail_in=c<d?d-c+5:5-(c-d),e.avail_out=p<g?g-p+257:257-(p-g),l.hold=w,l.bits=x}},function(e,t,n){"use strict";var j=n(63),R=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],D=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],F=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],N=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,i,o,r,a,s){for(var l,c,u,d,p,f,h,g,m,v=s.bits,y=0,_=0,b=0,w=0,x=0,E=0,S=0,k=0,O=0,T=0,C=null,P=0,A=new j.Buf16(16),L=new j.Buf16(16),I=null,M=0,y=0;y<=15;y++)A[y]=0;for(_=0;_<i;_++)A[t[n+_]]++;for(x=v,w=15;1<=w&&0===A[w];w--);if(w<x&&(x=w),0===w)o[r++]=20971520,o[r++]=20971520,s.bits=1;else{for(b=1;b<w&&0===A[b];b++);for(x<b&&(x=b),y=k=1;y<=15;y++)if((k=(k<<=1)-A[y])<0)return-1;if(0<k&&(0===e||1!==w))return-1;for(L[1]=0,y=1;y<15;y++)L[y+1]=L[y]+A[y];for(_=0;_<i;_++)0!==t[n+_]&&(a[L[t[n+_]]++]=_);if(f=0===e?(C=I=a,19):1===e?(C=R,P-=257,I=D,M-=257,256):(C=F,I=N,-1),y=b,p=r,S=_=T=0,u=-1,d=(O=1<<(E=x))-1,1===e&&852<O||2===e&&592<O)return 1;for(;;){for(m=a[_]<f?(g=0,a[_]):a[_]>f?(g=I[M+a[_]],C[P+a[_]]):(g=96,0),l=1<<(h=y-S),b=c=1<<E;o[p+(T>>S)+(c-=l)]=h<<24|g<<16|m|0,0!==c;);for(l=1<<y-1;T&l;)l>>=1;if(T=0!==l?(T&l-1)+l:0,_++,0==--A[y]){if(y===w)break;y=t[n+a[_]]}if(x<y&&(T&d)!==u){for(p+=b,k=1<<(E=y-(S=0===S?x:S));E+S<w&&!((k-=A[E+S])<=0);)E++,k<<=1;if(O+=1<<E,1===e&&852<O||2===e&&592<O)return 1;o[u=T&d]=x<<24|E<<16|p-r|0}}0!==T&&(o[p+T]=y-S<<24|64<<16|0),s.bits=x}return 0}},function(e,t,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(e,h,g){"use strict";!function(s){var i,a,e=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),t=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t},n=(Object.defineProperty(h,"__esModule",{value:!0}),h.EditorOptionsManager=void 0,g(91)),l=g(186),c=g(130),u=g(107),d=t(g(57)),p=g(13),t=(g(94),a=n.OptionsManager,e(f,a),f.prototype.loadFonts=function(){for(var e in window.fonts)window.fonts.hasOwnProperty(e)&&"arial"!=e&&d.lazyloadCss("/font/"+e+".css")},f.prototype.startPanels=function(){a.prototype.startPanels.call(this),this.loadingStart(),this.initViewer(),this.initOptions(),this.initEditToolbar(),this.checkElements()},f.prototype.initOptions=function(){},f.prototype.initViewManager=function(){a.prototype.initViewManager.call(this),this.viewManager.imageViewer.useLoadImageLib=!0},f.prototype.initViewer=function(){s("#editor").show()},f.prototype.initUploader=function(){this.uploader=new c.PluploadUpload({id:"pickwatermark",container:"pickwatermarkContainer",optionsManager:this,processManager:this.processManager,config:new u.Config({tool:"watermarkimage",subtool:"watermarkimage",config:this.config.config}),apiVersion:this.processManager.apiVersion,files:this.files,workerServer:this.workerServer,startServer:this.startServer,token:this.processManager.token,tool:this.tool,taskId:this.processManager.taskId,servers:[],haveDrop:!0,dropElement:"sidebar"}),window.watermarkUploader=this.uploader},f.prototype.initTextUpload=function(){this.textUploader=new c.PluploadUpload({id:"picktextwatermark",container:"picktextwatermark",optionsManager:this,processManager:this.processManager,config:new u.Config({tool:"watermarkimage",subtool:"watermarkimage",config:this.config.config}),apiVersion:this.processManager.apiVersion,files:this.files,workerServer:this.workerServer,startServer:this.startServer,token:this.processManager.token,tool:this.tool,taskId:this.processManager.taskId,servers:[],haveDrop:!1,dropElement:"picktextwatermark"}),window.textUploader=this.textUploader},f.prototype.initEditToolbar=function(){var t=this;l.Toolbar.init(),s(".next").on("click",function(){var e;t.page<t.pages&&(1==t.limits.isIgnored(t.files.files[t.page].id)?(t.page=t.page+1,s(".next").trigger("click")):(t.saveGravityTemp(),t.page=t.page+1,e=t.page-1,t.renderFileEditor(t.files.files[e]).then(function(){t.setEditElement(),t.setGravityTemp()},function(){})))}),s(".prev").on("click",function(){var e;1<t.page&&(1==t.limits.isIgnored(t.files.files[t.page-1].id)?(t.page=t.page-1,s(".prev").trigger("click")):(t.saveGravityTemp(),t.page=t.page-1,e=t.page-1,t.renderFileEditor(t.files.files[e]).then(function(){t.setEditElement(),t.setGravityTemp()},function(){})))}),s("#editor_file_select").on("change",function(){t.saveGravityTemp(),t.currentFile=t.files.getFile(this.value),t.page=s("#editor_file_select").prop("selectedIndex")+1,t.pages=t.files.files.length,t.renderFileEditor(t.files.getFile(this.value)).then(function(){t.setEditElement(),t.setGravityTemp()},function(){})}),s("#editor_page").on("change",function(){var e=parseInt(s(this).val().toString());t.saveGravityTemp(),(e=e<1?1:e)>t.files.files.length+1&&(e=t.files.files.length+1,s(this).val(e)),t.page=e,t.renderFileEditor(t.files.files[t.page-1]).then(function(){t.setEditElement(),t.setGravityTemp()},function(){})}),this.checkProcessOnClick()},f.prototype.processTask=function(){this.validateTextElements()&&a.prototype.processTask.call(this)},f.prototype.checkElements=function(){var t=this;s("body").click(function(e){t.validateTextElements()||t.disableProcessBtn(p.Lang.t("No text or image found"))})},f.prototype.validateTextElements=function(){var e=s(".editor__content .text");if(0==e.length)return!0;var n={};try{e.each(function(e,t){if(""!==s(t).html())throw n})}catch(e){if(e!==n)throw e;return!0}return!1},f.prototype.renderFileEditor=function(n){var i=this;return this.rendering=!0,new Promise(function(e,t){s("#editor_page").val(i.page),s("#editor_pages").html(i.files.files.length.toString()),n||t(),s("#file").addClass("loading"),(null!=n.url?i.viewManager.renderUrl(n.id,"file",!0):i.viewManager.renderImage(n.id,"file",!0)).then(function(){i.renderFileElementArray(n),i.loadingEnd(),i.rendering=!1,s("#file").removeClass("loading"),e({})}).catch(function(){i.rendering=!1,s("#file").removeClass("loading"),t()})})},f.prototype.renderFileElementArray=function(e){e=e.elementArray||[];this.hideAllFileElementArray(),e.forEach(function(e){e.show()})},f.prototype.hideAllFileElementArray=function(){this.files.files.forEach(function(e){(e.elementArray||[]).forEach(function(e){return e.hide()})})},f.prototype.onRenderFile=function(){},f.prototype.fileReady=function(i){a.prototype.fileReady.call(this,i);var e,t,o=this;s(".page_status").hide(),0==this.limits.isIgnored(i.id)&&(this.currentFile=i,this.page=1,this.pages=0,s.each(this.files.files,function(e,t){0==o.limits.isIgnored(t.id)&&o.pages++}),e=Math.max(s(".editor__container").width(),s(".editor__container").height()),t=Math.max(i.width,i.height),o.files.updateFile(i.id,{scale:t/e}),this.renderFileEditor(i).then(function(){o.fileRendered(i)},function(){}),s(".file_count").html(this.pages.toString()),s("#editor_file_select").append('<option value="'+i.id+'" selected="selected">'+i.name+"</option>"),s("#cover-"+i.id).on("click",function(e){o.currentFile=i,o.saveGravityTemp();var t=s(this).attr("id").replace("cover-",""),n=o.files.getFileIndex(t);o.page=n+1,o.renderFileEditor(o.files.getFile(t)).then(function(){o.setGravityTemp()},function(){})}))},f.prototype.fileRendered=function(e){},f.prototype.fileRemoved=function(e){a.prototype.fileRemoved.call(this,e),s("#editor_file_select").html(""),s.each(this.files.files,function(e,t){s("#editor_file_select").append('<option value="'+t.id+'" selected="selected">'+t.name+"</option>")}),this.pages=this.files.files.length,this.page>this.pages&&this.page--,0<this.files.files.length&&(e=this.files.files[this.page-1],this.currentFile=e,this.renderFileEditor(e))},f.prototype.fileChanged=function(e){a.prototype.fileChanged.call(this,e),1==this.processDisabledUploading||this.processBlock||(0==this.files.countNotIgnored()?s(".tool__workarea__rendered").hide():s(".tool__workarea__rendered").css("display","flex").hide().fadeIn(),0<s(".editor__content .editor__content__item").length?this.enableProcessBtn():this.disableProcessBtn(p.Lang.t("Add an element")))},f.prototype.getElement=function(n){var i=null;return s.each(this.elements,function(e,t){if(t.id==n)return i=t,!1}),i},f.prototype.setEditElement=function(){this.setEditElementContent()},f.prototype.setEditElementContent=function(){},f.prototype.getElementSizeFactorial=function(){return 1},f.prototype.beforeProcess=function(){var a=this;return new Promise(function(e,t){a.options.elements=[];var r=a.getElementSizeFactorial(),n=(a.setOption("factorial",r),s(".editor__content .editor__content__item").each(function(e,t){var n=a.getElement(s(t).attr("id"));if(0!=n){var i,o=null;try{o=n.getGravityData()}catch(t){return}"fileId"in o&&(i=a.files.getFile(o.fileId),o.server_filename=i.server_filename,a.options.elements.push(o)),"text"==o.type?(a.textUploader.uploader.start(),a.textUploader.uploader.addFile(n.getTextImage(r)),"transparent"!=o.background_color&&"transparent"!=n.backgroundColor&&(a.textUploader.uploader.addFile(n.getSquareImage(r)),i=n.getSquareData(o),a.textImagesPending.push(i.id),"NorthNorth"==o.gravity&&a.setOption("extra_north",o.extra_north),"SouthSouth"==o.gravity&&a.setOption("extra_south",o.extra_south),i.gravity=i.gravity.replace("NorthNorth","North").replace("SouthSouth","South"),a.options.elements.push(i)),""!=o.text&&(i=n.getImageData(o),a.textImagesPending.push(i.id),i.gravity=i.gravity.replace("NorthNorth","North").replace("SouthSouth","South"),a.options.elements.push(i))):a.options.elements.push(o)}}),window.setInterval(function(){0==a.textImagesPending.length&&(window.clearTimeout(n),e({}))},500))})},f.prototype.saveGravityTemp=function(){var n=this;1!=window.editorChanged&&null!=this.gravity||(this.gravity=[],s.each(n.elements,function(e,t){n.gravity.push(t.getGravityData()),s("#"+t.id).hide()}),window.editorChanged=!1)},f.prototype.setGravityTemp=function(){var n=this;s.each(n.elements,function(e,t){n.gravity&&n.gravity[e]&&t.applyGravity(n.gravity[e]),s("#"+t.id).show()})},f.prototype.checkProcessOnClick=function(){var e=this;s("#editor").on("click",function(){0<s(".editor__content .editor__content__item").length?e.enableProcessBtn():e.disableProcessBtn(p.Lang.t("Add an element"))})},f.prototype.fileAdded=function(e,t,n){return void 0===n&&(n=!1),"picktextwatermark"==t?(this.limits.addIgnoredFile(e.id),this.processManager.addIgnoredFile(e.id),this.files.updateFile(e.id,{ignored:!0}),new Promise(function(e,t){e({})})):a.prototype.fileAdded.call(this,e,t,n)},f.prototype.fileUploaded=function(e,t){var o=this,r=this.files.updateFile(e,t);if(null!=r&&"upBy"in r&&"picktextwatermark"==r.upBy)for(var n=o.textImagesPending.length-1;0<=n&&"break"!==function(e){var n,t=o.textImagesPending[e]+"-w-"+o.textImagesPending[e]+".png",i=o.textImagesPending[e]+"-w-"+o.textImagesPending[e]+".png";if(t===r.name||i==r.name)return n=o.textImagesPending[e],s.each(o.options.elements,function(e,t){if(t.id==n)return o.options.elements[e].server_filename=r.server_filename,!1}),o.textImagesPending.splice(e,1),"break"}(n);n--);else a.prototype.fileUploaded.call(this,e,t)},f);function f(e){e=a.call(this,e=void 0===e?{}:e)||this;return e.page=1,e.space=20,e.pages=null,e.elements=[],e.currentFile=null,e.rendering=!1,e.gravity=null,e.processDisabledUploading=!1,e.changed=!1,e.textUploader=null,e.uploader=null,e.textImagesPending=[],g(257),e}h.EditorOptionsManager=t}.call(this,g(1))},function(e,t,n){"use strict";!function(n){function e(){}Object.defineProperty(t,"__esModule",{value:!0}),t.Toolbar=void 0,e.init=function(){var t=1==n("body").hasClass("rtl")?"left":"right";1!=window.toolbarStarted&&(window.toolbarStarted=!0,n(".editor__toolbar__options").hide(),n(".tool__workarea").on("scroll",function(){var e=n(this).scrollTop();!(e+n(this).innerHeight()>=n(this)[0].scrollHeight)&&e<=16+n(".add").height()?n(".editor__toolbar").removeClass("fixed").css("margin-"+t,""):n(".editor__toolbar").addClass("fixed").css("margin-"+t,n("#sidebar").width()+1+"px")}),n(".editor__toolbar__options#fileSelectorToolbar").css("display","flex"))},e.refresh=function(){window.removeEventListener("resize",e.setToolbar),window.addEventListener("resize",e.setToolbar),e.setToolbar()},e.setToolbar=function(){var e=1==n("body").hasClass("rtl")?"left":"right";n(".editor__toolbar").addClass("fixed").css("margin-"+e,n("#sidebar").width()+1+"px")},e.show=function(e){n(".editor__toolbar__options").hide(),n(".editor__toolbar__options#"+e).css("display","flex")},e.hide=function(){n(".editor__toolbar__options").hide(),n(".editor__toolbar__options#fileSelectorToolbar").css("display","flex")},t.Toolbar=e}.call(this,n(1))},function(e,d,p){"use strict";!function(_){var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),e=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=(Object.defineProperty(d,"__esModule",{value:!0}),d.EditElement=void 0,p(33)),s=p(186),l=p(103),c=p(13),u=e(p(23)),t=p(258);function n(e){var n=this;this.listenable=new t.Listenable,this.remove=function(){n.deleted||(_("#"+n.id+"Toolbar").hide(),document.querySelector("#"+n.id).remove(),n.deleted=!0,n.changed(),n.removeSuprEventListener(),n.dispatchEvent("remove"))},this.hide=function(){n.deleted||(_("#"+n.id+"Toolbar").hide(),_("#"+n.id).hide(),n.changed())},this.show=function(){n.deleted||(_("#"+n.id).show(),n.changed())},this.addSuprEventListener=function(){"blur"===n.type&&document.addEventListener("keydown",n.suprEventHandler)},this.removeSuprEventListener=function(){document.removeEventListener("keydown",n.suprEventHandler)},this.suprEventHandler=function(e){var t=null!==document.querySelector("#"+n.id+".editor__content__item.active");"Backspace"!==e.key&&"Delete"!==e.key||!t||n.remove()},this.getImageSize=function(){var e;return"blur"!==n.type?[_("#file").width(),_(".editor__content").height()]:[e=_("#file").width(),e/((e=_("#"+n.fileId)).data("width")/e.data("height"))]},this.id=r.Tools.randomId(),this.draggable=!1,this.rotable=!1,this.resizable=!1,this.resizableAspectRatio=!1,this.type=null,this.imgSrc="/img/iloveimg.png",this.fileId=null,this.toolbar=null,this.text=null,this.rotation=0,this.rotationRadians=0,this.width="auto",this.height="auto",this.width_container="auto",this.height_container="auto",this.top=20,this.left=20,this.right=null,this.bottom=null,this.zoom=null,this.xPos=0,this.yPos=0,this.xZone=0,this.yZone=0,this.fontFamily="Arial",this.opacity=100,this.fontSize=48,this.fontColor="white",this.fontColorShadow="black",this.backgroundColor="transparent",this.textAlign="center",this.bold=!1,this.underline=!1,this.italic=!1,this.svg=null,this.onRotateEnd=null,this.onResizeEnd=null,this.onResizeStart=null,this.onDragEnd=null,this.limitToPixelate=null,this.restrict=!0,this.autoAlignOnZone=!1,this.textEnabled=!0,this.starting_number=null,this.allowAutoWidth=!1,this.disableMultilineText=!1,Object.assign(this,e),0==_("#"+this.id).length&&this.makeView(),null!=this.text&&_("#"+this.id+" .text").html(this.text),this.deleted=!1}p(94),n.prototype.changed=function(){window.editorChanged=!0},n.prototype.makeView=function(){var n=this;_("#"+this.type+"ToolbarTemplate").clone().attr("id",this.id+"Toolbar").appendTo(_(".editor__toolbar"));_("#"+this.type+"EditorTemplate").clone().attr("id",this.id).appendTo(_(".editor__content"));var e=_("#"+this.id);_("#"+this.id+"Toolbar").find('[id*="Template"]').each(function(e,t){_(t).attr("id",_(t).attr("id").replace("Template",n.id))}),e.find('[id*="Template"]').each(function(e,t){_(t).attr("id",_(t).attr("id").replace("Template",n.id))}),"image"==this.type&&(_("#"+this.id+" img").attr("src",this.imgSrc),e.data("file",this.fileId)),1==window.gifMode&&_(".opacity-option").hide(),this.changed()},n.prototype.getId=function(){return this.id},n.prototype.setId=function(e){0<_("#"+this.id).length&&_("#"+this.id).attr("id",e),this.id=e},n.prototype.initStyle=function(){var t=this,e={width:this.width,height:this.height,opacity:0},n=(e.top=this.top,null==this.bottom?e.top=this.top||0:(e.bottom=this.bottom,e.top="auto"),null!=this.right&&(e.right=this.right),null!=this.left?e.left=this.left:null==this.right&&(e.left=0),"text"==this.type&&(e.width=this.width_container,e.height=this.height_container,n={"font-family":this.fontFamily,"font-size":this.fontSize+"px","text-align":this.textAlign,width:this.width,height:this.height,color:this.fontColor,"text-shadow":this.fontColorShadow+" -1px 0px, "+this.fontColorShadow+" 0px 1px, "+this.fontColorShadow+" 1px 0px, "+this.fontColorShadow+" 0px -1px"},_("#"+this.id+" .text").css(n)),_("#"+this.id).css(e),_("#"+this.id+"Toolbar")),e=_("#"+this.id);n.find('[name="font_size"]').val(this.fontSize),n.find('[name="font_size_number"]').val(this.fontSize);try{n.find('[name="font_family"]').val(this.fontFamily.toLowerCase()),n.find(".font-selected").html(this.fontFamily).css("font-family",this.fontFamily.toLowerCase())}catch(e){u.captureMessage("Error set font family"),u.configureScope(function(e){e.setExtra("fontFamily",t.fontFamily)})}n.find('[name="font_color"]').val(this.fontColor),n.find('[name="font_color_shadow"]').val(this.fontColorShadow),n.find('[name="background"]').val(this.backgroundColor),e.find(".editor__content__item__content").css({background:this.backgroundColor,opacity:1<this.opacity?parseInt(this.opacity.toString())/100:this.opacity}),e.css("opacity",1),"blur"===this.type&&(_("#"+this.id).css({width:this.width,height:this.height}),e.find(".editor__content__item__content").css({"backdrop-filter":"blur(12px)",width:"100%",height:"100%"}))},n.prototype.focusAndSelect=function(){var n;"text"==this.type&&this.textEnabled&&(n=_("#"+this.id+" .text")[0],window.setTimeout(function(){var e,t;window.getSelection&&document.createRange?((t=document.createRange()).selectNodeContents(n),(e=window.getSelection()).removeAllRanges(),e.addRange(t)):document.body.createTextRange&&((t=document.body.createTextRange()).moveToElementText(n),t.select())},1))},n.prototype.initElementActions=function(){_(".editor__content #"+this.id+".editor__content__item").show(),"image"==this.type&&_("#"+this.id+" img").height()>_(".editor__content").height()&&"auto"===this.height&&(_("#"+this.id+" img").css("height",_(".editor__content").height()+"px"),_("#"+this.id+" .editor__content__item__content").css("width",_("#"+this.id+" img").css("width"))),_("#"+this.id+" .editor__content__item__content").css("opacity",1),1==this.rotable&&!0!==window.gifMode&&this.makeRotable(),1==this.draggable&&(this.makeDraggable(),this.adddDraggableKeyControl()),1==this.resizable&&this.makeResizable(),this.focusAndSelect()},n.prototype.initActions=function(){var i;1!=window.editElementInit&&(window.editElementInit=!0,i=this,_("body").on("mousedown",function(e){if(_(e.target).hasClass("text"))_(e.target).attr("contenteditable",i.textEnabled.toString());else if(0<_('[data-value="outside"]').length&&1==_('[data-value="outside"]').hasClass("option--active")){_("#elementTop, #elementBottom").draggable({disabled:!0});try{var t=_(".editor__content .editor__content__item").not("#elementTop, #elementBottom");t.draggable({disabled:!1}),t.find(".editor__content__item__content").resizable({disabled:!0})}catch(e){}}else try{_(".editor__content .editor__content__item").draggable({disabled:!1}),_(".editor__content .editor__content__item__content").resizable({disabled:!1})}catch(e){}}),_("body").click(function(e){var t=_(e.target).closest(".editor__content__item"),n=_(e.target).closest(".editor__toolbar__options"),t=(_(".editor__content .editor__content__item").removeClass("active"),_(e.target).hasClass("text")||_(".text").removeClass("active"),1==t.length&&1==i.textEnabled?(t.addClass("active"),t=t.attr("id"),s.Toolbar.show(t+"Toolbar")):1!=n.length&&s.Toolbar.hide(),_(e.target).closest(".editor__toolbar__option"));1==t.length?_(e.target).is(".editor__option__selector")||1==_(e.target).parents(".editor__option__selector").length?((n=t.children(".editor__option__content")).toggle(),_(".editor__option__content").not(n).hide()):_(e.target).is(".editor__option__content")||1==_(e.target).parents(".editor__option__content").length||_(".editor__option__content").hide():_(".editor__option__content").hide()}))},n.prototype.select=function(){var e=this;_("#"+e.id+"Toolbar").show(),setTimeout(function(){_("#"+e.id).trigger("click")},300)},n.prototype.widthWrap=function(){var e=_("#"+this.id),t=_("#"+this.id+" .editor__content__item__content"),n=_("#"+this.id+" .text");n.outerWidth()>e.width()&&(t.css("width",n.width()+"px"),e.css("width",n.width()+"px"))},n.prototype.autoWidth=function(){var e,t,n;!0===this.allowAutoWidth&&(e=_("#"+this.id),t=_("#"+this.id+" .editor__content__item__content"),n=(n=_("#"+this.id+" .text")).outerWidth()-n.width(),n=l.TextHelper.width(t.html())+n,t.width()<n)&&(this.width=n,this.width_container=n,t.css("width",n+"px"),e.css("width",n+"px"))},n.prototype.initToolbarActions=function(){var n=this,t=_("#"+this.id+"Toolbar"),i=this,o=t.find('[name="font_size"]'),r=(o.on("keyup mouseup",function(e){i.fontSize=parseInt(o.val().toString()),_("#"+i.id+" .text").css("font-size",o.val()+"px"),t.find('[name="font_size_number"]').val(i.fontSize),i.widthWrap(),i.autoWidth(),i.changed()}),t.find('[name="font_size_number"]').on("keyup mouseup",function(e){100<parseInt(r.val().toString())&&r.val(100),i.fontSize=parseInt(r.val().toString()),t.find('[name="font_size"]').val(i.fontSize),_("#"+i.id+" .text").css("font-size",r.val()+"px"),i.widthWrap(),i.autoWidth(),i.changed()})),e=t.find(".font-selector"),a=(e.on("click",function(e){var t;_(e.target).hasClass("disabled")||(i.fontFamily=_(e.target).data("value"),t=_(e.target).html(),_(".font-selector").removeClass("active"),_(e.target).addClass("active"),_("#"+i.id+" .text").css("font-family",i.fontFamily),_("#"+i.id+"Toolbar .font-selected").css("font-family",i.fontFamily).html(t),t=_(e.target).data("country"),_("#"+i.id+"Toolbar .font-selected").attr("data-country",t),_(e.target).parent().hide(),1==_(e.target).data("italic")?(_(".editor__option.italic").parent().show(),_("#"+i.id+" .text").css("font-style",1==i.italic?"italic":"normal")):(_(".editor__option.italic").parent().hide(),_("#"+i.id+" .text").css("font-style","normal")),1==_(e.target).data("bold")?(_(".editor__option.bold").parent().show(),_("#"+i.id+" .text").css("font-weight",1==i.bold?"700":"400")):(_(".editor__option.bold").parent().hide(),_("#"+i.id+" .text").css("font-weight","")),i.changed())}),t.find('[name="font_color"]')),s=(a.on("change",function(){i.fontColor=a.val().toString(),_("#"+i.id+" .text").css("color",a.val().toString()),i.changed()}),t.find('[name="font_color_shadow"]')),l=(s.on("change",function(){var e=s.val();i.fontColorShadow=s.val().toString(),_("#"+i.id+" .text").css("text-shadow","-1px 0 "+e+", 0 1px "+e+", 1px 0 "+e+", 0 -1px "+e),i.changed()}),t.find(".tofront").on("click",function(){_(".editor__content").append(_("#"+i.id)),i.changed()}),t.find(".bold")),c=(l.on("click",function(e){i.bold=!i.bold,1==i.bold?l.parent().addClass("active"):l.parent().removeClass("active"),_("#"+i.id+" .text").css("font-weight",1==i.bold?"700":"400"),i.changed()}),t.find(".underline")),u=(c.on("click",function(e){i.underline=!i.underline,1==i.underline?c.parent().addClass("active"):c.parent().removeClass("active"),_("#"+i.id+" .text").css("text-decoration",1==i.underline?"underline":"none"),i.changed()}),t.find(".italic")),d=(u.on("click",function(e){i.italic=!i.italic,1==i.italic?u.parent().addClass("active"):u.parent().removeClass("active"),_("#"+i.id+" .text").css("font-style",1==i.italic?"italic":"normal"),i.changed()}),t.find('input[name="background"]')),p=(d.on("change",function(e){var t=0===(t=d.spectrum("get"))._a?"transparent":t.toHexString();d.val(t),n.backgroundColor=t,_("#"+i.id+" .editor__content__item__content").css("background",t),i.changed()}),t.find('input[name="opacity"]')),f=(p.on("change keyup mouseup",function(e){i.opacity=parseInt(p.val().toString()),t.find('[name="opacity_text"]').val(i.opacity),_("#"+i.id+" .editor__content__item__content").css("opacity",parseInt(i.opacity.toString())/100),i.changed()}),t.find('input[name="opacity_text"]'));f.on("change keyup mouseup",function(e){i.opacity=parseInt(f.val().toString()),t.find('[name="opacity"]').val(i.opacity),_("#"+i.id+" .editor__content__item__content").css("opacity",parseInt(i.opacity.toString())/100),i.changed()}),t.find(".toolbar-remove").on("click",this.remove),t.find(".textAlign").on("click",function(e){e=_(e.target).closest(".editor__toolbar__option"),_("#"+i.id+"Toolbar .textAlign").removeClass("active"),e.addClass("active"),e=e.data("align");_("#"+i.id+" .text").css("text-align",e),_("#"+i.id+" .editor__content__item__content").css("text-align",e),i.textAlign=e,i.changed()})},n.prototype.init=function(){_("#"+this.id+"Toolbar input.color").not("no-picker").each(function(e,t){r.Tools.colorpicker(t)}),this.initActions(),this.initElementActions(),this.initToolbarActions()},n.prototype.makeResizable=function(){var o=this;_("#"+this.id+" .editor__content__item__content").resizable({handles:"all",minHeight:1==_("#"+o.id+" .text").length?_("#"+o.id+" .text").innerHeight():10,maxWidth:1==o.restrict&&_("#"+o.id+" .editor__content").width(),aspectRatio:o.resizableAspectRatio,containment:1==o.restrict&&_("#"+this.id+" .editor__content"),resize:function(e,t){t.element.parent().css({width:t.size.width,height:t.size.height}),t.element.find("img").css({width:t.size.width,height:t.size.height})},start:function(e,t){var n;1==_("#"+o.id+" .text").length&&(n=_("#"+o.id+" .text").innerHeight(),_("#"+o.id+" .editor__content__item__content").resizable("option","minHeight",n)),o.resizeStart(e,t)},stop:function(e,t){var n=_("#"+o.id+" .editor__content__item__content"),i=_("#"+o.id+".editor__content__item");i.css({width:t.size.width,left:parseInt(i.css("left"))+parseInt(n.css("left"))+"px",top:parseInt(i.css("top"))+parseInt(n.css("top"))+"px"}),n.css({left:0,top:0}),o.resizeEnd(e,t)},create:function(e,t){1==o.restrict&&_("#"+o.id+" .ui-resizable-handle").on("mousedown",function(){_("#"+o.id+" .editor__content__item__content").css({left:_("#"+o.id).css("left"),top:_("#"+o.id).css("top")}),_("#"+o.id).css({top:0,left:0,width:"100%"})}),_("#"+o.id+" .editor__content__item__content").css("width",_("#"+o.id+" .editor__content__item__content").width()+"px")}})},n.prototype.makeRotable=function(){var n=this,e=_("#"+this.id+" .editor__content__item__content");e.addClass("ui-rotatable"),e.rotatable({stop:function(e,t){n.rotateEnd(e,t)}})},n.prototype.makeDraggable=function(){var n=this,i=this,o=(_("#"+this.id+".editor__content__item").draggable({scroll:!1,cancel:".ui-rotatable-handle",containment:1==i.restrict&&_(".editor__content"),drag:function(){_("#"+this.id+" .text").addClass("drag").removeClass("active")},stop:function(e,t){i.dragEnd(e,t),_("#"+this.id).css("bottom",""),i.changed()},beforeStart:function(){}}),_("#"+this.id+" .text"));0<o.length&&(o.on("mouseup",function(e){var t,n=_("#"+i.id+" .text");0==i.textEnabled?n.attr("contenteditable","false"):(n.attr("contenteditable","true"),t=o.parent().parent(),n.hasClass("drag")?(n.removeClass("drag"),t.draggable({disabled:!1})):(n.addClass("active").trigger("click"),t.draggable({disabled:!0})))}),o.on("keyup",function(e){var t;0==i.textEnabled?_("#"+i.id+" .text").attr("contenteditable","false"):(1==i.disableMultilineText&&o.html()!=(t=i.clearMultilineText(o.html()))&&o.html(t),i.widthWrap(),i.autoWidth(),t=_("#infoCharacters"),c.Lang.hasChineseCharacters(o.html())||c.Lang.hasJapanCharacters(o.html())?(t.show(),i.haveFontSelected("CN")||(_("#"+i.id+'Toolbar .font-selector[data-country*="CN"]').first().trigger("click"),i.disableNotFont("CN"))):c.Lang.hasHindiCharacters(o.html())?(t.show(),i.haveFontSelected("IN")||(_("#"+i.id+'Toolbar .font-selector[data-country*="IN"]').first().trigger("click"),i.disableNotFont("IN"))):c.Lang.hasArabicCharacters(o.html())?(t.show(),i.haveFontSelected("AR")||(_("#"+i.id+'Toolbar .font-selector[data-country*="AR"]').first().trigger("click"),i.disableNotFont("AR"))):(t.hide(),i.enbaleFont(),_("#"+i.id+"Toolbar .font-selected").removeClass("disabled")),_("#"+i.id+" .editor__content").hasClass("fixed")?_("#"+i.id+" .editor__content__item").height("auto"):_("#"+i.id+" .editor__content__item").height(Math.max(_("#"+n.id+" .editor__content__item").height(),o.height())),i.changed())}),o.on("focusout",function(){var e=o.html().replace(/(<span[^>]+>([^<]+)<\/span>)/g,"$2").replace("<b>","").replace("</b>","").replace("&nbsp;<","<").replace(">&nbsp;",">");o.html(e)}),o[0].addEventListener("paste",function(e){e.preventDefault();e=e.clipboardData.getData("text/plain");document.execCommand("insertHTML",!1,e),i.changed()})),this.addSuprEventListener()},n.prototype.haveFontSelected=function(e){return 1==_("#"+this.id+'Toolbar .font-selected[data-country*="'+e+'"]').length},n.prototype.enbaleFont=function(e){(null==(e=void 0===e?null:e)?_("#"+this.id+"Toolbar .font-selector"):_("#"+this.id+'Toolbar .font-selector[data-country*="'+e+'"]')).removeClass("disabled")},n.prototype.disableNotFont=function(e){var t=_("#"+this.id+"Toolbar .font-selector");t.removeClass("disabled"),t.not('[data-country="ALL"],[data-country*="'+e+'"]').addClass("disabled")},n.prototype.rotateEnd=function(e,t){this.rotationRadians=t.angle.current,t.angle.current<0?this.rotation=360-t.angle.degrees:this.rotation=t.angle.degrees,null!=this.onRotateEnd&&this.onRotateEnd(e,t),this.changed()},n.prototype.resizeEnd=function(e,t){this.zoom=t.size.width*this.zoom/t.originalSize.width,this.setElementPosition(),null!=this.onResizeEnd&&this.onResizeEnd(e,t,this),this.changed()},n.prototype.resizeStart=function(e,t){null==this.zoom&&(this.zoom=1),null!=this.onResizeStart&&this.onResizeStart(e,t)},n.prototype.dragEnd=function(e,t){this.setElementPosition(),null!=this.onDragEnd&&this.onDragEnd(e,t,this),this.changed()},n.prototype.setElementPosition=function(){var e,t,n,i,o=_("#"+this.id+".editor__content__item");o&&(n=o.width(),i=o.height(),e=parseInt(o.css("left")),t=parseInt(o.css("top")),o.position())&&(isNaN(e)&&(e=o.position().left),isNaN(t)&&(t=o.position().top),this.top=t,this.left=e,o=_(".editor__content").width(),i=(i=(t+i/2)/(_(".editor__content").height()/3))<1?0:i<2?1:2,this.xZone=n=(n=(e+n/2)/(o/3))<1?0:n<2?1:2,this.yZone=i,1==this.autoAlignOnZone&&(0==this.xZone?(this.textAlign="left",_("#"+this.id+" .text").css("text-align","left")):1==this.xZone?(this.textAlign="center",_("#"+this.id+" .text").css("text-align","center")):2==this.xZone&&(this.textAlign="right",_("#"+this.id+" .text").css("text-align","right"))),n=100*e/(o=_("#file")).width(),i=100*t/o.height(),this.xPos=n,this.yPos=i)},n.prototype.getData=function(){this.setElementPosition();var e=this.getImageSize(),t=e[0],e=e[1];if(1==this.deleted)return null;this.width=_("#"+this.id+" .editor__content__item__content>*").width(),this.height=_("#"+this.id+" .editor__content__item__content>*").height();var n,i,o,r={id:this.id,width_percent:100*this.width/t,height_percent:100*this.height/e,width_px:this.width,height_px:this.height,y_pos_percent:this.yPos,x_pos_percent:this.xPos,opacity:this.opacity,transparency:this.opacity,top:this.top,left:this.left,type:this.type,rotation:!0===window.gifMode?0:this.rotation,image_w:t,image_h:e};return"image"==this.type&&(i={zoom:null==this.zoom?1:this.zoom,fileId:this.fileId},Object.assign(r,i)),"blur"===this.type&&(r=a(a({},r),{fileId:this.fileId})),"text"==this.type&&(parseInt(_("#"+this.id+" .text").css("font-size")),this.width_container=_("#"+this.id).width(),this.height_container=_("#"+this.id).height(),this.width=_("#"+this.id+" .editor__content__item__content .text").width(),this.height=_("#"+this.id+" .editor__content__item__content .text").height(),this.width_px=this.width,this.height_px=this.height,i=(this.width_container-this.width)/2,n=(this.height_container-this.height)/2,isNaN(i)&&(i=0),isNaN(n)&&(n=0),n=r.top+n,i=r.left+i,o=_("#"+this.id+" .text").html(),o=this.clearMultilineText(o),_("#"+this.id+" .text").html(o),this.setLineBreak("#"+this.id+" .text"),o=(o=_("#"+this.id+" .text").html()).replace(/<br>/g,"\\n").replace(/\&nbsp;/g," ").replace(/<\/?[^>]+(>|$)/g,""),o={top_container:r.top,left_container:r.left,top:n,left:i,text:o,font_family:this.fontFamily,font_color:this.fontColor,border_color:this.fontColorShadow,border:1,font_color_shadow:this.fontColorShadow,background_color:this.backgroundColor,font_size:this.fontSize,bold:this.bold,underline:this.underline,italic:this.italic,text_align:this.textAlign,width_container_px:this.width_container,height_container_px:this.height_container,width_container_percent:100*this.width_container/t,height_container_percent:100*this.height_container/e,y_pos_container_percent:r.y_pos_percent+0,x_pos_container_percent:r.x_pos_percent+0,y_pos_percent:100*n/_("#file").height(),x_pos_percent:100*i/_("#file").width()},Object.assign(r,o)),r},n.prototype.clearMultilineText=function(e){return e=(1==this.disableMultilineText?e.replace("<br>"," ").replace(/\n/g," ").replace(/<div>/g," "):e.replace(/<div>/g,"<br>")).replace(/<\/div>/g,"").replace(/\&nbsp;/g," ")},n.prototype.getGravityData=function(){var e={gravity:"",vertical_adjustment:0,horizontal_adjustment:0};switch(this.getData(),Object.assign(e,this.getData()),e.gravity="",this.yZone){case 0:e.gravity+="North",e.vertical_adjustment=e.top;break;case 1:e.vertical_adjustment=e.top+e.height_px/2-e.image_h/2;break;case 2:e.gravity+="South",e.vertical_adjustment=e.image_h-(e.top+e.height_px)}switch(this.xZone){case 0:e.gravity+="West",e.horizontal_adjustment=e.left;break;case 1:e.horizontal_adjustment=e.left+e.width_px/2-e.image_w/2;break;case 2:e.gravity+="East",e.horizontal_adjustment=e.image_w-(e.left+e.width_px)}if(1==this.xZone&&1==this.yZone&&(e.gravity="Center"),"text"==e.type){switch(this.yZone){case 0:e.vertical_adjustment_container=e.top_container,e.vertical_adjustment=e.top;break;case 1:e.vertical_adjustment_container=e.top_container+e.height_container_px/2-e.image_h/2,e.vertical_adjustment=e.top+e.height_px/2-e.image_h/2;break;case 2:e.vertical_adjustment_container=e.image_h-(e.top_container+e.height_container_px),e.vertical_adjustment=e.image_h-(e.top+e.height_px)}switch(this.xZone){case 0:e.horizontal_adjustment_container=e.left_container,e.horizontal_adjustment=e.left;break;case 1:e.horizontal_adjustment_container=e.left_container+e.width_container_px/2-e.image_w/2,e.horizontal_adjustment=e.left+e.width_px/2-e.image_w/2;break;case 2:e.horizontal_adjustment_container=e.image_w-(e.left_container+e.width_container_px),e.horizontal_adjustment=e.image_w-(e.left+e.width_px)}e.vertical_adjustment_container_percent=100*e.vertical_adjustment_container/_("#file").height(),e.horizontal_adjustment_container_percent=100*e.horizontal_adjustment_container/_("#file").width()}return e.vertical_adjustment_percent=100*e.vertical_adjustment/_("#file").height(),e.horizontal_adjustment_percent=100*e.horizontal_adjustment/_("#file").width(),e.xZone=this.xZone,e.yZone=this.yZone,e.pixelMode=1,e=this.memeModGravity(e),null!=this.starting_number&&(e.starting_number=this.starting_number),e},n.prototype.memeModGravity=function(e){return"outside"==_(".option--active").data("value")&&("elementTop"==this.id?e.gravity="NorthNorth":"elementBottom"==this.id&&(e.gravity="SouthSouth"),"NorthNorth"!=e.gravity&&"SouthSouth"!=e.gravity||"transparent"==e.background_color&&(e.background_color="white",this.backgroundColor="white"),"NorthNorth"==e.gravity&&(e.extra_north=100*_("#"+this.id).height()/_("#file").height()),"SouthSouth"==e.gravity)&&(e.extra_south=100*_("#"+this.id).height()/_("#file").height()),e},n.setPreviewZones=function(){_(".editor__content").append('<div class="zones"></div>');for(var e=0;e<3;e++)for(var t=0;t<3;t++)_(".editor__content .zones").append('<div class="zones__zone'+e+t+'"></div>')},n.prototype.adddDraggableKeyControl=function(){!0!==window.dragKeyAdded&&(window.dragKeyAdded=!0,_("body").on("keydown",function(e){if(0<_(".text.active").length)return!0;var t,n=_(".editor__content .editor__content__item.ui-draggable.active"),i=_(".editor__content .editor__content"),o=1;e.shiftKey&&(o=10);t=n.position();try{switch(e.keyCode){case 37:t.left-=o;break;case 38:t.top-=o;break;case 39:t.left+=o;break;case 40:t.top+=o;break;default:return!0}0<=t.left&&0<=t.top&&t.left+n.width()<=i.width()&&t.top+n.height()<=i.height()&&n.css(t)}catch(e){}e.target.isContentEditable||e.preventDefault()}))},n.prototype.getRotationAdjust=function(e,t){e=Math.abs(e);return{w:t.w*Math.cos(e)+t.h*Math.sin(e),h:t.w*Math.sin(e)+t.h*Math.cos(e)}},n.setGifMode=function(){window.gifMode=!0,_(".opacity-option").hide(),_(".opacity-option input").val(100).change(),_(".editor__content__item__content").css("transform",""),_(".ui-rotatable-handle").hide()},n.prototype.applyGravity=function(e){this.opacity=e.opacity,this.rotation=e.rotation;var t=_("#file"),n=t.width(),i=t.height(),o=e.horizontal_adjustment,r=e.vertical_adjustment,a=e.width_px,s=e.height_px;switch("text"==e.type&&(o=e.horizontal_adjustment_container,r=e.vertical_adjustment_container,a=e.width_container_px,s=e.height_container_px),this.yZone){case 0:this.top=r;break;case 1:this.top=i/2+r-s/2;break;case 2:this.top=i-r-s}switch(this.xZone){case 0:this.left=o;break;case 1:this.left=n/2+o-a/2;break;case 2:this.left=n-o-a}this.initStyle()},n.prototype.setLineBreak=function(e){e=_(e);return RegExp.escape=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},e.each(function(){for(var e=_(this),t=e.html(),n=t.split(" "),i=(e.html(n[0]),e.height()),o=1;o<n.length;o++)e.height()>i?(i=e.height(),e.html(e.html().replace(new RegExp("\\s"+RegExp.escape(n[o-1])+"$"),"<br>"+n[o-1])+" "+n[o])):(e.html(e.html()+" "+n[o]),-1!=n[o].indexOf("<br>")&&(i=e.height()));e.height()>i&&e.html(e.html().replace(new RegExp("\\s"+RegExp.escape(n[n.length-1])+"$"),"<br>"+n[n.length-1])),e.html()}),""},n.prototype.cloneStyle=function(e){this.rotation=e.rotation,this.rotationRadians=e.rotationRadians,this.width=e.width,this.height=e.height,this.width_container=e.width_container,this.height_container=e.height_container,this.top=parseInt(e.top.toString())+100,this.left=parseInt(e.left.toString())+100,this.right=null,this.bottom=null,this.zoom=e.zoom,this.xPos=e.xPos,this.yPos=e.yPos,this.xZone=0,this.yZone=0,this.fontFamily=e.fontFamily,this.opacity=e.opacity,this.fontSize=e.fontSize,this.fontColor=e.fontColor,this.fontColorShadow=e.fontColorShadow,this.backgroundColor=e.backgroundColor,this.textAlign=e.textAlign,this.bold=e.bold,this.underline=e.underline,this.italic=e.italic},n.prototype.getImageData=function(e){e={id:this.id,type:"image",gravity:e.gravity,height_percent:e.height_percent,height_px:e.height_px,horizontal_adjustment:e.horizontal_adjustment,horizontal_adjustment_percent:e.horizontal_adjustment_percent,left:e.left,top:e.top,opacity:e.opacity,rotation:e.rotation,vertical_adjustment:e.vertical_adjustment,vertical_adjustment_percent:e.vertical_adjustment_percent,width_percent:e.width_percent,width_px:e.width_px,x_pos_percent:e.x_pos_percent,y_pos_percent:e.y_pos_percent,pixel_mode:1,color_shadow:e.font_color_shadow,zoom:1};return this.adjustRotation(e)},n.prototype.getSquareData=function(e){e={id:this.id+"f",type:"image",gravity:e.gravity,height_percent:e.height_container_percent,height_px:e.height_container_px,horizontal_adjustment:e.horizontal_adjustment_container,horizontal_adjustment_percent:e.horizontal_adjustment_container_percent,left:e.left_container,top:e.top_container,opacity:e.opacity,rotation:e.rotation,vertical_adjustment:e.vertical_adjustment_container,vertical_adjustment_percent:e.vertical_adjustment_container_percent,width_percent:e.width_container_percent,width_px:e.width_container_px,x_pos_percent:e.x_pos_container_percent,y_pos_percent:e.y_pos_container_percent,pixel_mode:1,zoom:1};return this.adjustRotation(e)},n.prototype.getTextImage=function(e){if(void 0===e&&(e=1),"text"!=this.type)return null;var t=!!navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i);var n=_("#"+this.id+" .text"),i=_("<p>"+n.html().replace(/\n/g,"").replace(/<br>/g,"\n").replace(/<div/g,"\n<div")+"</p>").text().replace(/\n/g," <br> "),o=n.width()*e,r=n.height()*e,a=(parseInt(n.css("font-size")),document.createElement("canvas")),r=(a.width=o,a.height=r,a.getContext("2d")),s=parseInt(n.css("line-height"))*e,l=this.fontSize*e,c=(r.font=(parseInt(n.css("font-size"))-1)*e+"px "+this.fontFamily,r.fillStyle=this.fontColor,r.strokeStyle=this.fontColorShadow,r.lineWidth=(t?3.5:3)*e,r.textAlign=this.textAlign,r),n=i,u=2,d=l,p=o,f=s,h=this.textAlign;u=parseInt(u),d=parseInt(d),p=parseInt(p),f=parseInt(f);for(var g,m=n.split(" "),v="",y=0;y<m.length;y++)"<br>"==m[y]?("center"==h?c.fillText(v,p/2,d):"right"==h?c.fillText(v,p,d):c.fillText(v,u,d),v="",d+=f):(g=""==v?m[y]:v+" "+m[y],p<c.measureText(g).width&&0<y?("center"==h?c.fillText(v,p/2,d):"right"==h?c.fillText(v,p,d):c.fillText(v,u,d),v=m[y],d+=f):v=g);return"center"==h?c.fillText(v,p/2,d):"right"==h?c.fillText(v,p,d):c.fillText(v,u,d),this.dataURLtoFile(a.toDataURL(),this.id+"-w-"+this.id+".png")},n.prototype.getSquareImage=function(e){if("transparent"==this.backgroundColor)throw"invalid background "+this.backgroundColor;var t=_("#"+this.id),n=t.width(),t=t.height(),i=document.createElement("canvas"),o=(i.width=n,i.height=t,i.getContext("2d"));return o.fillStyle=this.backgroundColor,o.fillRect(0,0,n,t),this.dataURLtoFile(i.toDataURL(),this.id+"f-w-"+this.id+"f.png")},n.prototype.dataURLtoFile=function(e,t){try{for(var n=e.split(","),i=n[0].match(/:(.*?);/)[1],o=atob(n[1]),r=o.length,a=new Uint8Array(r);r--;)a[r]=o.charCodeAt(r);return new File([a],t,{type:i})}catch(e){return null}},n.prototype.adjustRotation=function(e){var t;return 0!=this.rotation&&(t=this.getRotationAdjust(this.rotationRadians,{h:e.height_px,w:e.width_px}),e.left=e.left-(t.w-e.width_px)/2,e.top=e.top-(t.h-e.height_px)/2,e.y_pos_percent=100*e.top/_("#file").height(),e.x_pos_percent=100*e.left/_("#file").width()),e},n.prototype.addEventListener=function(e,t){this.listenable.addEventListener(e,t)},n.prototype.dispatchEvent=function(e){this.listenable.dispatchEvent(e)},d.EditElement=n}.call(this,p(1))},function(e,t,n){"use strict";function i(){}Object.defineProperty(t,"__esModule",{value:!0}),t.Url=void 0,i.validate=function(e){return new RegExp("^(http:\\/\\/www\\.|https:\\/\\/www\\.|http:\\/\\/|https:\\/\\/)?[a-z0-9]+([\\-\\.]{1}[a-z0-9]+)*\\.[a-z]{2,5}(:[0-9]{1,5})?(\\/.*)?$","g").test(e)},i.correct=function(e){var t="http://";return e=e.substr(0,t.length)!==t&&"https://"!==e.substr(0,"https://".length)?t+e:e},i.getParam=function(e,t){null==(t=void 0===t?null:t)&&(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");e=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return e?e[2]?decodeURIComponent(e[2].replace(/\+/g," ")):"":null},t.Url=i},function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chain=void 0;var o=n(68);function i(e){this.parentId=null,this.tool=null,this.token=null,this.preWorker=null,Object.assign(this,e)}i.prototype.makeChild=function(){var e=this,i=this;return new Promise(function(t,n){null==i.parentId?t():(e.api=new o.Api({taskId:null,tool:i.tool,workerServer:i.workerServer,preWorker:i.preWorker,token:i.token}),e.api.next(i.parentId,i.tool,i.preWorker).then(function(e){t(e)},function(e){n(e)}))})},i.prototype.getFileUrl=function(e,t){return this.api.nextFile(e,t)},t.Chain=i},function(e,m,v){"use strict";!function(a){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),e=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=(Object.defineProperty(m,"__esModule",{value:!0}),m.IloveTool=void 0,v(84)),t=v(237),n=v(240),r=v(107),l=e(v(23)),c=v(211),u=v(15),d=v(33),p=v(21),f=v(244),h=v(120);function g(e){var n=this;void 0===e&&(e={}),this.initTool=function(){n.config=new r.Config({tool:n.tool,subtool:n.subtool,config:n.configData}),n.initProcessManager(),n.optionsManager=n.getOptionsManager(),n.initUploader(),n.beforeInit().then(function(){},function(){}),n.listenEventTaskIdChanged()},this.action=null,this.alias=null,this.tool=null,this.subtool=null,this.realTool=null,this.toolText=null,this.fileLimits=null,this.taskId=null,this.parentId=null,this.parentTool=null,this.covers_hidden=!1,this.token=null,this.userId=null,this.startServer=null,this.workerServer=null,this.level="user",this.levelTemp="user",this.userToken=null,this.servers=null,this.downloadUrl=null,this.error=null,this.site=null,this.country=null,this.isInitialized=!1,this.files=new s.FileStack,this.processManager=null,this.uploadManager=null,this.optionsManager=null,this.defaultOptions=null,this.configData=v(245),this.config=null,Object.assign(this,e),this.subtool||(this.subtool=this.tool),this.alias&&(this.subtool=this.alias),null!=this.userId&&l.configureScope(function(e){e.setUser({id:n.userId})}),null!=this.country&&l.configureScope(function(e){e.setTag("country",n.country)}),null!=this.taskId&&l.configureScope(function(e){e.setTag("taskId",n.taskId)}),this.servers&&this.servers.forEach(function(e,t){e.includes(".com")?n.servers[t]="//"+e:n.servers[t]="//"+e+"."+n.site+".com"}),null==this.workerServer&&this.servers&&(this.workerServer=this.servers[Math.floor(Math.random()*this.servers.length)]),window.Sentry=l,window.ilovetools={user:p.UserModel},h.Modal.init()}g.prototype.variableUserLevel=function(){var e=document.URL.split("#"),e=1<e.length?e[1]:null;if("n"!==e){for(var t=window.ilovepdfConfig.fp,n=!1,i=0;i<t;i++){var o,r=null;if(window.Cookies&&(o="fp","upscaleimage"==this.tool&&(o="fpu"),r=window.Cookies.get(o+i)),null==r){n=!0;break}}!0===n&&"premium"!==this.level&&(window.ilovepdfConfig.fileLimits=this.fileLimits=this.allFileLimits.temp_limits,"user"==this.level?this.allFileLimits.limits=this.allFileLimits.temp_limits:this.allFileLimits.registered_limits=this.allFileLimits.temp_limits,window.ilovepdfConfig.levelTemp=this.levelTemp="premium")}},g.prototype.init=function(){var e;"tool"==this.action&&null!=this.tool&&(e=this.tool==this.subtool?this.tool.replace("image",""):this.tool.replace("image",this.subtool),this.alias=e,window.Cookies&&0==window.nc&&window.Cookies.set("lastTool",e),this.variableUserLevel(),this.initTool(),f.Network.checkNetwork()),this.isInitialized=!0},g.prototype.beforeInit=function(){var t=this,r=this;return new Promise(function(i,e){var o;null==r.parentId?i():(d.Tools.loadingFromPreviousStart(),window.ev("send","event","tool","chained",t.tool+"-"+t.parentTool),window.ev("event","chained",{to:t.tool,from:t.parentTool}),(o=new c.Chain({parentId:r.parentId,workerServer:r.workerServer,preWorker:r.preWorker,tool:r.tool,token:r.token})).makeChild().then(function(e){r.uploadManager.taskId=r.uploadManager.plupload.taskId=r.processManager.api.taskId=r.processManager.taskId=r.taskId=e.task,r.uploadManager.plupload&&r.uploadManager.plupload.uploader&&r.uploadManager.plupload.uploader&&r.uploadManager.plupload.uploader.settings&&(r.uploadManager.plupload.uploader.settings.multipart_params.task=r.uploadManager.taskId);try{r.optionsManager.limits&&r.optionsManager.limits.checkFileLimits(0,Object.keys(e.files).length)}catch(e){return d.Tools.loadingFromPreviousFail(),void a("#closePrevious").on("click",function(){d.Tools.loadingFromPreviousEnd(),i()})}for(var t in e.files){var n;e.files.hasOwnProperty(t)&&(n=d.Tools.randomId(),n=new s.File({id:n,canvasId:n,filename:e.files[t],name:e.files[t],server_filename:t,url:o.getFileUrl(e.task,t),loaded:100,percent:100,origin:"chained",runtime:"html5"}),r.files.addFile(n),r.optionsManager.fileAdded(n,r.uploadManager.id))}d.Tools.loadingFromPreviousEnd(),i()},function(t){""==t?(l.configureScope(function(e){e.setExtra("parent_id",r.parentId),e.setExtra("tool",r.tool)}),l.captureMessage("Error on child creation: Options fail",u.Severity.Error)):t.error&&t.error.type&&"TaskRestartError"==t.error.type?(l.configureScope(function(e){e.setExtra("parent_id",r.parentId),e.setExtra("tool",r.tool),e.setExtra("error",t)}),l.captureMessage("Error on child creation, parent removed",u.Severity.Error)):(l.configureScope(function(e){e.setExtra("parent_id",r.parentId),e.setExtra("tool",r.tool),e.setExtra("error",t)}),l.captureMessage("Error on child creation",u.Severity.Error)),d.Tools.loadingFromPreviousFail(),a("#closePrevious").on("click",function(){d.Tools.loadingFromPreviousEnd(),i()})}))})},g.prototype.initProcessManager=function(){this.processManager=new t.Process({taskId:this.taskId,tool:this.tool,site:this.site,subtool:this.subtool,options:{},startServer:this.startServer,workerServer:this.workerServer,files:this.files,token:this.token,userId:this.userId,downloadUrl:this.downloadUrl})},g.prototype.initUploader=function(){this.uploadManager=new n.UploadManager({id:"pickfiles",files:this.files,startServer:this.startServer,workerServer:this.workerServer,optionsManager:this.optionsManager,processManager:this.processManager,config:this.config,token:this.token,taskId:this.taskId,tool:this.tool,servers:this.servers})},g.prototype.getOptionsManager=function(){return null},g.prototype.getToolOptions=function(){return{processManager:this.processManager,tool:this.tool,subtool:this.subtool,toolText:this.toolText,startServer:this.startServer,workerServer:this.workerServer,defaultOptions:this.defaultOptions,files:this.files,pdfViewer:this.pdfViewer,config:this.config,fileLimits:this.fileLimits,allFileLimits:this.allFileLimits,level:this.level,levelTemp:this.levelTemp,userToken:this.userToken}},g.prototype.changeServer=function(e){this.uploadManager.workerServer=e,this.uploadManager.plupload.workerServer=e,this.uploadManager.plupload.uploader.setOption("url",e+"/"+this.uploadManager.plupload.apiVersion+"/upload"),"changeServer"in this.optionsManager&&this.optionsManager.changeServer(e),this.uploadManager.workerServer=e},g.prototype.listenEventTaskIdChanged=function(){var t=this;window.addEventListener("taskIdChanged",function(e){e=e.detail.taskId;t.processManager.taskId=e,t.uploadManager.plupload.changeTaskId(e),t.processManager.api.taskId=e,window.ilovepdfConfig.taskId=t.processManager.taskId=t.processManager.api.taskId=e})},m.IloveTool=g}.call(this,v(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OptionsTemplate=void 0;var i=n(13),o=n(33);function r(){}r.process=function(e,t){var n,i=e;for(n in t)t.hasOwnProperty(n)&&(i=(i=i.replace(new RegExp("\\$\\{"+n+"\\}","g"),t[n])).replace(new RegExp("\\$\\{ "+n+" \\}","g"),t[n]));return i},r.processButton=function(e){return'<div id="processTaskWrapper"></div><button id="processTask" class="btn btn--process btn--red '+e.tool+'"><span id="processTaskTextBtn">'+e.toolText+'</span> <span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26" width="24" height="24" fill="#FFF" fill-rule="evenodd"><path d="M13 26C5.82 26 0 20.18 0 13S5.82 0 13 0s13 5.82 13 13-5.82 13-13 13zm0-2c6.075 0 11-4.925 11-11S19.075 2 13 2 2 6.925 2 13s4.925 11 11 11z" fill-rule="nonzero"/><path d="M18.684 13.105a.55.55 0 0 1-.148.378l-5.263 5.263a.55.55 0 0 1-.378.148.54.54 0 0 1-.526-.526V15.21H7.842a.54.54 0 0 1-.526-.526v-3.158A.54.54 0 0 1 7.842 11h4.526V7.842a.52.52 0 0 1 .526-.526c.148 0 .28.066.395.164l5.247 5.247a.55.55 0 0 1 .148.378z"/></svg></span></button></div>'},r.rangeBox=function(e){return'<div class="range" id="range-'+e.rangeId+'"><div class="file__actions"><a class="file__btn remove tooltip tooltip--top" title="'+i.Lang.t("Remove")+'">'+o.Tools.svgRemove()+'</a></div><div class="range__title">'+i.Lang.t("Range")+" "+e.rangeId+'</div><div class="range__container"><div class="range__element range__element--start"><div class="range__canvas"><canvas id="range-'+e.rangeId+'-ini" width="'+e.screenSize.w+'" height="'+e.screenSize.h+'"></canvas></div><div class="file__info"><span class="file__info__name" id="info-'+e.rangeId+'-ini">'+e.pageIni+'</span></div></div><div class="range__to"></div><div class="range__element range__element--end"><div class="range__canvas range__canvas--end"><canvas id="range-'+e.rangeId+'-end" width="'+e.screenSize.w+'" height="'+e.screenSize.h+'"></canvas></div><div class="file__info"><span class="file__info__name" id="info-'+e.rangeId+'-end">'+e.pageEnd+"</span></div></div></div></div>"},r.rangeFixedBox=function(e){return'<div class="range" id="range-fix-'+e.rangeId+'"><div class="file__actions"><a class="file__btn remove tooltip tooltip--top" title="'+i.Lang.t("Remove")+'">'+o.Tools.svgRemove()+'</a></div><div class="range__title">'+i.Lang.t("Range")+" "+e.rangeId+'</div><div class="range__container"><div class="range__element range__element--start"><div class="range__canvas"><canvas id="range-fix-'+e.rangeId+'-ini" width="'+e.screenSize.w+'" height="'+e.screenSize.h+'"></canvas></div><div class="file__info"><span class="file__info__name" id="info-'+e.rangeId+'-ini">'+e.pageIni+'</span></div></div><div class="range__to"></div><div class="range__element range__element--end"><div class="range__canvas range__canvas--end"><canvas id="range-fix-'+e.rangeId+'-end" width="'+e.screenSize.w+'" height="'+e.screenSize.h+'"></canvas></div><div class="file__info"><span class="file__info__name" id="info-'+e.rangeId+'-end">'+e.pageEnd+"</span></div></div></div></div>"},r.removeBox=function(e){return'<div class="range" id="remove-page-'+e.page+'" data-page="'+e.page+'"><div class="file__actions"><a class="file__btn remove tooltip tooltip--top" title="'+i.Lang.t("Remove")+'">'+o.Tools.svgRemove()+'</a></div><div class="range__container"><div class="range__element range__element--start"><div class="range__canvas"><canvas id="remove-page-'+e.page+'-ini" width="'+e.screenSize.w+'" height="'+e.screenSize.h+'"></canvas></div><div class="file__info"><span class="file__info__name">Page '+e.page+"</span></div></div></div></div>"},r.reorderBox=function(e){return'<div class="range" id="reorder-page-'+e.page+'" data-page="'+e.page+'"><div class="file__actions"><a class="file__btn remove tooltip tooltip--top" title="'+i.Lang.t("Remove")+'">'+o.Tools.svgRemove()+'</a></div><div class="range__container"><div class="range__element range__element--start"><div class="range__canvas"><canvas id="reorder-page-'+e.page+'-ini" width="'+e.screenSize.w+'" height="'+e.screenSize.h+'"></canvas></div><div class="file__info"><span class="file__info__name">Page '+e.page+"</span></div></div></div></div>"},r.pageBox=function(e){return'<div class="page '+e.class+'" id="'+e.file+e.page+'" data-page="'+e.page+'" data-pos="'+e.pos+'" data-file="'+e.file+'"><div class="page__add tooltip tooltip--top" data-title="'+i.Lang.t("addPage")+'"></div><div class="page__actions"><a class="page__btn rotate tooltip--top tooltip" data-rotate="0" title="'+i.Lang.t("Rotate")+'"><svg width="14px" height="17px" viewBox="0 0 14 17" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-434.000000, -182.000000)" fill="#47474F"><g transform="translate(265.000000, 172.000000)"><g transform="translate(164.000000, 8.000000)"><path d="M7.76002152,9.05407587 L6.54613936,7.83158461 C5.77132096,8.83023944 5.28921173,9.98385795 5.14285714,11.1805219 L6.881894,11.1805219 C7.00242131,10.4315308 7.30373957,9.69975787 7.76002152,9.05407587 L7.76002152,9.05407587 Z M6.881894,12.9023406 L5.14285714,12.9023406 C5.28921173,14.0990046 5.76271186,15.2526231 6.53753027,16.2512779 L7.75141243,15.0287867 C7.30373957,14.3831047 7.00242131,13.6599408 6.881894,12.9023406 L6.881894,12.9023406 Z M7.75141243,17.4823783 C8.75006726,18.2571967 9.91229486,18.7220877 11.1089588,18.8684423 L11.1089588,17.1207963 C10.3599677,16.9916599 9.63680387,16.6989508 8.99112187,16.2340597 L7.75141243,17.4823783 L7.75141243,17.4823783 Z M12.8307775,5.21442023 L12.8307775,2.57142857 L8.91364003,6.48856605 L12.8307775,10.3196126 L12.8307775,6.95345709 C15.27576,7.36669357 17.1353242,9.48453054 17.1353242,12.0414313 C17.1353242,14.598332 15.27576,16.716169 12.8307775,17.1294054 L12.8307775,18.8684423 C16.2313694,18.4465967 18.8571429,15.5539414 18.8571429,12.0414313 C18.8571429,8.52892117 16.2313694,5.63626581 12.8307775,5.21442023 L12.8307775,5.21442023 Z" transform="translate(12.000000, 10.719935) scale(-1, 1) translate(-12.000000, -10.719935) "></path></g></g></g></g></svg></a><a class="page__btn remove tooltip--top tooltip" title="'+i.Lang.t("Remove")+'"><svg width="12px" height="12px" viewBox="0 0 12 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-586.000000, -216.000000)" fill="#47474F"><g transform="translate(580.000000, 210.000000)"><polygon points="18 7.20857143 16.7914286 6 12 10.7914286 7.20857143 6 6 7.20857143 10.7914286 12 6 16.7914286 7.20857143 18 12 13.2085714 16.7914286 18 18 16.7914286 13.2085714 12"></polygon></g></g></g></svg></a></div><div class="page__container"><div class="page__element"><div class="page__canvas"><canvas id="page-'+e.file+"-"+e.page+'" width="'+e.screenSize.w+'" height="'+e.screenSize.h+'"></canvas></div><div class="file__info"><span class="file__info__name"><span class="file__info__more"><strong>'+e.filename+"</strong><br>"+i.Lang.t("Page")+"&nbsp;</span>"+e.page+'</span></div></div></div><div class="page__add tooltip tooltip--top" data-title="'+i.Lang.t("addPage")+'"></div></div>'},r.page=function(e){return'<div class="page '+e.class+'" id="'+e.file+e.page+'" data-page="'+e.page+'" data-file="'+e.file+'"><div class="page__container"><div class="page__element"><div class="page__canvas"><canvas id="page-'+e.file+"-"+e.page+'" width="'+e.screenSize.w+'" height="'+e.screenSize.h+'"></canvas></div></div></div></div>'},r.extractBox=function(e){return'<div class="range" id="extract-page-'+e.page+'" data-page="'+e.page+'"><div class="file__actions"><a class="file__btn remove tooltip tooltip--top" title="'+i.Lang.t("Remove")+'">'+o.Tools.svgRemove()+'</a></div><div class="range__container"><div class="range__element range__element--start"><div class="range__canvas"><canvas id="extract-page-'+e.page+'-ini" width="'+e.screenSize.w+'" height="'+e.screenSize.h+'"></canvas> </div><div class="file__info"><span class="file__info__name">'+e.page+"</span></div></div></div></div>"},r.askPassword=function(){return'<div id="passwordAsk"><h2 class="title2">'+i.Lang.t("Some files require password")+'</h2><div class="form__group"><div class="checkbox"><input type="checkbox" name="allPwd" id="allPwd" value="1"><label for="allPwd">'+i.Lang.t("Same password for all files")+'</label></div></div><div class="passwords"></div><div class="text-right"><button class="btn btn--red" id="pwdSend">'+i.Lang.t("Send")+'</button></div><br><br><div class="text-right"><p id="useUnlock">'+i.Lang.t("Did you forgot your password?")+' <a href="'+window.unlockPdfUrl+'">'+i.Lang.t("Unlock PDF")+'</a></p><p id="ignorePwdFiles">'+i.Lang.t("Or")+' <a id="pwdIgnore" href="#">'+i.Lang.t("Ignore these files")+"</a></p></div></div>"},r.askPasswordField=function(e){return'<div class="password" id="pwd-'+e.id+'"><label for="pwd'+e.id+'">'+e.server_filename+'</label><div class="form__group form__group--btn form__group--btn-lg"><div class="input--icon input--lock"><input class="input" type="password" name="pwd'+e.id+'" id="pwd'+e.id+'"></div><a class="btn showPassword" href="#"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12.015 7c4.751 0 8.063 3.012 9.504 4.636-1.401 1.837-4.713 5.364-9.504 5.364-4.42 0-7.93-3.536-9.478-5.407 1.493-1.647 4.817-4.593 9.478-4.593zm0-2c-7.569 0-12.015 6.551-12.015 6.551s4.835 7.449 12.015 7.449c7.733 0 11.985-7.449 11.985-7.449s-4.291-6.551-11.985-6.551zm-.015 5c1.103 0 2 .897 2 2s-.897 2-2 2-2-.897-2-2 .897-2 2-2zm0-2c-2.209 0-4 1.792-4 4 0 2.209 1.791 4 4 4s4-1.791 4-4c0-2.208-1.791-4-4-4z"/></svg></a></div></div>'},r.checkOk=function(){return'<svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52"><circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none"/><path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/></svg>'},t.OptionsTemplate=r},function(e,t,n){"use strict";!function(a){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),e=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=(Object.defineProperty(t,"__esModule",{value:!0}),t.IloveError=void 0,n(13)),l=e(n(23)),c=n(15);function u(){}u.getError=function(e){if("string"==typeof e)return e;if("error"in e&&"string"==typeof e.error)return e.error;if("response"in e){var t=this.getJson(e.response);if(null!=t)return"error"in t&&"param"in t.error&&t.error.param&&t.error.param&&"type"in t.error.param&&t.error.param.type instanceof Array?t.error.param.type[0]:"error"in t&&"type"in t.error&&t.error.type&&"string"==typeof t.error.type?t.error.type:"ServerError"}return 0 in e,"param"in e&&"type"in e.param?e.param.type:"UnknownError"},u.isJson=function(e){try{JSON.parse(e)}catch(e){return!1}return!0},u.getJson=function(e){var t=null;try{t=JSON.parse(e)}catch(e){return null}return t},u.fatalError=function(t,n,i,o,r){void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=null),void 0===r&&(r=null),null==(t=void 0===t?null:t)&&(t="UnknownError"),"UnknownError"==(t=u.getError(t))&&(l.configureScope(function(e){e.setExtra("unknownError",t),e.setExtra("tool",n),e.setExtra("fileName",o),e.setExtra("workerServer",i),e.setExtra("extra",r)}),l.addBreadcrumb({category:"upload",level:c.Severity.Error,message:"Unknown Error"})),window.ev("sendOnce","event","upload-fatal",n,t),window.ev("eventOnce","upload-fatal",{tool:n,error:t}),a(".tool").hide(),a("#uploading").hide(),a("#process").hide(),a("body").addClass("process-run");var e="",e="FileRemoved"==t||"FileTooLarge"==t?t:"errorRetry",e='\n        <div class="tool-error">\n            <h2 class="title2">'+s.Lang.t("Upload error")+'</h2>\n            <div class="tool-error__content">'+s.Lang.t(e),e=(e=null!=o&&"FileRemoved"!=t?e+"<p>"+o+"</p>":e)+('</div><div class="tool-error__action"><a class="btn btn-sm" href="javascript:location.reload()">'+s.Lang.t("Retry"))+"</a></div>";a("#uploading").html(e).show()},u.error=function(e,t,n,i){void 0===e&&(e=null),void 0===t&&(t=null),void 0===n&&(n=null)},t.IloveError=u}.call(this,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageComparisonSlider=void 0;var i=n(122);function o(e){var n=this;this.isMouseOrTouchDown=!1,this.createElement=function(){var e=document.createElement("div");return e.append(r.content.cloneNode(!0)),e=e.firstElementChild},this.setImageSources=function(){var e=n.element.querySelectorAll("img"),t=e[0],e=e[1];t.src=URL.createObjectURL(n.params.file1.data),e.src=URL.createObjectURL(n.params.file2.data)},this.setImageSizes=function(){n.element.setAttribute("data-first",i.localeNumber(n.params.file1.width)+" x "+i.localeNumber(n.params.file1.height)+" px"),n.element.setAttribute("data-second",i.localeNumber(n.params.file2.width)+" x "+i.localeNumber(n.params.file2.height)+" px")},this.setImageWarnings=function(){n.params.file1.warning||n.params.file2.warning?n.element.setAttribute("data-warning",""):n.element.removeAttribute("data-warning")},this.addTouchEventListeners=function(){n.element.addEventListener("touchstart",n.onTouchStart),n.element.addEventListener("touchmove",n.onTouchMove),n.element.addEventListener("touchend",n.onTouchEnd),n.element.addEventListener("touchcancel",n.onTouchEnd)},this.onTouchStart=function(e){n.isMouseOrTouchDown=!0;var t=e.target.getBoundingClientRect(),e=e.touches[0].pageX-t.left;n.setExposure(e)},this.onTouchMove=function(e){n.isMouseOrTouchDown&&n.onTouchStart(e)},this.onTouchEnd=function(){n.isMouseOrTouchDown=!1},this.addMouseEventListeners=function(){n.element.addEventListener("mousedown",n.onMouseDown),n.element.addEventListener("mousemove",n.onMouseMove),n.element.addEventListener("mouseup",n.onMouseLeave),n.element.addEventListener("mouseleave",n.onMouseLeave)},this.onMouseDown=function(e){n.isMouseOrTouchDown=!0,n.setExposure(e.offsetX)},this.onMouseMove=function(e){n.isMouseOrTouchDown&&n.onMouseDown(e)},this.onMouseLeave=function(){n.isMouseOrTouchDown=!1},this.params=e,this.element=this.createElement(),this.setImageSources(),this.setImageSizes(),this.setImageWarnings(),this.addTouchEventListeners(),this.addMouseEventListeners()}o.prototype.setExposure=function(e){var t=this.element.querySelector("img").width;this.element.style.setProperty(o.EXPOSURE_CLASSNAME,e/t*100+"%")},o.EXPOSURE_CLASSNAME="--js-exposure",o.build=function(e){return new o(e).element},t.ImageComparisonSlider=o;var r=document.createElement("template");r.innerHTML='\n    <div data-first="0 x 0" data-second="0 x 0" class="img-comparison-slider">\n        <div class="img-comparison-slider__first">\n            <img src="https://img-comparison-slider.sneas.io/images/green-leaves.webp" draggable="false" />\n        </div>\n        <div class="img-comparison-slider__second">\n            <img src="https://img-comparison-slider.sneas.io/images/green-leaves-blurred.webp" draggable="false" />\n        </div>\n        <div class="img-comparison-slider__controls">\n            <svg width="50px" viewBox="0 0 18 8" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <g filter="url(#filter0_d_2987_6389)">\n                    <path d="M2 4L4 2V6L2 4Z" fill="white"/>\n                </g>\n                <g filter="url(#filter1_d_2987_6389)">\n                    <path d="M16 4L14 6L14 2L16 4Z" fill="white"/>\n                </g>\n                <defs>\n                    <filter id="filter0_d_2987_6389" x="0" y="0" width="6" height="8" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n                    <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n                    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n                    <feOffset/>\n                    <feGaussianBlur stdDeviation="1"/>\n                    <feComposite in2="hardAlpha" operator="out"/>\n                    <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"/>\n                    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_2987_6389"/>\n                    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_2987_6389" result="shape"/>\n                    </filter>\n                    <filter id="filter1_d_2987_6389" x="12" y="0" width="6" height="8" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n                    <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n                    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n                    <feOffset/>\n                    <feGaussianBlur stdDeviation="1"/>\n                    <feComposite in2="hardAlpha" operator="out"/>\n                    <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"/>\n                    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_2987_6389"/>\n                    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_2987_6389" result="shape"/>\n                    </filter>\n                </defs>\n            </svg>\n        </div>\n    </div>\n'.trim()},,,,,,,,,,,,,,function(e,n,h){"use strict";!function(r){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),e=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=(Object.defineProperty(n,"__esModule",{value:!0}),n.EditImageOptionsManager=void 0,e(h(37))),s=e(h(57)),l=h(33),c=h(13),u=e(h(23)),d=h(211),p=h(84),f=h(15);function t(e){void 0===e&&(e={}),this.base="",this.assets="",this.lang={},this.editorReady=!1,this.tool="editimage",Object.assign(this,e),this.pixie=null,this.eventSent=!1,this.init()}t.prototype.init=function(){this.initUploader(),this.loadScriptAndCss(),this.dragDrop(),this.beforeInit(),r("#pickfiles").removeClass("tooltip"),r("#pickfiles")&&r("#pickfiles")[0]._tippy&&r("#pickfiles")[0]._tippy.disable()},t.prototype.beforeInit=function(){var n=this,o=this;return new Promise(function(e,t){var i;null==o.parentId?e():(l.Tools.loadingFromPreviousStart(),window.ev("send","event","tool","chained",n.tool+"-"+n.parentTool),window.ev("event","chained_tool",{to:n.tool,from:n.parentTool}),(i=new d.Chain({parentId:o.parentId,workerServer:o.workerServer,preWorker:o.preWorker,tool:o.tool,token:o.token})).makeChild().then(function(e){for(var t in e.files){var n;e.files.hasOwnProperty(t)&&(n=l.Tools.randomId(),new p.File({id:n,canvasId:n,filename:e.files[t],name:e.files[t],server_filename:t,url:i.getFileUrl(e.task,t),loaded:100,percent:100,runtime:"html5"}),o.startEditor(i.getFileUrl(e.task,t)))}},function(){u.configureScope(function(e){e.setExtra("parent_id",o.parentId),e.setExtra("tool",o.tool)}),u.captureMessage("Error on child creation",f.Severity.Error),l.Tools.loadingFromPreviousFail(),r("#closePrevious").on("click",function(){l.Tools.loadingFromPreviousEnd(),e()})}))})},t.prototype.preventPageExit=function(){window.onbeforeunload=function(){return c.Lang.t("leaveAlert")}},t.prototype.fileAdded=function(n,e,t){void 0===t&&(t=!1);var i=this;return new Promise(function(e,t){i.startEditor(n.url),e()})},t.prototype.initUploader=function(){var i=this;function e(){var e,t=r("#fileUpload")[0];if(t.files&&t.files[0]){try{e=(window.URL||window.webkitURL).createObjectURL(t.files[0])}catch(e){return}var n=new Image;n.onload=function(){var e,t;window.fabric&&(n.width>2*window.fabric.textureSize||n.height>2*window.fabric.textureSize)?window.Toastr.error(c.Lang.t(c.Lang.t("FileTooLarge")),c.Lang.t("Wops"),{timeOut:5e3,positionClass:"toast-top-left"}):(t=r("#fileUpload")[0]).files&&t.files[0]&&((e=new FileReader).onload=function(e){i.startEditor(e.target.result)},e.readAsDataURL(t.files[0]))},n.src=e}}r("#fileUpload").hide(),r("#pickfiles").addClass("active"),document.getElementById("pickfiles").onclick=function(){document.getElementById("fileUpload").click()},r("#fileUpload").change(function(){e()})},t.prototype.startEditor=function(e){r(".tool__workarea").hide();var t=this,n=setInterval(function(){null!=window.Pixie&&(t.pixie=new window.Pixie({image:e,languages:{active:"custom",custom:{custom:t.lang}},urls:{base:t.base,assets:t.assets},onLoad:function(){t.addFiletype()}}),window.fabric&&window.fabric.enableGLFiltering&&window.fabric.isWebglSupported&&window.fabric.isWebglSupported(4096)&&(window.fabric.textureSize=4096),clearInterval(n))},50)},t.prototype.addFiletype=function(){var t=this;r("toolbar").append(this.fileFormatView()),r("#saveJpg").hide(),r(".format").on("click",function(e){r(e.target).hasClass("format__item")||r(".format__select").show()}),r(".format__item").on("click",function(e){e=r(e.target).html();r("#format").html(e),r(".format__select").hide(),t.pixie.setConfig("tools.export.defaultFormat",e),r(".export-button").hide(),r("#save"+e[0].toUpperCase()+e.substring(1)).show()}),r(".export-button").on("click",function(){0==t.eventSent&&(t.eventSent=!0,window.ev("send","event","user","process","editimage"),window.ev("event","process",{tool:"editimage"}))}),r("body").click(function(e){e=r(e.target);e.hasClass("format__item")||e.hasClass("format")||e.hasClass("formatType")||r(".format__select").hide()})},t.prototype.loadScriptAndCss=function(){var i=this;return new Promise(function(e,t){if(null===window.Pixie||void 0!==window.Pixie)return e(!0);s.lazyloadCss("/editor/styles.css"),a.lazyload("/editor/runtime.js"),a.lazyload("/editor/polyfills.js"),a.lazyload("/editor/main.js");var n=window.setInterval(function(){if(null!==window.Pixie&&"function"==typeof window.Pixie)return clearInterval(n),i.editorReady=!0,window.fabric&&window.fabric.enableGLFiltering&&window.fabric.isWebglSupported&&window.fabric.isWebglSupported(4096)&&(window.fabric.textureSize=4096),e(!0)},100)})},t.prototype.fileFormatView=function(){return'<div class="format">'+c.Lang.t("Save")+' <span class="formatType" id="format">png</span><div class="format__select"><div class="format__item active">png</div><div class="format__item">jpg</div></div></div>'},t.prototype.dragDrop=function(){var e=document.getElementById("workArea"),n=(document.getElementById("dropArea"),this);e.addEventListener("dragenter",function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy";e=e.dataTransfer;e.types&&(e.types.indexOf?-1!=e.types.indexOf("Files"):e.types.contains("Files"))&&(r("#dropArea").text(c.Lang.t("dropIt")),r("#dropArea").show())},!1),e.addEventListener("dragleave",function(e){e.stopPropagation(),e.preventDefault(),r(e.target).is("#dropArea")&&r("#dropArea").hide()},!1),e.addEventListener("dragover",function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"},!1),e.addEventListener("drop",function(e){e.stopPropagation(),e.preventDefault(),r("#dropArea").hide();var t=e.dataTransfer;return t&&t.types&&(t.types.indexOf?-1!=t.types.indexOf("Files"):t.types.contains("Files"))&&(t=e.dataTransfer.files)[0].type.match(/image.*/)&&((e=new FileReader).onload=function(e){n.startEditor(e.target.result)},e.readAsDataURL(t[0])),!1})},n.EditImageOptionsManager=t}.call(this,h(1))},function(e,t,n){"use strict";var i,o,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.IloveimgTool=void 0,n(212)),s=n(91),l=n(252),c=n(253),u=n(254),d=n(255),p=n(256),f=n(259),h=n(260),g=n(261),m=n(265),v=n(266),a=(o=a.IloveTool,r(y,o),y.prototype.getOptionsManager=function(){var e={processManager:this.processManager,tool:this.tool,subtool:this.subtool,toolText:this.toolText,startServer:this.startServer,workerServer:this.workerServer,defaultOptions:this.defaultOptions,files:this.files,screenSize:this.screenSize,pdfViewer:this.pdfViewer,config:this.config,fileLimits:this.fileLimits,allFileLimits:this.allFileLimits,level:this.level,levelTemp:this.levelTemp,userToken:this.userToken};return"resizeimage"==this.tool?new l.ResizeImageOptionsManager(this.getToolOptions()):"cropimage"==this.tool?new c.CropImageOptionsManager(this.getToolOptions()):"rotateimage"==this.tool?new d.RotateImageOptionsManager(this.getToolOptions()):"fromjpg"==this.subtool||"jpgtogif"==this.subtool?new u.FromjpgOptionsManager(this.getToolOptions()):"tojpg"==this.subtool?new h.TojpgOptionsManager(this.getToolOptions()):"watermarkimage"==this.tool?new p.WatermarkImageOptionsManager(this.getToolOptions()):"memeimage"==this.tool?new f.MemeImageOptionsManager(this.getToolOptions()):"upscaleimage"==this.tool?new g.UpscaleImageOptionsManager(this.getToolOptions()):"blurfaceimage"===this.tool?new m.BlurfaceImageOptionsManager(this.getToolOptions()):"removebackgroundimage"===this.tool?new v.RemovebackgroundImageOptionsManager(this.getToolOptions()):new s.OptionsManager(e)},y);function y(e){e=o.call(this,e=void 0===e?{}:e)||this;return e.configData=n(123),window.configData=e.configData,e.init(),e}t.IloveimgTool=a},function(e,t,n){"use strict";var i,o,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.IloveimgTool=void 0,n(267)),s=n(212),l=n(268),s=(o=s.IloveTool,r(c,o),c.prototype.getOptionsManager=function(){return new a.HtmlimageOptionsManager(this.getToolOptions())},c.prototype.getToolOptions=function(){return{processManager:this.processManager,tool:this.tool,subtool:this.subtool,toolText:this.toolText,startServer:this.startServer,workerServer:this.workerServer,defaultOptions:this.defaultOptions,files:this.files,screenSize:this.screenSize,pdfViewer:this.pdfViewer,config:this.config,fileLimits:this.fileLimits,allFileLimits:this.allFileLimits,level:this.level,levelTemp:this.levelTemp,userToken:this.userToken}},c.prototype.initUploader=function(){this.uploadPopupManager=new l.UploadPopupManager({id:"pickfiles",files:this.files,startServer:this.startServer,workerServer:this.workerServer,optionsManager:this.optionsManager,processManager:this.processManager,config:this.config,token:this.token,taskId:this.taskId,tool:this.tool,servers:this.servers})},c);function c(e){e=o.call(this,e=void 0===e?{}:e)||this;return e.configData=n(123),window.configData=e.configData,e.init(),e}t.IloveimgTool=s},,,,,function(e,t,p){"use strict";p.r(t),function(e){p(92);var t=p(109),n=p(229),i=p(70),i=p.n(i),o=p(110),r=p(142),a=(p(162),p(163),p(165),p(43)),s=p(111),l=p(230),c=p(231),u=p(14),d=p(7);p(105),p(152),p(158),p(160),p(95),p(161),e.Cookies=i.a,e.Toastr=o,e.Toastr.options.closeDuration=100,e.Sortable=r.a,a.Tooltip.compat(),e.tippy=s.a,p(104),p(189),window.site="iloveimg",u.e({dsn:"https://1f17b51631f34ac38782fb6823cf97cc@sentry.io/1200240",logger:"js-img",allowSecretKey:!0,maxBreadcrumbs:100,environment:"production",release:"68bf0c945139be77e9bd96a87fae6cc870333cd1",ignoreErrors:["TagError","Permission denied","Error loading script",new RegExp("gpt/pubads_impl_"),"Failed to fetch","Illegal invocation",new RegExp("ReportingObserver"),"UnhandledRejection","PromiseRejectionEvent",new RegExp("FD126C42")],beforeBreadcrumb:function(e,t){return"category"===e.category?null:e},whitelistUrls:[new RegExp("https?://((dev|www).)?ilovepdf.com"),new RegExp("https?://((dev|www).)?iloveimg.com")]}),d.e(function(e){e.setTag("site",window.site)}),new t.IlovepdfWeb;null!=window.editConfig&&(window.ilovepdf=new n.EditImageOptionsManager(window.editConfig)),null!=window.ilovepdfConfig&&(i=null,i=new("htmlimage"==window.ilovepdfConfig.tool?c:l).IloveimgTool(window.ilovepdfConfig),window.ilovepdf=i,window.userModel=i.user),document.documentElement.setAttribute("data-useragent",navigator.userAgent),window.executeTool=function(e){e&&0<e.length&&window.ilovepdf.optionsManager.makeWorkarea();var t=500,n=setInterval(function(){0===--t&&window.clearInterval(n),window.pluploader&&window.pluploader.uploader.addFile&&(window.clearInterval(n),e.forEach(function(e){window.pluploader.uploader.addFile(function(e,t){try{for(var n=e.split(","),i=n[0].match(/:(.*?);/)[1],o=atob(n[1]),r=o.length,a=new Uint8Array(r);r--;)a[r]=o.charCodeAt(r);return new File([a],t,{type:i})}catch(e){return null}}(e.file,e.filename))}))},100)}}.call(this,p(28))},function(e,v,y){"use strict";!function(f){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),e=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},t=this&&this.__awaiter||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,o)}r((l=l.apply(e,a||[])).next())})},r=this&&this.__generator||function(i,o){var r,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(s=0<(s=l.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],a=0}finally{r=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},h=(Object.defineProperty(v,"__esModule",{value:!0}),v.Process=void 0,y(13)),a=e(y(23)),g=y(33),s=y(213),l=y(214),n=y(68),c=y(71),u=y(42),d=y(21),p=y(238);function m(e){var r=this;this.beforeExecute=function(){return new Promise(function(t,e){if(d.UserModel.isRealPremium())t(!0);else if(!0===r.limitsConfirmShown)t(!0);else{var n=r.limits.checkFileLimits();if(null===n)t(!0);else{try{window.history.pushState({id:"workarea"},"workarea",null)}catch(e){}r.limitsConfirmShown=!0,window.ib&&window.ib.set("p","lp");var i=document.getElementById("process"),o=(i.style.display="none",document.createElement("div"));o.setAttribute("id","confirmOcr"),i.parentNode.insertBefore(o,i),d.UserModel.isPremium();r.contextConfirmFiles&&(r.contextConfirmFiles=null),r.contextConfirmFiles=new p.ConfirmFilesProcessContext({tool:r.limits.getTool(),limits:r.limits,triggerReason:n}),r.contextConfirmFiles.render(o),r.contextConfirmFiles.addEventListener("end",function(e){e.detail?(r.limitsConfirmShown=!1,t(!1),o.remove()):(o.style.display="none",i.style.display="flex",d.UserModel.isRealPremium()?(r.files.resetLimitedFiles(),r.limits.sendEventLimitsChanged()):r.files.removeLimitedFiles(),t(!0))})}}})},this.stopGoDownload=!1,this.stopGoProblem=!1,this.taskId=null,this.tool=null,this.subtool=null,this.realTool=null,this.files=null,this.limits=null,this.ignoredFiles=[],this.filesUploaded={},this.options=null,this.optionFiles=[],this.workerServer=null,this.downloadUrl="",this.apiVersion="v1",this.appVersion=null,this.exceptions=null,this.userId=null,this.site=null,this.token=null,this.encrypted=!1,this.encryptKey=null,this.processStarted=!1,this.uploadInterval=null,this.processCheckCount=3,this.processWait=!1,this.outToPage=!1,this.processForceEnd=!1,this.params=null,this.status="ok",this.toolEvent=null,this.askedPassword=!1,this.afterFilesLoaded=null,this.processCount=0,Object.assign(this,e),null!=this.tool&&(this.toolEvent=this.tool==this.subtool?this.tool:this.tool.replace("image",this.subtool)),this.stopGoDownload="dev"==u.Settings.env()&&this.stopGoDownload,this.stopGoProblem="dev"==u.Settings.env()&&this.stopGoProblem,this.initApi()}m.prototype.initApi=function(){this.api=new n.Api({tool:this.tool,taskId:this.taskId,workerServer:this.workerServer,downloadUrl:this.downloadUrl,token:this.token,encrypted:this.encrypted,encryptKey:this.encryptKey})},m.prototype.setOptions=function(e){Object.assign(this.options,e)},m.prototype.setUploadedFiles=function(){this.filesUploaded=this.files.getUploadedFiles()},m.prototype.process=function(){return t(this,void 0,void 0,function(){var t,n,i;return r(this,function(e){switch(e.label){case 0:return this.showProcess(),t=this,window.googletag&&window.googletag.pubads&&window.googletag.pubads().setTargeting&&window.googletag.pubads().setTargeting("pos","pro"),1==t.processForceEnd?[2]:[4,this.beforeExecute()];case 1:if(0!=e.sent())if(1==this.files.checkFilesUploaded())this.showProcess(),n={},f.each(this.files.files,function(e,t){t=/(?:\.([^.]+))?$/.exec(t.name)[1];n[t]=null==n[t]?1:n[t]+1}),i=0,f.each(n,function(e,t){var n=Math.max(i,t);i<t&&(i=n,0)}),this.execute().then(function(e){t.processExecute=!1,t.actionProcess(e)},function(e){-100!=e.status&&(t.processExecute=!1,500==e.status?t.actionProcessError(e,"500 in process"):504==e.status?t.actionProcessError(e,"504 in process"):400==e.status&&e.error&&e.error.param&&e.error.param[0]&&e.error.param[0].error&&"WrongPassword"==e.error.param[0].error?t.askForPassword(e.error.param).then(function(){t.showProcess(),t.setUploadedFiles(),t.processCount=0,t.process()},function(e){t.options.ignore_errors=!0,t.showProcess(),t.setUploadedFiles(),t.processCount=0,t.process()}):400==e.status&&e.error&&e.error.param&&e.error.param.task&&e.error.param.task[0]&&1==e.error.param.task[0].includes("complete status")?(a.captureMessage("Process error repaired "+t.subtool+t.processCount),window.clearTimeout(t.checkTimeout),t.checkTimeout=window.setTimeout(function(){t.checkTaskProcess()},1e3)):400==e.status?t.actionProcessError(e,{params:t.options}):(window.clearTimeout(t.checkTimeout),t.checkTimeout=window.setTimeout(function(){t.checkTaskProcess()},1e3)))});else{if(1==this.processStarted)return 0==t.checkFatalError()&&window.setTimeout(function(){t.process()},1e3),[2];this.showUpload(),this.processStarted=!0}return[2]}})})},m.prototype.checkTaskProcess=function(){var t=this;this.processCheckCount--,this.api.getTask().then(function(e){"TaskWaiting"==e.status?(t.setUploadedFiles(),t.process()):"TaskProcessing"==e.status?(window.clearTimeout(t.checkTimeout),t.checkTimeout=window.setTimeout(function(){t.checkTaskProcess()},1e3)):"TaskSuccess"==e.status||"TaskSuccessWithWarnings"==e.status?t.actionProcess(e):t.actionProcessError(e,{info:"in check task",params:t.options})},function(e){t.processCheckCount<0?t.actionProcessError(e,{info:"in check task error",params:t.options}):(window.clearTimeout(t.checkTimeout),t.checkTimeout=window.setTimeout(function(){t.checkTaskProcess()},1e3))})},m.prototype.actionProcess=function(e){var t={filesize:e.filesize,server:this.workerServer,status_message:e.status_message,status:e.status,timer:e.timer,tool:this.tool,output_filenumber:e.output_filenumber,output_filesize:e.output_filesize,output_extensions:e.output_extensions,toolUrl:function(e,t){var n=e.split("?");if(2<=n.length){for(var i=encodeURIComponent(t)+"=",o=n[1].split(/[&;]/g),r=o.length;0<r--;)-1!==o[r].lastIndexOf(i,0)&&o.splice(r,1);return n[0]+(0<o.length?"?"+o.join("&"):"")}return e}(window.location.href,"from"),download_filename:e.download_filename,process_start:(new Date).toUTCString()};"warnings"in e&&(t.warnings=e.warnings),!0!==this.stopGoDownload&&(window.ib&&window.ib.count&&window.ib.count("t"),"pdfa"==this.tool&&window.ib&&window.ib.set("u","a"),Cookies.set(this.taskId,t,{expires:1/480})),this.goDownload(e)},m.prototype.actionProcessError=function(t,n){void 0===n&&(n=null);var i=this,e={error:t,server:i.api.getSubdomain(i.workerServer),taskId:i.taskId,tool:i.tool,subtool:i.subtool,toolUrl:window.location.href.split("?")[0]};if(!0!==this.stopGoProblem&&Cookies.set("error",e,{expires:1/480}),t&&t.error&&t.error.param&&t.error.param[0]&&t.error.param[0].error&&("NoText"==t.error.param[0].error||"NoImages"==t.error.param[0].error||"noTablesToExtract"==t.error.param[0].error)||(a.configureScope(function(e){e.setExtra("processError",t),e.setExtra("params",i.options),e.setExtra("extra",n)}),a.captureMessage("Process error "+i.subtool)),t.error){if(t.error.param&&t.error.param[0]&&t.error.param[0].error)return void i.goProblem(t.error.param[0].error);if(t.error.type)return void i.goProblem(t.error.type)}i.goProblem("ServerError")},m.prototype.execute=function(){var t=this,n=this;if(!0===this.processExecute)return new Promise(function(e,t){t({status:-100})});this.processExecute=!0,n.showProcess(),n.setUploadedFiles(),null!=this.afterFilesLoaded&&(this.options=this.afterFilesLoaded(this.files,this.options)),n.params=c.FormDataHelper.jsonToFormData(this.options),n.params.append("task",this.taskId),n.params.append("tool",this.tool),n.options.packaged_filename||(o=this.tool.replace("image","")+"ed",n.params.append("packaged_filename",this.site+"-"+h.Lang.t(o="splited"==(o="resizeed"==(o="croped"==o?"crop":o)?"resized":o)?"split":o)));var e,i,o=d.UserModel.get(),r=(o&&(n.params.append("custom_int",o.id),n.params.append("custom_string",o.loginkey)),0);for(e in n.filesUploaded)n.isIgnored(e)||(i=this.filesUploaded[e],n.params.append("files["+r+"][server_filename]",i.server_filename),n.params.append("files["+r+"][filename]",i.filename),i.rotate&&n.params.append("files["+r+"][rotate]",i.rotate),i.password&&n.params.append("files["+r+"][password]",i.password),i.pages&&n.params.append("files["+r+"][pages]",i.pages),i.elementArray&&c.FormDataHelper.buildFormData(n.params,i.elementArray,"files["+r+"][elementArray]"),i.processed&&n.params.append("files["+r+"][processed]",i.processed),r++);return this.processCount++,0==n.filesUploaded.length?(a.configureScope(function(e){e.setExtra("files",n.filesUploaded),e.setExtra("tool",n.subtool),e.setExtra("count",t.processCount)}),a.captureMessage("Process without files"),new Promise(function(e,t){t({status:400,error:{type:"DamagedFile"}})})):this.api.process(n.params)},m.prototype.showProcess=function(){"error"!=this.status&&(f("body").addClass("process-run"),f(".uploading").hide(),f(".process").css("display","flex").show(),setTimeout(function(){f("#waitnotify").html(h.Lang.t("waitnotify")),f("#waitnotify").show()},1e4))},m.prototype.showUpload=function(){if(1!=this.processStarted){if("error"==this.status)return this.stop(),!0;var t=this,p=(f("body").addClass("process-run"),f(".process").hide(),f(".uploading").css("display","flex").hide().fadeIn(),h.Lang.t("Uploading..."));!0!==this.uploadShowStarted&&(f(".uploading__status__title.drive").hide(),f(".uploading__status__title.dropbox").hide(),f(".uploading__status__title.user").hide(),f(".uploading__bar").hide(),f(".uploading__status__percent").hide(),this.uploadShowStarted=!0),t.uploadInterval=setInterval(function(){var e,n=0,i=0,o=0,r=0,a=0,s=0,l=0,c=0,u=0,d=!0;"error"==t.status&&t.stop(),t.checkFatalError(),f.each(t.files.files,function(e,t){!(t.percent<100)&&"server_filename"in t||!0!==t.error&&(d=!1,t.service,t.service),100==t.percent&&i++,s++,"drive"==t.service?(c++,100==t.percent&&r++):"dropbox"==t.service?(u++,100==t.percent&&a++):(l++,100==t.percent?o++:0<t.percent&&t.percent<100&&"html5"==t.runtime?(p=t.name+" ("+g.Tools.bytesToSize(t.size)+")",f("#upload_"+t.id).addClass("uploading__files__item--active")):f("#upload_"+t.id).removeClass("uploading__files__item--active"),t.loaded,t.size,n+=t.percent)}),f(".uploading__status__percent__value").html(parseInt((n/l).toString())+"%"),f(".uploading__bar__completed").css("width",n/l+"%"),f(".uploading__status__file").html(p),f(".uploading__status__total").html(l.toString()),0<l?(f(".uploading__status__title.user").show(),f(".uploading__bar").show(),f(".uploading__bar--small").hide(),f(".uploading__status__percent").show()):(f(".uploading__status__file").hide(),f(".uploading__status__info").hide()),0<c&&f(".uploading__status__title.drive").show(),0<u&&f(".uploading__status__title.dropbox").show(),o==l&&(f(".uploading__status__file").html(h.Lang.t("uploadComplete")),f(".uploading__bar").hide(),f(".uploading__status__percent").hide()),r==c&&0<c&&f(".uploading__status__title.drive").addClass("done").html("<strong>Google Drive:</strong> "+h.Lang.t("uploadComplete")),a==u&&0<c&&f(".uploading__status__title.dropbox").addClass("done").html("<strong>Dropbox:</strong> "+h.Lang.t("uploadComplete")),f(".uploading__status__title").removeClass("last"),f(".uploading__status__title:visible:last").addClass("last"),i==s&&d&&"error"!=t.status?(clearInterval(t.uploadInterval),window.setTimeout(function(){t.process()},200)):(e=Math.min(o+1,l),f(".uploading__status__current").html(e.toString()))},100)}},m.prototype.goDownload=function(e){1!=this.stopGoDownload&&(window.location.href=this.downloadUrl+"/"+this.taskId+"/"+this.getWorkerNumber())},m.prototype.getWorkerNumber=function(){return this.workerServer.split(".")[0].replace(/^\D+/g,"")},m.prototype.goProblem=function(e){void 0===e&&(e=null);var t="/problem/"+this.tool+"/"+this.taskId+"/"+this.getWorkerNumber();"en-US"!=window.lang&&(t="/"+window.lang+t),null!==e&&("string"==typeof e?t=t+"/"+e:e.error&&"string"==typeof e.error?t=t+"/"+e.error:t+="/ServerError"),1!=this.stopGoProblem&&(window.location.href=t)},m.prototype.askForPassword=function(e){var r=this,n=[];return f.each(e,function(e,t){"WrongPassword"==t.error&&n.push(r.files.getFileByServerFilename(t.server_filename))}),new Promise(function(e,t){f("#process").hide(),0==f("#passwordAsk").length&&(f(s.OptionsTemplate.askPassword()).insertAfter(f("#process")),1<r.files.files.length?f("#ignorePwdFiles").show():f("#ignorePwdFiles").hide(),"unlock"==r.tool&&f("#useUnlock").hide(),f(".passwords").append(f(s.OptionsTemplate.askPasswordField({id:"all",server_filename:""}))),f("#pwd-all").hide(),f("#allPwd").on("change",function(){1==f("#allPwd").is(":checked")?(f(".password").hide(),f("#pwd-all").show()):(f(".password").show(),f("#pwd-all").hide())})),f("#pwdSend").unbind("click").on("click",function(){var i=null,o=(1==f("#allPwd").is(":checked")&&(i=f("#pwd-all input").val()),!0);f.each(r.files.files,function(e,t){var n=null==i?f("#pwd-"+t.id+" input").val():i;if(""==n)return o=!1,f("#pwd-"+t.id+" input").focus(),window.Toastr.error(h.Lang.t("passwordRequiredFor",{filename:t.name}),h.Lang.t("paswordRequired"),{timeOut:5e3,positionClass:"toast-top-left"}),!1;r.files.updateFile(t.id,{password:n})}),!0===o&&(f("#passwordAsk").hide(),e({}))}),f("#pwdCancel").unbind("click").on("click",function(){f.each(n,function(e,t){r.files.removeFile(t.id),f("#pwd-"+t.id).remove()}),f("#passwordAsk").hide(),t()}),f("#pwdIgnore").unbind("click").on("click",function(){f("#passwordAsk").hide(),t()}),f("#passwordAsk .passwordInput").hide(),f(".password").hide(),f.each(n,function(e,t){0==f("#pwd-"+t.id).length&&(f(".passwords").append(f(s.OptionsTemplate.askPasswordField({id:t.id,server_filename:t.name}))),f("#pwd-"+t.id+" .showPassword").on("click",function(e){e.preventDefault(),f(".password input").attr("type","text"==f(".password input").attr("type")?"password":"text")})),f("#pwd-"+t.id).show()}),n.length<2&&f("#allPwd").parent().parent().hide(),f("#passwordAsk").show(),setTimeout(function(){f("#passwordAsk input:visible:first").focus()},1e3),0==r.askedPassword&&(r.askedPassword=!0,window.ev("send","event","password","ask",r.subtool),window.ev("event","password",{tool:r.subtool}))})},m.prototype.fatalError=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null),"ConnectionError"!=(e=void 0===e?null:e)&&l.IloveError.fatalError(e,this.tool,this.workerServer,t,n)},m.prototype.removeFile=function(e){var t,n,e=this.files.getFile(e);return null==e?new Promise(function(e,t){e({})}):(t=e.server_filename,n=e.status,this.files.removeFile(e.id),5!=n?new Promise(function(e,t){e({})}):this.api.removeFile(t))},m.prototype.addIgnoredFile=function(e){this.ignoredFiles.push(e)},m.prototype.getIgnoredFiles=function(){return this.ignoredFiles},m.prototype.isIgnored=function(e){return-1!=this.ignoredFiles.indexOf(e)},m.prototype.deleteIgnored=function(e){e=this.ignoredFiles.indexOf(e);-1!==e&&this.ignoredFiles.splice(e,1)},m.prototype.stop=function(){clearInterval(this.uploadInterval)},m.prototype.checkFatalError=function(){if("error"==this.status)return this.stop(),!0;var n=this;if(0==this.files.files.length)return this.fatalError({error:"NoFiles"}),this.status="error",this.stop(),!0;try{f.each(n.files.files,function(e,t){if("errorData"in t)throw n.fatalError(t.errorData,t.name,"error data on task"),t.errorData})}catch(e){return n.status="error",n.stop(),!0}if(1==n.files.files.length&&!0===n.files.files[0].error)return n.status="error",n.fatalError(n.files.files[0].errorData,n.files.files[0].name,"error field on task"),n.stop(),!0;try{f.each(n.files.files,function(e,t){if("FileRemoved"==t.errorData)throw n.fatalError(t.errorData,t.name,"file removed on task"),t.errorData})}catch(e){return n.stop(),n.status="error",!0}if("merge"==this.tool)try{f.each(n.files.files,function(e,t){if("errorData"in t)throw n.fatalError(t.errorData,t.name,"error data on task, merge tool"),t.errorData})}catch(e){return n.status="error",n.stop(),!0}return!1},v.Process=m}.call(this,y(1))},function(e,t,n){"use strict";var i,o,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.ConfirmFilesProcessContext=void 0,n(54)),s=n(239),l=n(10),n=(o=a.ContextBase,r(c,o),c.prototype.getInitialState=function(){return new s.DefaultState},c.prototype.remove=function(){var e=this.getState();e._cleanup(),e.dispatchEvent(new l.IloveEvent("end",{unload:!0}))},c);function c(e){var t=o.call(this,e)||this;return t.contentName="ConfirmFilesProcessContext",t.triggerReason="triggerReason"in e?e.triggerReason:void 0,t.limits="limits"in e?e.limits:void 0,t.premiumFeatureName="premiumFeatureName"in e?e.premiumFeatureName:void 0,t.tool=e.tool,t}t.ConfirmFilesProcessContext=n},function(e,t,n){"use strict";var i,o,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},s=(Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultState=void 0,n(18)),l=n(10),c=a(n(69)),u=n(86),d=n(21),p=n(43),S=n(13),k=n(77),a=(o=s.StateBase,r(f,o),f.prototype.getInitialScreen=function(){return this.INITIAL_SCREEN},f.prototype.init=function(){this.setTexts(),this.showCorrectImage(),window.ev("sendOnce","event","limits","show",this.ctx.limits.getTool()),window.ev("eventOnce","limit-action",{action:"show",tool:this.ctx.limits.getTool()});var e=this.actionAllFilesYesBtn;if(e&&0<e.length)for(var t=0;t<e.length;t++)e[t].addEventListener("click",this._onYesButtonClick);var n=this.actionAllFilesNoBtn;if(n&&0<n.length)for(var i=0;i<n.length;i++)n[i].addEventListener("click",this._onNoButtonClick);this.initActions()},f.prototype.showFilesToRemove=function(){var e=this.ctx.limits.getLimitedFilenames();this.domRoot.querySelector("#confirmFiles").innerHTML=e.join("<br>")},f.prototype.showCorrectImage=function(){var e=this.domRoot.querySelector(".ocr__icon img"),t="limit";switch(this.ctx.triggerReason){case k.REASON.ERROR_FILES:t="files";break;case k.REASON.ERROR_SIZE:t="size";break;case k.REASON.ERROR_PAGES:t="pages"}e.src=e.src.replace("limit.svg",t+".svg")},Object.defineProperty(f.prototype,"actionAllFilesYesBtn",{get:function(){return this.domStateRoot.querySelectorAll("[next-from-confirm-files-yes]")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"actionAllFilesNoBtn",{get:function(){return this.domStateRoot.querySelectorAll("[next-from-confirm-files-no]")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"taskLimits",{get:function(){var e;return this.currentLimits&&this.premiumLimits||(e=[this.ctx.limits.fileLimits[this.ctx.tool],this.ctx.limits.allFileLimits.premium_limits[this.ctx.tool]],this.currentLimits=e[0],this.premiumLimits=e[1]),[this.currentLimits,this.premiumLimits]},enumerable:!1,configurable:!0}),f.prototype.setTexts=function(){var e,t,n,i,o,r=this.domRoot.querySelector("#confirmTitle"),a=this.domRoot.querySelector("#confirmCurrent"),s=this.domRoot.querySelector("#confirmPremium"),l=this.domRoot.querySelector(".limit-slide__slide__current"),c=this.domRoot.querySelector("#confirmRemove"),u=this.domRoot.querySelector("#confirmLimit"),d=this.domRoot.querySelector("#confirmUse"),p=this.domRoot.querySelector("[next-from-confirm-files-no]"),f=this.domRoot.querySelector("[next-from-confirm-files-yes]"),h=this.ctx.limits.canContinueWithoutPremium(),g=this.taskLimits,m=g[0],v=g[1];switch(this.ctx.triggerReason){case k.REASON.ERROR_FILES:if(!this.ctx.limits)throw"Limits object is needed to translate text";e=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesNum_title"]').innerHTML,r.innerHTML=S.Lang.tr(e,{n:m.files}),o=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesNum_added"]').innerHTML,l.setAttribute("data-title",S.Lang.tr(o,{n:this.ctx.limits.files.countNotIgnored()})),n=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesNum_premium"]').innerHTML,s.innerHTML=S.Lang.tr(n,{n:v.files}),t=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesNum_premium"]').innerHTML,a.innerHTML=S.Lang.tr(t,{n:m.files}),0==h&&(i=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesNum_cancel"]').innerHTML,c.innerHTML=S.Lang.tr(i,{n:v.files}));break;case k.REASON.ERROR_SIZE:if(!this.ctx.limits)throw"Limits object is needed to translate text";var y=m.mb,_=Math.round(100*y/1e3)/100,b=v.mb,w=Math.round(100*b/1e3)/100,x=Math.round(100*this.ctx.limits.files.getFileSizeNotIgnored()/1024/1024)/100,E=Math.round(100*x/1e3)/100;y<1e3?(e=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesSizeMb_title"]').innerHTML,r.innerHTML=S.Lang.tr(e,{n:y})):(e=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesSizeGb_title"]').innerHTML,r.innerHTML=S.Lang.tr(e,{n:_})),x<1e3?(o=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesSizeMb_added"]').innerHTML,l.setAttribute("data-title",S.Lang.tr(o,{n:x}))):(o=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesSizeGb_added"]').innerHTML,l.setAttribute("data-title",S.Lang.tr(o,{n:E}))),b<1e3?(n=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesSizeMb_premium"]').innerHTML,s.innerHTML=S.Lang.tr(n,{n:b})):(n=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesSizeGb_premium"]').innerHTML,s.innerHTML=S.Lang.tr(n,{n:w})),y<1e3?(t=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesSizeMb_current"]').innerHTML,a.innerHTML=S.Lang.tr(t,{n:y})):(t=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesSizeGb_current"]').innerHTML,a.innerHTML=S.Lang.tr(t,{n:_})),0==h&&(b<1e3?(i=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesSizeMb_cancel"]').innerHTML,c.innerHTML=S.Lang.tr(i,{n:b})):(i=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesSizeGb_cancel"]').innerHTML,c.innerHTML=S.Lang.tr(i,{n:w})));break;case k.REASON.ERROR_PAGES:if(!this.ctx.limits)throw"Limits object is needed to translate text";e=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesPages_title"]').innerHTML,r.innerHTML=S.Lang.tr(e,{n:m.pages}),o=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesPages_added"]').innerHTML,l.setAttribute("data-title",S.Lang.tr(o,{n:this.ctx.limits.files.getFilePagesNotIgnored()})),n=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesPages_premium"]').innerHTML,s.innerHTML=S.Lang.tr(n,{n:v.pages}),t=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesPages_current"]').innerHTML,a.innerHTML=S.Lang.tr(t,{n:m.pages}),0==h&&(i=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFilesPages_cancel"]').innerHTML,c.innerHTML=S.Lang.tr(i,{n:v.pages}))}g=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFiles_limit"]').innerHTML,u.innerHTML=S.Lang.tr(g,{n:this.ctx.limits.files.countNotLimited()}),u=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFiles_use"]').innerHTML,d.innerHTML=S.Lang.tr(u,{n:this.ctx.limits.files.countNotIgnored()}),0==h?(p.innerHTML=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFiles_cancel"]').innerHTML,f.querySelector("#confirmUse").remove(),this.initAllFeaturesTooltip(this.domRoot)):(i=document.querySelector('.confirm-files__text-translations [data-key="triggerReason_errorFiles_remove"]').innerHTML,c.innerHTML=S.Lang.tr(i,{n:this.ctx.limits.getLimitedFiles().length}),(g=c.querySelector("span"))&&g.setAttribute("title",this.getFilesToRemove()))},Object.defineProperty(f.prototype,"limitSilder",{get:function(){return this.domRoot.querySelector(".limit-slide__slide__free")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"addedSilder",{get:function(){return this.domRoot.querySelector(".limit-slide__slide__current")},enumerable:!1,configurable:!0}),f.prototype.initActions=function(){var e,t,n,i=this,o=this.taskLimits,r=o[0],a=o[1];switch(this.ctx.triggerReason){case k.REASON.ERROR_FILES:e=r.files,t=this.ctx.limits.files.countNotIgnored(),n=a.files;break;case k.REASON.ERROR_SIZE:e=r.mb,t=this.ctx.limits.files.getFileSizeNotIgnored(),n=1024*a.mb*1024;break;case k.REASON.ERROR_PAGES:e=r.pages,t=this.ctx.limits.files.getFilePagesNotIgnored(),n=a.pages}var s=100*e/n,l=100*t/n;s<3&&(s=3),l<4&&(l=4),this.sliderTimeout=window.setTimeout(function(){i.limitSilder.style.width=s+"%";var e=i.addedSilder;document.body.classList.contains("rtl")?e.style.right=l+"%":e.style.left=l+"%",e.classList.add("tooltip"),i.sliderTooltipTimeout=window.setTimeout(function(){p.Tooltip.init()},1e3)},200)},f.prototype._cleanup=function(){var e,t=this.addedSilder;window.clearTimeout(this.sliderTimeout),window.clearTimeout(this.sliderTooltipTimeout),t&&(null!=(e=null==(e=t)?void 0:e._tippy)&&e.destroy(),t.classList.remove("tooltip"))},f.prototype.getFilesToRemove=function(){var e=this.ctx.limits.getLimitedFilenames();return e.slice(0,5).join("<br>")+(5<e.length?"<br>...":"")},f.prototype.initAllFeaturesTooltip=function(e){var t,n=this;this.tooltipRoot||(this.tooltipRoot=e.querySelector(".new-premium__all-features-tooltip"),this.tooltipRoot&&(t=e.querySelector(".new-premium__all-features-tooltip__html-template"))&&(this.tooltipRoot.classList.add("tooltip"),window.setTimeout(function(){window.tippy(n.tooltipRoot,{allowHTML:!0,theme:"light new-premium-all-features-tooltip",content:t.innerHTML,placement:"bottom",arrow:!0,animation:"fade",trigger:"mouseenter",interactive:!0,zIndex:99999})},1e3)))},f);function f(){var t=null!==o&&o.apply(this,arguments)||this;return t.name="DefaultState",t.LAYOUT_TEMPLATE_NAME="confirm-files",t.INITIAL_SCREEN="default",t.onDomReady=function(){t.changeScreen(t.getInitialScreen()),t.clearLoadingScreen(),t.init()},t._onYesButtonClick=function(e){e.preventDefault(),d.UserModel.isRealPremium()?t.dispatchEvent(new l.IloveEvent("end")):((e=new c.default({dialogName:"becomePremium"})).setContentBuilder(function(){return new u.PremiumContext({tool:t.ctx.tool,triggerReason:t.ctx.triggerReason,limits:t.ctx.limits})}),e.show(),e.addEventListener("closed",function(){d.UserModel.isPremium()&&(window.ev("sendOnce","event","limits","premium",t.ctx.tool+"-"+t.ctx.triggerReason),window.ev("eventOnce","limit-action",{action:"premium",tool:t.ctx.tool,reason:t.ctx.triggerReason}),t._cleanup(),t.dispatchEvent(new l.IloveEvent("end")))}))},t._onNoButtonClick=function(e){e.preventDefault(),!1===t.ctx.limits.canContinueWithoutPremium()?(window.ev("sendOnce","event","limits","cancel",t.ctx.tool+"-"+t.ctx.triggerReason),window.ev("eventOnce","limit-action",{action:"cancel",tool:t.ctx.tool,reason:t.ctx.triggerReason}),window.location.reload()):(window.ev("sendOnce","event","limits","free",t.ctx.tool+"-"+t.ctx.triggerReason),window.ev("eventOnce","limit-action",{action:"free",tool:t.ctx.tool,reason:t.ctx.triggerReason}),t._cleanup(),t.dispatchEvent(new l.IloveEvent("end")))},t}t.DefaultState=a},function(e,s,l){"use strict";!function(t){Object.defineProperty(s,"__esModule",{value:!0}),s.UploadManager=void 0;var n=l(241),i=l(242),o=l(130),r=l(43),a=l(243);function e(e){this.id="pickfiles",this.optionsManager=null,this.processManager=null,this.config=null,this.files=null,this.workerServer=null,this.startServer=null,this.token=null,this.tool=null,this.taskId=null,this.servers=null,Object.assign(this,e),this.plupload=null,this.drive=null,this.dropbox=null,this.firstFile=!1,this.init()}e.prototype.init=function(){this.plupload=new o.PluploadUpload({id:this.id,optionsManager:this.optionsManager,processManager:this.processManager,config:this.config,files:this.files,workerServer:this.workerServer,startServer:this.startServer,token:this.token,tool:this.tool,taskId:this.taskId,servers:this.servers,haveDrop:!0,dropElement:"workArea"}),window.pluploader=this.plupload,this.drive=new n.DriveUpload({id:"gdrive_file_selector",optionsManager:this.optionsManager,processManager:this.processManager,config:this.config}),this.dropbox=new i.DropboxUpload({id:"dropbox_file_selector",optionsManager:this.optionsManager,processManager:this.processManager,config:this.config}),this.ws=new a.WsUpload({optionsManager:this.optionsManager});var e=this;t("#pickfiles").on("click",function(){e.firstClick()}),r.Tooltip.disable("#pickfiles"),t("#gdrive_file_selector").on("click",function(){e.firstClick()}),t("#dropbox_file_selector").on("click",function(){e.firstClick()})},e.prototype.firstClick=function(){"pickfiles"==this.id&&0==this.firstFile&&(this.firstFile=!0)},s.UploadManager=e}.call(this,l(1))},function(e,t,n){"use strict";var i,o,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return s(t,e),t},h=this&&this.__awaiter||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,o)}r((l=l.apply(e,a||[])).next())})},g=this&&this.__generator||function(i,o){var r,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(s=0<(s=l.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],a=0}finally{r=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},c=(Object.defineProperty(t,"__esModule",{value:!0}),t.DriveUpload=void 0,n(166)),u=l(n(23)),l=(o=c.DriveService,r(d,o),d.prototype.getUploadParams=function(e){e={task:this.processManager.taskId,preview:1==window.processStart?0:1,pdfinfo:1==window.pdfinfo?1:0,drive_token:this.oauthToken,cloud_source:"drive",cloud_file:e.id};return e},d.prototype.drive=function(){var s,e,t,n,i,o,r,a,l,c,u=this;function d(){return h(this,void 0,void 0,function(){return g(this,function(e){switch(e.label){case 0:return[4,window.gapi.client.load("https://www.googleapis.com/discovery/v1/apis/drive/v3/rest")];case 1:return e.sent(),a=!0,p(),[2]}})})}function p(){a&&l&&!function(){var e=this;o.callback=function(t){return h(e,void 0,void 0,function(){return g(this,function(e){switch(e.label){case 0:if(void 0!==t.error)throw t;return r=t.access_token,s.oauthToken=r,[4,c()];case 1:return e.sent(),[2]}})})},o.requestAccessToken()}()}function f(e){var t,a;e.action===window.google.picker.Action.PICKED&&(t=e[window.google.picker.Response.DOCUMENTS],a=!1,JSON.stringify(e,null,2),t.forEach(function(e,n){var i=e[window.google.picker.Document.ID],o=(e[window.google.picker.Document.URL],e[window.google.picker.Document.NAME]),r=e[window.google.picker.Document.SIZE_BYTES];window.setTimeout(function(){return h(this,void 0,void 0,function(){var t;return g(this,function(e){switch(e.label){case 0:return a?[2]:[4,window.gapi.client.drive.files.get({fileId:i,fields:"*"})];case 1:return t=e.sent(),JSON.stringify(t.result,null,2),t.result.originalFilename=o,t.result.fileSize=r,s.fileAdded(t.result).then(function(){s.uploadFile(t.result,n)},function(e){s.optionsManager.removeFile(t.result.id),a=!0}),[2]}})})},150*(n+1))}))}1==this.preloadSrc?this.preloadSrc=!1:(e=(s=this).scope,t=this.clientId,n=this.developerKey,i=this.appId,r=null,l=a=!1,c=function(){var e=window.google.picker.ViewId.DOCS,t=u.config.getConfig("mimeTypes"),e=("Pdf files"==t[0].title?e=window.google.picker.ViewId.PDFS:"Word files"==t[0].title?e=window.google.picker.ViewId.DOCUMENTS:"Excel files"==t[0].title?e=window.google.picker.ViewId.SPREADSHEETS:"Powerpoint files"==t[0].title?e=window.google.picker.ViewId.PRESENTATIONS:"Image files"==t[0].title&&(e=window.google.picker.ViewId.DOCS_IMAGES),new window.google.picker.View(e));null!=t[0].mime&&e.setMimeTypes(t[0].mime),(new window.google.picker.PickerBuilder).enableFeature(window.google.picker.Feature.NAV_HIDDEN).enableFeature(window.google.picker.Feature.MULTISELECT_ENABLED).setDeveloperKey(n).setAppId(i).setOAuthToken(r).addView(e).addView(new window.google.picker.DocsUploadView).setCallback(f).build().setVisible(!0)},window.gapi.load("client:picker",d),o=window.google.accounts.oauth2.initTokenClient({client_id:t,scope:e,callback:""}),l=!0,p())},d.prototype.fileAdded=function(e){e.runtime="html5",e.percent=0,e.service="drive",e.origin="drive",e.name=e.originalFilename,e.filename=e.originalFilename,e.uri=this.URL_API+"files/"+e.id+"?alt=media",e.url=this.getThumbnailLink(e.thumbnailLink),e.size=null!=(t=e.size)?t:e.fileSize,e.token=this.oauthToken,e.canvasId=e.id,e.extension=e.fileExtension;try{e.width=e.imageMediaMetadata.width,e.height=e.imageMediaMetadata.height}catch(e){}if(e.mimeType)switch(e.mimeType){case"application/vnd.google-apps.document":e.extension="docx";break;case"application/vnd.google-apps.presentation":e.extension="pptx";break;case"application/vnd.google-apps.spreadsheet":e.extension="xlsx"}this.optionsManager.files.addFile(e);var t=this.optionsManager.checkLimits([e],"drive");return 0<t.length?this.optionsManager.fileAdded(t[0],"drive"):Promise.reject()},d.prototype.uploadFile=function(n,e){var t=this,i=this,e=500*(e=void 0===e?0:e);window.setTimeout(function(){t.processManager.api.request("POST","upload",i.getUploadParams(n)).then(function(e){i.processManager.files.updateFile(n.id,{process:100,percent:100,server_filename:e.server_filename}),i.optionsManager.fileUploaded(n.id,e)},function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(e){t={}}t.file=n.id,n.error=!0,i.processManager.files.updateFile(n.id,{process:0,percent:0,error:!0}),i.optionsManager.invalidUpload({error:"CloudError",file:{id:n.id}}),u.configureScope(function(e){e.setExtra("error",t)}),u.captureMessage("Upload from drive error"),i.optionsManager.invalidUpload(t)})},e)},d.prototype.downloadFile=function(i){var o=this;return new Promise(function(t,e){var n=new XMLHttpRequest;n.responseType="arraybuffer",n.onload=function(){var e;200===n.status&&(e=n.response,t(e))},n.onprogress=function(e){e.loaded,e.total},n.open("GET",o.URL_API+"files/"+i.id+"?alt=media"),n.setRequestHeader("Authorization","Bearer "+o.oauthToken),n.send()})},d);function d(e){var n=o.call(this,e=void 0===e?{}:e)||this;return n.getThumbnailLink=function(e){var t;return(null==(t=n.config.getConfig("uploader"))?void 0:t.drive.thumbnailLinkWithoutSize)?n.substringBeforeChars(e,"="):e},n.substringBeforeChars=function(e,t){t=e.lastIndexOf(t);return-1!==t?e.substring(0,t):e},n.optionsManager=null,n.processManager=null,n.pickerApiLoaded=!1,n.oauthToken=null,n.userEmail=null,n.id=null,n.config=null,Object.assign(n,e),n.start(),n}t.DriveUpload=l},function(e,u,d){"use strict";!function(o){var i,n,e=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),t=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},s=(Object.defineProperty(u,"__esModule",{value:!0}),u.DropboxUpload=void 0,d(167)),l=t(d(23)),t=(n=s.DropboxService,e(c,n),c.prototype.fileAdded=function(e){e.id=e.id.replace(":",""),e.runtime="html5",e.percent=0,e.service="dropbox",e.url=e.link,e.size=e.bytes,e.canvasId=e.id,e.filename=e.name,e.origin="dropbox",this.optionsManager.files.addFile(e),this.optionsManager.checkLimits([],""),this.optionsManager.fileAdded(e,"dropbox")},c.prototype.getUploadParams=function(e){return{task:this.processManager.taskId,cloud_source:"dropbox",cloud_file:e.link,dropbox_link:e.link,preview:1==window.processStart?0:1,pdfinfo:1==window.pdfinfo?1:0}},c.prototype.uploadFile=function(n){var i=this;this.processManager.api.request("POST","upload",this.getUploadParams(n)).then(function(e){i.processManager.files.updateFile(n.id,{process:100,percent:100,server_filename:e.server_filename}),i.optionsManager.fileUploaded(n.id,e)},function(t){n.error=!0,i.processManager.files.updateFile(n.id,{process:0,percent:0,error:!0}),i.optionsManager.invalidUpload({error:"CloudError",file:{id:n.id}}),l.configureScope(function(e){e.setExtra("error",JSON.parse(t))}),l.captureMessage("Upload from dropbox error")})},c);function c(e){var t=n.call(this,e=void 0===e?{}:e)||this;return t.dropbox=function(){var n=t,e=t.config.getConfig("mimeTypes")[0].extensions.split(","),i=[];o.each(e,function(e,t){i.push("."+t)}),window.Dropbox.choose({success:function(e){o.each(e,function(e,t){n.fileAdded(t),n.uploadFile(t)})},cancel:function(){},error:function(t){l.configureScope(function(e){e.setExtra("error",t)}),l.captureMessage("Dropbox upload error")},linkType:"direct",multiselect:!0,extensions:i})},t.optionsManager=null,t.processManager=null,t.id=null,t.config=null,Object.assign(t,e),t.start(),t}u.DropboxUpload=t}.call(this,d(1))},function(e,t,n){"use strict";function i(e){e=e.optionsManager;this.optionsManager=e}Object.defineProperty(t,"__esModule",{value:!0}),t.WsUpload=void 0,i.prototype.fileArrayAdded=function(e){var t=this;e.forEach(function(e){e.id=t.escape(e.id),e.canvasId=e.id,t.optionsManager.files.getFile(e.id)||(t.optionsManager.files.addFile(e),t.optionsManager.fileAdded(e,"WebSocket"))})},i.prototype.fileRemoved=function(e){e=this.escape(e),this.optionsManager.removeFile(e),this.optionsManager.fileRemoved(e)},i.prototype.fileUploaded=function(e,t){e=this.escape(e),this.optionsManager.files.updateFile(e,{server_filename:t,percent:100}),this.optionsManager.fileChanged(e)},i.prototype.fileProgressUpdated=function(e,t){e=this.escape(e),this.optionsManager.files.updateFile(e,{percent:t}),this.optionsManager.fileChanged(e)},i.prototype.escape=function(e){for(var t="",n=0;n<e.length;n++){var i=e[n];t+=Number(i.charCodeAt(0)).toString(36)}return"str"+t},t.WsUpload=i},function(e,i,t){"use strict";!function(t){function n(){}Object.defineProperty(i,"__esModule",{value:!0}),i.Network=void 0,n.checkNetwork=function(){var e=navigator.onLine;window.setInterval(function(){navigator.onLine?0==e&&(e=!0,n.hideNetworkAlert()):1==e&&(e=!1,n.showNetworkAlert(),t("#uploadSpeed").html("0 KB/s"),t("#timeLeft").html("&infin;"))},1e3)},n.showNetworkAlert=function(){t("#network").css("display","flex").hide().fadeIn()},n.hideNetworkAlert=function(){t("#network").fadeOut()},n.waitForConnection=function(i){void 0===i&&(i=null);var o=0;return new Promise(function(e,t){var n=window.setInterval(function(){navigator.onLine&&(window.clearInterval(n),e()),o+=1e3,null!=i&&i<=o&&(window.clearInterval(n),t())},1e3)})},i.Network=n}.call(this,t(1))},function(e){e.exports=JSON.parse('{"default":{"mimeTypes":[{"title":"All files"}],"multiSelection":true}}')},function(e,x,E){"use strict";!function(s){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),e=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},n=(Object.defineProperty(x,"__esModule",{value:!0}),x.OptionsManager=void 0,E(213)),r=E(77),l=E(13),c=E(43),u=e(E(23)),a=E(15),d=E(33),p=E(21),f=E(214),h=E(79),g=E(103),m=E(247),v=E(86),y=E(121),_=t(E(69)),b=t(E(70));function w(e){void 0===e&&(e={}),this.backCount=0,this.forwardCount=0,this.backRefreshInterval=null,this._BACKREFRESH_TIME=3e5,this.limitDialogOpen=null,this.config={},this.processManager=null,this.tool=null,this.subtool=null,this.toolText="Process",this.template=null,this.defaultOptions={},this.fileLimits=null,this.allFileLimits=null,this.level="user",this.userToken=null,this.workerServer=null,this.startServer=null,this.hideRotation=!1,this.levelTemp="user",this.options={},this.values={},this.files=null,this.started=!1,this.workareaStarted=!1,this.viewManager=null,this.limits=null,this.ignoreLimits=!1,this.damagedRemove=!1,this.premiumTask=!1,this.processBtnPulseTimeout=7e3,this.showFileGroups=!0,this.processBlock=!1,this.checkServerStatusOnStart=!1,Object.assign(this,e),null==this.subtool&&(this.subtool=this.tool),null==this.toolText&&(this.toolText=this.tool),this.limits=new r.Limits({files:this.files,fileLimits:this.fileLimits,allFileLimits:this.allFileLimits,tool:this.tool,subtool:this.subtool}),this.removedFiles=0,window.processStart=!1,window.iuser=p.UserModel,h.LinkTitle.disable(s("#pickfiles")),this.tryInitByParent(),this.removeFilesOnLimitReatched="b"==(null!=(e=window.ab)&&e.limits?window.ab.limits:"a"),this.checkBackRefresh()}w.prototype.tryInitByParent=function(){var n=this;0<this.files.files.length&&(this.init(),s.each(this.files.files,function(e,t){n.fileAdded(t,"parent").then(function(){},function(){})}))},w.prototype.init=function(){!0!==this.started&&(s("#sidebar").prepend(this.getInnactiveView()),this.startPanels(),this.started=!0),this.initViewManager()},w.prototype.initViewManager=function(){},w.prototype.checkLimits=function(e,t){var n=this.getLimit();return this.actionLimitReatched(n),e=null===n||1!=this.limits.hasSurpasedLimits(n)&&1!=this.removeFilesOnLimitReatched?e:this.removeLimitFiles(e,!0)},w.prototype.getLimit=function(){return this.limits.checkFileLimits(this.files.getFileSizeNotIgnored(),this.files.countNotIgnored(),this.files.getFilePagesNotIgnored())},w.prototype.actionLimitReatched=function(e,t){var n,i=this;void 0===t&&(t=!1),null!==e?(window.ib&&window.ib.set("p","l"),this.setLimitedFiles(),n=this.limits.hasSurpasedLimits(e),!t&&this.alertElement&&!n&&!0!==this.removeFilesOnLimitReatched||null!=this.limitDialogOpen&&!0!==this.removeFilesOnLimitReatched?this.displayLimitsAlert():(this.limitDialogOpen=this.displayLimitsDialog(e),this.limitDialogOpen&&this.limitDialogOpen.addEventListener("closed",function(e){var t;p.UserModel.isRealPremium()?(i.files.resetLimitedFiles(),i.hideLimitsAlert(),i.limits.sendEventLimitsChanged()):null==(t=i.getLimit())||i.limits.hasSurpasedLimits(t)?(i.limits.sendEventLimitsChanged(),i.hideLimitsAlert()):i.displayLimitsAlert(),i.limitDialogOpen=null}))):(this.files.resetLimitedFiles(),this.hideLimitsAlert())},Object.defineProperty(w.prototype,"alertElementId",{get:function(){return"limitAlert"},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"alertElement",{get:function(){return document.getElementById(this.alertElementId)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"alertElementHeader",{get:function(){return document.querySelector("#"+this.alertElementId+" .limit-alert__header")},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"alertElementContent",{get:function(){return document.querySelector("#"+this.alertElementId+" .limit-alert__content")},enumerable:!1,configurable:!0}),w.prototype.displayLimitsAlert=function(){var e=this,t=this.alertElement,n=this.alertElementHeader,i=this.alertElementContent,n=(t||((t=document.createElement("div")).id=this.alertElementId,t.classList.add("limit-alert"),(n=document.createElement("div")).classList.add("limit-alert__header"),(i=document.createElement("div")).classList.add("limit-alert__content"),i.innerHTML=n.innerHTML=l.Lang.t("upgradePremium"),t.appendChild(n),t.appendChild(i),t.addEventListener("click",function(){e.actionLimitReatched(e.getLimit(),!0)}),document.getElementById("workArea").appendChild(t)),this.limits.getLimitTexts());i.innerHTML="<div>"+n.current+"</div><div>"+n.premium+"</div>",t.style.display="block",t.classList.add("limit-alert--"+n.limit)},w.prototype.hideLimitsAlert=function(){this.alertElement&&(this.alertElement.style.display="none",this.limits.resetEventSent())},w.prototype.displayLimitsDialog=function(e,t){var n=this,i=(void 0===t&&(t=!1),this.limits.getNextLimit(e)),t=t||!1===i.nextValue,i=null,o=y.Dialog.getVisibleDialogs().find(function(e){return"PremiumContext"===e.getContent().contentName||"NoMoreLimitsContext"===e.getContent().contentName});if(e===r.REASON.ERROR_FEATURE){if(o)return;i=function(){return new v.PremiumContext({tool:n.limits.getTool(),limits:n.limits,triggerReason:e})}}else if(t)i=function(){return new m.NoMoreLimitsContext({tool:n.limits.getTool(),limits:n.limits,triggerReason:e})};else{if(o)return;i=function(){return new v.PremiumContext({tool:n.limits.getTool(),limits:n.limits,triggerReason:e})}}t=new _.default({dialogName:"Limits"});return t.setContentBuilder(i),t.show(),s("#pickfiles").addClass("limitsShow"),t},w.prototype.removeLimitFiles=function(e,t){void 0===t&&(t=!1);var n=this.limits.checkFileLimits(this.files.getFileSizeNotIgnored(),this.files.countNotIgnored()),i=this.limits.hasSurpasedLimits(n);if(null!==n&&(1==t&&1==i||1==this.removeFilesOnLimitReatched)){n=e.pop();try{n&&([].push(n.id),this.files.removeFile(n.id,!0))}catch(e){}if(0<e.length)try{e=this.removeLimitFiles(e,t)}catch(e){}}return e},w.prototype.setLimitedFiles=function(){this.limits.setFileLimits()},w.prototype.fileAdded=function(i,e,o){var r=this,a=(void 0===o&&(o=!1),this);return i.name&&(i.name=g.TextHelper.stripTags(i.name).replace('"',"")),i.filename&&(i.filename=g.TextHelper.stripTags(i.filename).replace('"',"")),new Promise(function(t,n){1==o&&(a.limits.addIgnoredFile(i.id),a.processManager.addIgnoredFile(i.id),a.files.updateFile(i.id,{ignored:!0}));var e=a.limits.checkFileLimits(a.files.getFileSizeNotIgnored(),a.files.countNotIgnored(),a.files.getFilePagesNotIgnored());null!==e&&(a.limits.setFileLimits(),r.alertElement&&0==r.limits.hasSurpasedLimits(e)?r.displayLimitsAlert():r.displayLimitsDialog(e),a.setFilecount()),a.makeWorkarea().then(function(){var e=null,e=("function"==typeof i.getSource&&(e=i.getSource().getSource()),{name:i.name,id:i.id,canvasId:i.canvasId,tool:a.tool,subtool:a.subtool,size:i.size,source:e,url:i.url,uri:i.uri,token:i.token,runtime:i.runtime,service:i.service,thumbnail:i.thumbnail,rotable:i.rotable});i.extension&&(e.name+="."+i.extension),0==a.config.getConfig("multiSelection")&&s("#uploader").hide(),a.viewManager.addFileDOM(e).then(function(e){a.setValue("numPages",e.numPages),a.printValues("numPages",e.numPages),a.setValue("width",e.width),a.printValues("height",e.height),a.fileReady(i),1!=o&&a.setFilecount(),a.initFileNameEditable(i.id),c.Tooltip.init(),t({})},function(e){"PasswordException"==e.name?(s("#"+i.id).attr("title",l.Lang.t("paswordRequired")).attr("data-title",l.Lang.t("paswordRequired")),c.Tooltip.setContent(s("#"+i.id),l.Lang.t("paswordRequired"))):(s("#"+i.id).attr("title",l.Lang.t("damaged file?")).attr("data-title",l.Lang.t("damaged file?")),c.Tooltip.setContent(s("#"+i.id),l.Lang.t("damaged file?"))),s("#"+i.id+" .file__info__size").hide(),c.Tooltip.init();try{if("removeFile"==e.name)return void n()}catch(e){}"function"==typeof a.damagedAction&&a.damagedAction(),1==a.damagedRemove?(a.fileAddError(i.id),n()):(a.setFilecount(),c.Tooltip.init(s("#"+i.id+" .remove")),"noRenderMode"!=e&&s("#cover-"+i.canvasId).addClass("error"),t({}))}),0==a.config.getConfig("multiSelection")&&s("#uploader").hide()},function(e){u.captureMessage("Fail: createworkarea"),n()})})},w.prototype.initFileNameEditable=function(e){var t,n,i=this;!1!==this.nameEditable&&0!=(t=s("#"+e+" .file__info__name")).length&&(n=t.text().split(".").pop(),t.attr("contenteditable","true"),t.attr("data-ext","true"),t.attr("data-orig",t.text()),t.on("change keyup mouseup",function(){i.files.updateFile(e,{rename:g.TextHelper.stripTags(t.text().replace(/"/g,""))})}),t.on("blur",function(){t.html(g.TextHelper.stripTags(t.text().replace(/"/g,""))),""!=t.text()&&t.text()!="."+n||t.html(t.attr("data-orig")),t.text()==n&&t.html(n+"."+n),t.text().split(".").pop()!=n&&(t.html(t.text()+"."+n),i.files.updateFile(e,{rename:t.text()}))}))},w.prototype.setFilecount=function(){var e=this.files.countNotIgnored(),t=s("#filecount");0==t.length?s("#uploader").prepend('<div id="filecount">'+e+"</div>"):t.html(e.toString())},w.prototype.fileUploaded=function(e,t){this.files.updateFile(e,t);var n;null!==this.viewManager&&(null!=(n=this.files.getFile(e))&&"thumbnail"in n&&null!=n.thumbnail&&(n.thumbnail=this.workerServer+"/thumbnails/"+n.thumbnail),this.viewManager.fileUploaded(e,t))},w.prototype.changeServer=function(e){this.processManager.workerServer=e,this.processManager.api.workerServer=e,this.workerServer=e},w.prototype.fileReady=function(e){var t=e.canvasId,n=e.canvasId;this.limits.checkHasLimits("pages")&&0==this.checkLimits([e],null).length?(this.viewManager.removeFile(t),this.fileRemoved(n)):(this.fileChanged(e),t=s("#"+e.id),n=d.Tools.bytesToSize(e.size),0<t.length&&"width"in e&&"height"in e?(n=n+" - "+e.width+"x"+e.height,t.attr("data-width",e.width).attr("data-height",e.height)):"file"in e&&e.file&&"numPages"in e.file&&(n=n+" - "+l.Lang.t("numPages",{numPages:e.file.numPages})),this.checkRotation(e),t.attr("title",n).attr("data-title",n).addClass("tooltip"),c.Tooltip.init(),this.setFilecount())},w.prototype.checkRotation=function(t){if(!0===this.hideRotation)s(".rotate").hide();else try{var e=t.name.substr(t.name.lastIndexOf(".")+1).toUpperCase();-1==["JPG","JPEG","PNG","GIF","PDF","DOC","DOCX","XLS","XLSX","PPT","PPTX"].indexOf(e)&&s("#"+t.canvasId+" .rotate").hide()}catch(e){s("#"+t.canvasId+" .rotate").hide()}},w.prototype.makeWorkarea=function(){var n=this;return new Promise(function(e,t){1!=n.workareaStarted&&(n.workareaStarted=!0,s("#contentArea").hide(),s(".tool__workarea__rendered").css("display","flex").hide().fadeIn(),0==n.showFileGroups&&s("#fileGroups").hide(),n.moveUploader(),n.workareaActions()),e({})})},w.prototype.workareaActions=function(){},w.prototype.moveUploader=function(){var e=s("#uploader"),t=(c.Tooltip.init(),s("#uploadDisk").on("click",function(){s("#uploader input").trigger("click")}),e.attr("data-title"));void 0!==t&&"false"!==t||(t=e.attr("title"),e.attr("data-title",t)),e.attr("title",""),e.hide(),s("body").addClass("sidebar-active"),s("body").addClass("tool-"+this.tool),s(".uploader__extra a").removeClass("tooltip--right").addClass("tooltip--left"),this.init(),e.detach(),e.addClass("box"),s("#settingsToogle").on("click",function(){s(".tool").toggleClass("tool--toggle")}),s("#orderByName").on("click",function(){s(this).toggleClass("order--desc");var e=s(this).data("order");"asc"==e?s(this).data("order","desc"):s(this).data("order","asc"),s("#fileGroups > div").tsort({order:e,natural:!0})});try{e.insertAfter("#settingsToogle")}catch(e){}this.onUploaderMoved(e)},w.prototype.onUploaderMoved=function(e){var t=this;window.googletag&&window.googletag.pubads&&window.googletag.pubads().setTargeting&&window.googletag.pubads().setTargeting("pos","wrk"),t.config.getConfig("multiSelection")&&e.fadeIn("slow",function(){t.onUploaderMovedAndShow()})},w.prototype.onUploaderMovedAndShow=function(){s("#pickfiles").addClass("tooltip"),c.Tooltip.enable(s("#pickfiles")),0<s(".modal.show").length||s("#pickfiles").hasClass("limitsShow")||(c.Tooltip.show(s("#pickfiles"),5e3),window.tooltip=c.Tooltip)},w.prototype.checkProcessBtn=function(){"no"==s(".option__panel--active").data("process")?s("#processTask").fadeOut():(s("#processTask").fadeIn(),this.checkProcessPulse())},w.prototype.checkProcessPulse=function(){var e;window.Cookies&&1!=s("#processTask").is(":disabled")&&(e=parseInt(b.default.get("pulse"))||0,e++,window.Cookies.set("pulse",""+e),e<3)&&setTimeout(function(){s("#processTask").addClass("pulse")},this.processBtnPulseTimeout)},w.prototype.startPanels=function(){1!=this.panelsStarted&&(this.panelsStarted=!0,this.initDefaultOptions(),this.initDefaultValues(),this.initActions(),this.initFromUrl(),this.addButtonTask(),this.checkProcessBtn(),this.premiumActions())},w.prototype.premiumActions=function(){p.UserModel.isRealPremium()&&s("#ocr-options").show()},w.prototype.initDefaultOptions=function(){var n=this;s.each(n.defaultOptions,function(e,t){n.setOption(e,t)})},w.prototype.initDefaultValues=function(){var n=this;s.each(n.defaultOptions,function(e,t){n.setValue(e,t)}),n.setValue("numPages",0)},w.prototype.initFromUrl=function(){var e=location.hash.substr(1).split(",");if("process"!=e[0]){var t="",n="";e[0]&&(t=e[0]),e[1]&&(n=e[1]);try{""!=t&&0==s("#"+t).length&&(t="")}catch(e){t=""}if(""==t||"undefined"==t?(t=s(".option__panel--active").attr("id"),this.callPanelActions(t)):s(".option__panel").first().attr("id")!=t&&(s(".option__panel").first().removeClass("option__panel--active").addClass("option__panel--inactive"),s("#"+t).addClass("option__panel--active"),this.callPanelActions(t)),s("#"+t+" .option__tab__select__item").removeClass("option--active"),s("#"+t+" .option__tab__content").removeClass("option__tab__content--active"),void 0!==n&&""!=n)try{s("#tab-"+n).addClass("option--active"),s("#tab-content-"+n).addClass("option__tab__content--active"),this.callTabActions(n)}catch(e){}else{e=s("#"+t+" .option__tab__select__item");0<e.length&&(n=e.first().attr("data-target"),e.first().trigger("click"))}}},w.prototype.initActions=function(){function t(e){var t=(s(e).val()-parseInt(s(e).attr("min")))/(parseInt(s(e).attr("max"))-parseInt(s(e).attr("min")));s(e).attr("data-value",t),s(e).css("background-image","-webkit-gradient(linear, left top, right top, color-stop("+t+", #E5322D), color-stop("+t+", #7A9FAB))")}var o=this,e=(window.addEventListener("fileRemoved",function(e){o.fileRemoved(e.detail)},!1),this.initBackFromProcessListenEvent(),1<s(".option__panel").length&&window.addEventListener("popstate",function(e){var e=e.state,t=null,t=null===e?s(".option__panel").first().attr("id"):e.id;s("#"+t).addClass("option__panel--inactive"),s(".option__panel").removeClass("option__panel--active"),s("#"+t).removeClass("option__panel--inactive").addClass("option__panel--active"),o.checkProcessBtn(),o.callPanelActions(t)}),s(".option__description__more__toggle").each(function(){s(this).on("click",function(e){e.stopPropagation(),s(this).parent().toggleClass("option__description__more--extend")})}),s(".option__select__item").on("click",function(){if(s(this).hasClass("option--disabled"))return!0;s(this).siblings().removeClass("option--active"),s(this).siblings().find(".option").removeClass("option--active"),"panel"!=s(this).data("action")&&s(this).addClass("option--active"),o.options[s(this).data("name")]=s(this).data("value")}),s(".option__tab__select__item").on("click",function(){if(s(this).hasClass("option--disabled"))return!0;var e=s(this).data("name"),t=s(this).data("value"),e=(s(this).siblings().removeClass("option--active"),s(this).addClass("option--active"),"undefined"!=e&&o.setOption(e,t),s(this).data("target")),t=(s(this).parent().parent().find(".option__tab__content").removeClass("option__tab__content--active"),s("#tab-content-"+e).addClass("option__tab__content--active"),s(this).parent().parent().parent().attr("id")),e=s(this).data("target"),n=s(this).attr("id"),i={id:n};history.pushState(i,n,"#"+t+","+e),o.checkProcessBtn(),o.callTabActions(e)}),s(".option__image__item").on("click",function(e){if(s(this).hasClass("option--disabled"))return!0;var t=s(this).data("name"),n=s(this).data("value");s(this).siblings().removeClass("option--active"),s(this).addClass("option--active"),null!=t&&o.setOption(t,n)}),s(".option__panel .back").each(function(){s(this).on("click",function(){if(s(this).hasClass("option--disabled"))return!0;var e=s(this).data("target"),t=s(".option__panel--active").attr("id");history.pushState({id:t},t,"#"),s("#"+e).addClass("option__panel--active"),s(".option__panel--active").removeClass("option__panel--active"),s("#"+e).removeClass("option__panel--inactive").addClass("option__panel--active"),o.checkProcessBtn(),o.callPanelActions(e)})}),s("[data-action]").each(function(){s(this).hasClass("option--disabled")||s(this).on("click",function(){o.callFormAction(s(this).data("action"),s(this),"click")})}),s(".option__panel .option").on("click",function(e){if(s(this).hasClass("option--disabled"))return!0;var t=s(this).data("name"),n=s(this).data("value");t&&n&&(o.options[t]=n,s('*[data-show="'+t+'"]').html(n))}),null),n=(s("input.option").on("keyup mouseup",function(){clearTimeout(e);var n=s(this);e=setTimeout(function(){var e=n.attr("name"),t=n.val();o.setOption(e,t),null!=n.data("action")&&o.callFormAction(n.data("action"),n,"keyup")},1e3)}),s(".option:checkbox").change(function(){var e=s(this).attr("name"),t=s(this).is(":checked"),n=null;1==t&&s(this)[0].hasAttribute("data-checked")?n=s(this).attr("data-checked"):0==t&&s(this)[0].hasAttribute("data-unchecked")&&(n=s(this).attr("data-unchecked")),null!=n?o.setOption(e,n):o.setOption(e,t)}),s(".option:radio").change(function(){var e=s(this).attr("name"),t=s('[name="'+e+'"]:checked').val();null!=t&&o.setOption(e,t)}),s("select.option").on("change",function(){var e=s(this).attr("name"),t=s(this).val();o.setOption(e,t)}),s("textarea.option").on("keyup change",function(){var e=s(this).attr("name"),t=s(this).val();o.setOption(e,t)}),s(".option--radio").on("click",function(){if(s(this).hasClass("option--disabled"))return!0;s(this).hasClass("option--active")?(o.setValue(s(this).data("name"),s(this).data("inactive")),o.options[s(this).data("name")]=s(this).data("inactive")):(o.setValue(s(this).data("name"),s(this).data("active")),o.options[s(this).data("name")]=s(this).data("active"))}),s('input[type="range"]').each(function(){t(this)}),null);s('input[type="range"]').change(function(){null!==n&&clearTimeout(n);var e=this;n=setTimeout(function(){t(e)},1e3)})},w.prototype.initSidetoolsActions=function(){},w.prototype.fileRemoved=function(e){this.removedFiles++,this.fileChanged(e),this.setFilecount(),this.checkLimits(null,null)},w.prototype.fileChanged=function(e){this.updateOrderStatus(),0<this.files.countNotIgnored()?("string"!=typeof e&&(null!=e&&"upBy"in e&&"pickwatermark"==e.upBy?this.checkProcessBtn():this.enableProcessBtn()),s(".tool__sidebar__inactive").fadeOut(),s(".tool__sidebar").css("overflow-y","auto")):(this.disableProcessBtn(l.Lang.t("No file selected.")),s(".tool__sidebar").css("overflow-y","hidden"),s(".tool__sidebar__inactive").css("display","flex").hide().fadeIn(),this.showUploaderTooltip())},w.prototype.showUploaderTooltip=function(){c.Tooltip.show(s("#pickfiles"),8e3)},w.prototype.updateOrderStatus=function(){1<this.files.countNotIgnored()?s("#orderByName").css("display","flex"):s("#orderByName").hide()},w.prototype.addButtonTask=function(){var e=this;0==s("#processTask").length&&(s(".main .tool").append(n.OptionsTemplate.processButton({tool:e.tool,toolText:e.toolText})),s("#processTask").on("click",function(){1!=e.premiumTask||p.UserModel.isPremium()||"premium"==window.ilovepdfConfig.levelTemp?(s("#processTask").attr("disabled","true"),Math.floor(((new Date).getTime()-window.startTime)/1e3),e.processTask()):(s('#highres-options [data-value="0"]').trigger("click"),e.displayLimitsDialog(r.REASON.ERROR_FEATURE),window.ev("send","event","limits","feature-exceeded","pdfa"),window.ev("event","limit",{reason:"feature",tool:"pdfa"}))}))},w.prototype.setOption=function(e,t){if("undefined"==e)throw"InvalidOption "+e+":"+t;this.options[e]=t,this.values[e]=t,this.printOption(e,t)},w.prototype.setValue=function(e,t){this.values[e]=t,this.printValues(e,t)},w.prototype.printOption=function(t,n){if(null!=n&&""!=n.toString()){try{s('*[data-name="'+t+'"]').removeClass("option--active"),s('*[data-name="'+t+'"][data-value="'+n+'"]').addClass("option--active")}catch(e){u.configureScope(function(e){e.setExtra("dataKey",t),e.setExtra("dataValue",n)}),u.captureMessage("setting option error")}s('input[type="text"][name="'+t+'"]').val(n),s('input[type="number"][name="'+t+'"]').val(n),s('input[type="color"][name="'+t+'"]').val(n),s('input[type="checkbox"][name="'+t+'"]').attr("checked",n);try{s('input[type="radio"][name="'+t+'"][value="'+n.toString()+'"]').attr("checked","true")}catch(e){}s('select[name="'+t+'"]').val(n),s('.option--radio[data-name="'+t+'"]').each(function(){s(this).attr("data-active")==n?s(this).addClass("option--active"):s(this).removeClass("option--active")}),s('input[type="checkbox"][name="'+t+'"]').attr("checked",n),s('*[data-show="'+t+'"]').attr("data-value",n).html(n),s(".option__value--color").each(function(){s(this).css("background-color",s(this).attr("data-value"))}),s('*[data-show="'+t+'"]').html(this.printTransform(t,n)),s('*[data-show="'+t+'"]').attr("data-value",n),s('*[data-show="'+t+'"][data-type="color"]').css("background-color",n),s('*[data-if="'+t+'"]').each(function(){s(this).attr("data-value")==n?s(this).show():s(this).hide()})}},w.prototype.applyAllOptions=function(){for(var e in this.options)this.options.hasOwnProperty(e)&&this.printOption(e,this.options[e])},w.prototype.printTransform=function(e,t){return t},w.prototype.printValues=function(e,t){s("."+e).html(t),s("input."+e).val(t)},w.prototype.getValue=function(e){return this.values[e]},w.prototype.processTask=function(){var e,t=this;1!=this.processBlock&&(this.processBlock=!0,this.disableProcessBtn(),(e=this).getPanelActiveOptions(),e.beforeProcess().then(function(){e.savePremium().then(function(){t.hideLimitsAlert(),e.processManager.setOptions(e.options),e.processManager.limits=t.limits,t.checkBackForward(),t.clearBackRefreshDetection(),e.processManager.process()},function(t){u.configureScope(function(e){e.setExtra("error",t)}),u.captureMessage("Error on save premium task data")})},function(e){t.onBeforeProcessReject(e)}))},w.prototype.onBeforeProcessReject=function(t){t instanceof Error&&(u.configureScope(function(e){e.setExtra("error",t)}),u.captureMessage("onBeforeProcessReject error")),this.enableProcessBtn()},w.prototype.beforeProcess=function(){return new Promise(function(e,t){var n=!!window.MSInputMethodContext&&!!document.documentMode;if(window.processStart=!0,n)document.createEvent("Event").initEvent("goProcess",!0,!0);else try{var i=new Event("goProcess");window.dispatchEvent(i)}catch(e){}e({})})},w.prototype.getOption=function(e){return this.options[e]},w.prototype.getOptions=function(){return this.options},w.prototype.getPanelActiveOptions=function(){var i=this,e=s(".option__panel--active");e.find(".option--active").each(function(e,t){var n=s(t).attr("data-name");null!=n&&(0<n.indexOf("[]")?(i.options[n]instanceof Array||(i.options[n]=[]),i.options[n].push(s(t).attr("data-value"))):i.options[n]=s(t).attr("data-value"))}),e.find('input[type="text"], input[type="number"], input[type="color"], select, input[type="hidden"]').each(function(e,t){var n=s(t).attr("data-name");null==n&&null==(n=s(t).attr("name"))||(0<n.indexOf("[]")?(i.options[n]instanceof Array||(i.options[n]=[]),i.options[n].push(s(t).val())):i.options[n]=s(t).val())}),e.find('input[type="checkbox"]').each(function(e,t){var n=s(t).attr("name");i.options[n]=s(t).is(":checked")}),i.unsetUndefinedOptions()},w.prototype.unsetUndefinedOptions=function(){"undefined"in this.options&&delete this.options.undefined},w.prototype.callPanelActions=function(e){null!=e&&(e="action"+e.camelCase().ucFirst())in this&&this[e]()},w.prototype.callTabActions=function(e){null!=e&&""!=e&&(e="action"+e.camelCase().ucFirst())in this&&this[e]()},w.prototype.callOptionAction=function(e,n,i){var o;void 0===i&&(i="click"),null!=e&&(e=e.split(" "),o=this,s.each(e,function(e,t){null!=t&&(t="actionOption"+t.camelCase().ucFirst())in o&&o[t](n,i)}))},w.prototype.callFormAction=function(e,n,i){var o;void 0===i&&(i="click"),null!=e&&(e=e.split(" "),o=this,s.each(e,function(e,t){null!=t&&(t="actionForm"+t.camelCase().ucFirst())in o&&o[t](n,i)}))},w.prototype.actionFormPanel=function(e,t){var n,e=e.data("target"),i=s(".option__panel--active").attr("id"),o={id:i};history.pushState(o,i,"#"+e),s(".option__panel--active").removeClass("option__panel--active").addClass("option__panel--inactive"),s("#"+e).addClass("option__panel--active"),this.checkProcessBtn(),this.callPanelActions(e),0<s("#"+e).find(".option__tab").length&&(n=s(".option__tab__select__item.option--active").data("target"),this.callTabActions(n)),history.pushState(o,i,"#"+e)},w.prototype.actionFormShowOptions=function(e,t){var n=s(e).val();s(".option--if").hide(),s('*[data-if="'+name+'"]').each(function(){e.data("value")==n?e.show():e.hide()})},w.prototype.actionFormDecimal=function(e,t){void 0===t&&(t=null);t=s(e=void 0===e?null:e).val();s(e).val(t.replace(",","."))},w.prototype.getInnactiveView=function(){return'<div class="tool__sidebar__inactive"><p>'+l.Lang.t("No file selected.")+'</p><svg xmlns="http://www.w3.org/2000/svg" width="75" height="66" viewBox="0 0 150 132"><path fill="#FFF" d="M0,0 C0,18.75 28.125,56.25 93.75,56.25 L93.75,18.75 L150,75 L93.75,131.25 L93.75,93.75 C42.0594727,93.75 0,51.6905273 0,0 Z" transform="rotate(-180 75 66)"/></svg><p>'+l.Lang.t("Please add a file to activate options")+"</p></div>"},w.prototype.initPremium=function(){p.UserModel.isPremium()&&(s(this.getPremiumView()).insertBefore(s(".gobutton")),s("#save_options").change(function(){s(this).is(":checked")}))},w.prototype.savePremium=function(){var i=this,o=this;return new Promise(function(e,t){var n;s("#save_options").length&&s("#save_options").is(":checked")?((n=o.getOptions()).tool=i.tool,n=o.beforeSavePremiumOptions(n),o.processManager.api.saveToolConfig(o.tool,n,p.UserModel.get().token).then(function(){e({})},function(){t()})):e({})})},w.prototype.invalidUpload=function(t,n){var i=this,o=(void 0===n&&(n=null),f.IloveError.getError(t)),e=this.tool==this.subtool?this.tool:this.tool.replace("image",this.subtool);if(s("body").hasClass("process-run"))try{"object"==typeof t&&"file"in t&&"id"in t.file&&this.files.updateFile(t.file.id,{error:!0,percent:100,errorData:o})}catch(e){}else{0<=["FileSizeExceeded","FileTooLarge","FileRemoved"].indexOf(o)?(window.ev("sendOnce","event","upload-info",o,e),window.ev("eventOnce","upload_info",{tool:e,reason:o})):(window.ev("send","event","upload-invalid",e,o),window.ev("event","upload_invalid",{tool:e,error:o}),u.configureScope(function(e){e.setExtra("error",t)}),null!=n&&u.configureScope(function(e){e.setExtra("error_extra",n),e.setExtra("task_id",i.processManager.taskId)}),u.captureMessage("upload-invalid."+o,a.Severity.Error));try{"object"==typeof t&&"file"in t?(this.viewManager.removeFile(t.file.canvasId),window.Toastr.error(l.Lang.t(o)+"<br>"+t.file.name,l.Lang.t("Upload error"),{timeOut:6e3,positionClass:"toast-top-left"})):this.fatalError(o)}catch(e){this.fatalError(o)}}},w.prototype.beforeSavePremiumOptions=function(e){return e},w.prototype.getPremiumView=function(){return""},w.prototype.disableProcessBtn=function(e){void 0===e&&(e=null);var t=s("#processTask"),n=s("#processTaskWrapper");t.attr("disabled","true"),t.removeClass("pulse"),n.addClass("tooltip tooltip--top").removeAttr("title").show(),null!=e&&"undefined"!=e?(n.attr("data-title",e),n.attr("title",e),c.Tooltip.setContent(n,e),c.Tooltip.enable(n)):c.Tooltip.disable(n)},w.prototype.enableProcessBtn=function(){s("#processTask").removeClass("tooltip tooltip--top").removeAttr("title").removeAttr("disabled"),c.Tooltip.hide("#processTaskWrapper"),s("#processTaskWrapper").hide(),this.processBlock=!1},w.prototype.fatalError=function(e){f.IloveError.fatalError(e,this.tool,this.workerServer)},w.prototype.timeout=function(){window.location.reload()},w.prototype.timeoutPopup=function(){var n=this,i=[],o=[],e=(s.each(this.files.files,function(e,t){"canvasId"in t?i.push(t.canvasId):"id"in t&&o.push(t.id)}),s.each(i,function(e,t){n.viewManager.removeFile(t)}),s.each(o,function(e,t){n.files.removeFile(t)}),d.Tools.modalViewOk({id:"timelimit",title:l.Lang.t("Wops"),content:"<p>"+l.Lang.t("Welcome back after upload")+"</p>"}));s(e).modal()},w.prototype.removeFile=function(e){try{this.viewManager.removeFile(e)}catch(e){}this.files.removeFile(e),this.checkLimits(null,null)},w.prototype.loadingStart=function(){0===s(".item-loading").length&&0==s(".loading").length&&s("body").append('<div class="item-loading"></div>'),s(".item-loading").show()},w.prototype.loadingEnd=function(){s(".item-loading").hide()},w.prototype.fileAddError=function(e,t,n){void 0===n&&(n="DamagedFile"),1==(t=void 0===t?!1:t)?window.Toastr.error(l.Lang.t(n),l.Lang.t("Error"),{timeOut:0,closeButton:!0,preventDuplicates:!0,positionClass:"toast-top-left"}):window.Toastr.error(l.Lang.t(n),l.Lang.t("Error"),{timeOut:5e3,positionClass:"toast-top-left"}),this.removeFile(e),this.loadingEnd()},w.prototype.initBackFromProcessListenEvent=function(){var t=this;window.addEventListener("popstate",function(e){e.state;t.processManager.contextConfirmFiles&&(t.backCount++,s(".process").hide(),s(".uploading").hide(),t.processManager.contextConfirmFiles.remove(),document.body.classList.remove("process-run"),t.checkLimits([],null),t.enableProcessBtn(),t.checkProcessBtn(),e=t.getLimit(),window.ev("sendOnce","event","limits","back",t.tool+"-"+e),window.ev("eventOnce","limit-action",{action:"back",tool:t.tool,reason:e}),t.processManager.contextConfirmFiles=null,t.initBackRefreshDetection())})},w.prototype.checkBackForward=function(){var e;0<this.backCount&&(this.forwardCount++,e=this.getLimit()||"solved",window.ev("sendOnce","event","limits","forward",e),window.ev("eventOnce","limit-actions",{action:"back",tool:this.tool,reason:e}))},w.prototype.initBackRefreshDetection=function(){var e=new Date((new Date).getTime()+this._BACKREFRESH_TIME);b.default.set("br",this.tool,{expires:e})},w.prototype.refreshBackDetection=function(){b.default.get("br")==this.tool&&b.default.set("brt",(new Date).getTime().toString(),{expires:1})},w.prototype.clearBackRefreshDetection=function(){b.default.remove("br")},w.prototype.checkBackRefresh=function(){var e=b.default.get("br");e&&(this.clearBackRefreshDetection(),window.ev("sendOnce","event","limits","back-"+(e==this.tool?"refresh":"change"),this.tool),window.ev("eventOnce","limit-actions",{action:"back-"+(e==this.tool?"refresh":"change"),tool:this.tool}))},x.OptionsManager=w}.call(this,E(1))},function(e,t,n){"use strict";var i,o,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.NoMoreLimitsContext=void 0,n(54)),s=n(248),n=(o=a.ContextBase,r(l,o),l.prototype.getInitialState=function(){return new s.DefaultState({reason:this.limits.getLimitTexts().limit})},l);function l(e){var t=o.call(this,e=void 0===e?{}:e)||this;return t.contentName="NoMoreLimitsContext",t.triggerReason="triggerReason"in e?e.triggerReason:void 0,t.limits="limits"in e?e.limits:void 0,t.tool="tool"in e?e.tool:void 0,t}t.NoMoreLimitsContext=n},function(e,t,n){"use strict";var i,o,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultState=void 0,n(18)),s=n(10),n=(o=a.StateBase,r(l,o),l.prototype.init=function(){var e=this.getUserOperativeSystem(),e=(this.showPlatform(e),this.showReasonMessage(),this.actionBtn);e&&e.addEventListener("click",this._onDoneButtonClick)},l.prototype.showPlatform=function(e){for(var t=this.domRoot.querySelectorAll("[platform-mac], [platform-win]"),n=0;n<t.length;n++)t[n].style.display="none";for(var i=this.domRoot.querySelectorAll("[platform-"+e+"]"),n=0;n<i.length;n++)i[n].style.display="block"},l.prototype.showReasonMessage=function(){var e=this.domRoot.querySelector('[ data-reason="'+this.params.reason+'" ]');e&&(e.hidden=!1)},l.prototype.getUserOperativeSystem=function(){return-1!=window.navigator.platform.indexOf("Mac")?"mac":(-1==navigator.userAgent.indexOf("WOW64")&&navigator.userAgent.indexOf("Win64"),"win")},Object.defineProperty(l.prototype,"actionBtn",{get:function(){return this.domStateRoot.querySelector("[next-from-no-more-limits]")},enumerable:!1,configurable:!0}),l);function l(e){var t=o.call(this)||this;return t.name="DefaultState",t.LAYOUT_TEMPLATE_NAME="no-more-limits",t.INITIAL_SCREEN="default",t.onDomReady=function(){"sign"==t.ctx.tool?t.changeScreen("sign"):t.changeScreen(t.INITIAL_SCREEN),t.clearLoadingScreen(),t.init()},t._onDoneButtonClick=function(e){e.preventDefault(),t.dispatchEvent(new s.IloveEvent("end"))},t.params=e,t}t.DefaultState=n},function(e,t,n){"use strict";var i,o,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=(Object.defineProperty(t,"__esModule",{value:!0}),t.ViewManager=void 0,n(250)),s=n(144),l=n(251),c=n(13),u=n(33),n=(o=a.ViewManager,r(d,o),d.prototype.init=function(){o.prototype.init.call(this),this.imageViewer=new s.ImageView({screenSize:this.screenSize,files:this.files}),this.previewViewer=new l.PreviewView({screenSize:this.screenSize,files:this.files})},d.prototype.getFileboxTemplate=function(e){var t=/(?:\.([^.]+))?$/.exec(e.fileName)[1].toUpperCase();return'<div class="file file--img file--'+e.tool+" file--"+e.subtool+' tooltip--top" id="'+e.fileID+'" rel="'+e.service+'"  data-size="'+e.filesize+'" data-extension="'+t+'"><div class="file__actions">'+("boolean"!=typeof e.rotable||e.rotable?'<a  class="file__btn rotate  tooltip tooltip--top" title="'+c.Lang.t("Rotate")+'" data-rotate="0">'+u.Tools.svgRotate()+"</a>":"")+'<a  class="file__btn remove tooltip tooltip--top" title="'+c.Lang.t("Remove this file")+'">'+u.Tools.svgRemove()+'</a></div><div class="file__canvas"><div id="cover-'+e.fileID+'"></div></div><div class="file__info"><span class="file__info__name">'+e.fileName+'</span><div class="file__info__size"><span class="file__info__size__from tooltip tooltip--bottom" title="'+c.Lang.t("Original size (in pixels) for this image")+'"></span> '+u.Tools.svgArrowRight(8,12)+'<span class="file__info__size__to tooltip tooltip--bottom" title="'+c.Lang.t("This image will be resized to this size (in pixels)")+'"></span></div></div></div>'},d);function d(e){return o.call(this,e)||this}t.ViewManager=n},function(e,a,s){"use strict";!function(c){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),e=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},u=(Object.defineProperty(a,"__esModule",{value:!0}),a.ViewManager=void 0,e(s(23))),d=s(15),n=s(33),r=s(13);function t(e){void 0===e&&(e={}),this.files=null,this.tool=null,this.subtool=null,this.pdfViewer=null,this.imageViewer=null,this.officeViewer=null,this.previewViewer=null,this.fileBox="",this.covers_hidden=!1,this.processManager=null,this.onBeforeRemoveFile=null,this.onRemoveFile=null,this.resizeTimeout=!1,this.screenSizes={sm:{w:70,h:100},md:{w:99,h:140},lg:{w:127,h:180}},this.screenSize=this.screenSizes.md,this.currentSize="md",1281<window.innerWidth?(this.screenSize=this.screenSizes.lg,this.currentSize="lg"):window.innerWidth<640&&(this.screenSize=this.screenSizes.sm,this.currentSize="sm"),Object.assign(this,e),this.init()}t.prototype.init=function(){var t=this;window.addEventListener("resize",function(e){t.resize()})},t.prototype.resize=function(){var e=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){1280<window.innerWidth&&"lg"!=e.currentSize?(e.screenSize=e.screenSizes.lg,e.currentSize="lg",e.reRender()):window.innerWidth<640&&"sm"!=e.currentSize?(e.screenSize=e.screenSizes.sm,e.currentSize="sm",e.reRender()):640<window.innerWidth&&window.innerWidth<1280&&"md"!=e.currentSize&&(e.screenSize=e.screenSizes.md,e.currentSize="md",e.reRender()),"object"==typeof e.pdfViewer&&null!=e.pdfViewer&&(e.pdfViewer.screenSize=e.screenSize),"object"==typeof e.imageViewer&&null!=e.imageViewer&&(e.imageViewer.screenSize=e.screenSize),"object"==typeof e.officeViewer&&e.officeViewer,"object"==typeof e.previewViewer&&e.previewViewer},500)},t.prototype.reRender=function(){var o=this;c(".file canvas, .range__element canvas").each(function(e,t){var n=c(t).attr("data-file"),i=c(t).attr("data-page");n&&i&&(i=parseInt(c(t).attr("data-page").toString()),t=c(t).attr("id"),o.renderPDF(n,i,t))})},t.prototype.addFileDOM=function(s){var l=this;return new Promise(function(t,n){var i,o,r=l,e=(l.totalFilesSelectedHistory++,l.boxfiles++,s.name.substr(s.name.lastIndexOf(".")+1).toUpperCase()),a=(s.extension&&(e=s.extension.toUpperCase()),s.service||(s.service="user"),l.getFileboxTemplate({tool:r.tool,subtool:r.subtool,screenSize:r.screenSize,fileName:s.name,fileID:s.canvasId,filesize:s.size,service:s.service,rotable:s.rotable}));c("#fileGroups").append(a),r.initRotate(s),c("#"+s.canvasId+" .remove").on("click",function(){r.removeFile(s.canvasId)}),"html5"==s.runtime&&(i="cover-"+s.canvasId,o=document.getElementById(i),"user"==s.service?(o.className=o.className+" "+e.toLowerCase()+" ",null!=s.thumbnail?(o.className="image "+o.className,l.renderPreview(s.id,i,null).then(function(){t(s)},function(t){u.configureScope(function(e){e.setExtra("error",t)}),u.captureMessage("render preview thumbnail error",d.Severity.Info),n(t)})):"url"in s&&null!=s.url?"PDF"==e&&0==l.covers_hidden?r.pdfViewer.loadUrlPDF(s.url,null).then(function(e){r.files.updateFile(s.id,{file:e}),"size"in e&&r.files.updateFile(s.id,{size:e.size}),r.renderPDF(s.id,1,i),t(e)},function(e){"removeFile"==e.name?r.removeFile(s.canvasId):"PasswordException"==e.name?o.className=o.className+" password ":"UnexpectedResponseException"==e.name?r.removeFile(s.id):("InvalidPDFException"!=e.name&&e.name,o.className=o.className+" error "),n(e)}):l.renderUrl(s.id,i,null).then(function(e){"size"in e&&r.files.updateFile(s.id,{size:e.size}),t(s)},function(t){u.configureScope(function(e){e.setExtra("error",t)}),u.captureMessage("render url error",d.Severity.Info),n(t)}):"PDF"==e&&0==l.covers_hidden?r.pdfViewer.loadSourcePDF(s.id,s.source).then(function(e){r.files.updateFile(s.id,{file:e}),r.renderPDF(s.id,1,i),t(e)},function(e){"removeFile"==e.name?r.removeFile(s.canvasId):"PasswordException"==e.name&&(o.className=o.className+" password "),"UnexpectedResponseException"==e.name?r.removeFile(s.canvasId):(e.name,o.className=o.className+" error "),n(e)}):"JPG"==e||"JPEG"==e?l.renderImageJpg(s.id,i,null).then(function(){t(s)},function(e){n(e)}):"HEIC"===e?l.renderHeic(s.id,i).then(function(){t(s)}).catch(n):"PNG"==e||"GIF"==e||"WEBP"==e?l.renderImage(s.id,i,null).then(function(){t(s)},function(e){n(e)}):"SVG"==e?(o.className="image "+o.className,l.renderSvg(s.id,i,!1).then(function(){t(s)},function(e){n(e)})):"TIF"==e||"TIFF"==e?(o.className=o.className+" image tif",l.renderTif(s.id,i).then(function(){t(s)},function(e){})):"DOC"==e||"DOCX"==e?(l.renderDoc(s.id,i),o.className=o.className+" word "+e.toLowerCase(),t(s)):"XLS"==e||"XLSX"==e?(l.renderDoc(s.id,i),o.className=o.className+" excel "+e.toLowerCase(),t(s)):"PPT"==e||"PPTX"==e?(l.renderDoc(s.id,i),o.className=o.className+" powerpoint "+e.toLowerCase(),t(s)):(o.className=o.className+e.toLowerCase(),n("noRenderMode"))):"drive"==s.service?(o.className=o.className+" "+e.toLowerCase(),"PDF"==e&&0==l.covers_hidden?!s.size||s.size<2e8?r.pdfViewer.loadUrlPDF(s.uri,s.token).then(function(e){r.files.updateFile(s.id,{file:e}),r.renderPDF(s.id,1,i),t(e)},function(t){u.configureScope(function(e){e.setExtra("error",t)}),u.captureMessage("drive url pdf error"),n(t)}):n():null!=s.url?l.renderUrl(s.id,i,null).then(function(e){t(s)},function(t){u.configureScope(function(e){e.setExtra("error",t)}),u.configureScope(function(e){e.setExtra("url",s.url)}),u.captureMessage("drive with url error"),n(t)}):(u.configureScope(function(e){e.setExtra("file",s)}),u.captureMessage("drive viewer not set"),n("drive viewer not exists"))):"dropbox"==s.service?"PDF"==e&&0==l.covers_hidden?s.size<2e8&&r.pdfViewer.loadUrlPDF(s.url,s.token).then(function(e){r.files.updateFile(s.id,{file:e}),r.renderPDF(s.id,1,i),t(e)},function(t){u.configureScope(function(e){e.setExtra("error",t)}),u.captureMessage("dropbox load error"),n(t)}):null!=s.url?((a=document.getElementById(i)).className=a.className+" image "+e.toLowerCase(),l.renderUrl(s.id,i,null).then(function(e){t(s)},function(t){u.configureScope(function(e){e.setExtra("error",t)}),u.captureMessage("dropbox with url error"),n(t)})):(u.captureMessage("dropbox preview not set"),n("uooops, dropbox viewer not set here!")):(u.captureMessage("unknow method/origin to render file"),n("unknow method/origin to render file")))})},t.prototype.initRotate=function(n){var i=this;c("#"+n.canvasId+" .rotate").on("click",function(){var e=parseInt(c(this).attr("data-rotate")),t=(280==(e+=90)&&(e=0),c(this).attr("data-rotate",e),c("#"+n.canvasId+" .file__canvas"));t.css({WebkitTransform:"rotate("+e+"deg)"}),t.css({"-moz-transform":"rotate("+e+"deg)"}),t.css({transform:"rotate("+e+"deg)"}),i.files.updateFile(n.id,{rotate:e})})},t.prototype.removeFile=function(e){var t=this;"function"==typeof t.onBeforeRemoveFile&&t.onBeforeRemoveFile(e),c("#"+e).remove(),t.processManager.removeFile(e).then(function(){"function"==typeof t.onRemoveFile&&t.onRemoveFile(e),c(".uploader.box").show()},function(e){})},t.prototype.renderPDF=function(e,t,n,i){void 0===i&&(i=null);var o=this;"object"==typeof o.pdfViewer&&null!=o.pdfViewer&&o.pdfViewer.onFileReady().then(function(){o.pdfViewer.renderPage(e,t,n).then(function(){},function(){})},function(t){u.configureScope(function(e){e.setExtra("error",t)}),u.captureMessage("Error pdf file not ready")})},t.prototype.renderImage=function(e,i,o){void 0===o&&(o=!1);var r=this,a=r.files.getFile(e),s=a.getSource().getSource();return new Promise(function(t,n){r.imageViewer.renderImage(s,i,o).then(function(e){return a.width=e.width,a.height=e.height,t(e)},function(e){n(e)})})},t.prototype.renderImageJpg=function(e,t,n){return this.renderImage(e,t,n=void 0===n?!1:n)},t.prototype.renderUrl=function(e,i,o){void 0===o&&(o=!1);var r=this,a=r.files.getFile(e),s=a.url;return new Promise(function(t,n){r.imageViewer.renderUrl(s,i,o).then(function(e){"size"in e&&(a.size=e.size),"width"in a?t({width:a.width,height:a.height}):((e=new Image).addEventListener("load",function(){a.width=this.naturalWidth,a.height=this.naturalHeight,t({width:this.naturalWidth,height:this.naturalHeight})}),e.src=a.url)},function(e){n()})})},t.prototype.renderPreview=function(e,n,i){void 0===i&&(i=!1);var o=this,r=o.files.getFile(e).thumbnail;return new Promise(function(e,t){o.previewViewer.renderPreview(r,n,i),e({})})},t.prototype.renderSvg=function(e,i,o){void 0===o&&(o=!1);var r=this,a=r.files.getFile(e),s=a.getSource().getSource();return new Promise(function(t,n){r.imageViewer.renderSvg(s,i,o).then(function(e){return a.width=e.width,a.height=e.height,t(e)},function(e){n(e)})})},t.prototype.renderTif=function(e,n){var i=this,o=i.files.getFile(e).getSource().getSource();return new Promise(function(e,t){i.imageViewer.renderTif(o,n).then(function(){e()},function(){t()})})},t.prototype.renderHeic=function(e,t){e=this.files.getFile(e).getSource().getSource();return this.imageViewer.renderHeic(e,t)},t.prototype.renderDoc=function(e,t){e=this.files.getFile(e).getSource().getSource();return this.officeViewer.renderDocument(e,t)},t.prototype.getFileboxTemplate=function(e){var t=/(?:\.([^.]+))?$/.exec(e.fileName)[1];return'<div class="file file--'+e.tool+' tooltip--top" id="'+e.fileID+'" rel="'+e.service+'" data-size="'+e.filesize+'" data-extension="'+t.toUpperCase()+'"  title="image size..."><div class="file__actions"><a class="file__btn rotate tooltip--top tooltip" data-rotate="0" title="'+r.Lang.t("Rotate")+'">'+n.Tools.svgRotate()+'</a><a class="file__btn remove tooltip--top tooltip" title="'+r.Lang.t("Remove this file")+'">'+n.Tools.svgRemove()+'</a></div><div class="file__canvas"><canvas id="cover-'+e.fileID+'" width="'+e.screenSize.w+'" height="'+e.screenSize.h+'" class="'+t+'"></canvas></div><div class="file__info"><span class="file__info__name">'+e.fileName+"</span></div></div>\n        "},t.prototype.fileUploaded=function(e,t){var n=document.getElementById(e),i="cover-"+e;"object"==typeof t&&"thumbnail"in t&&t.thumbnail&&null!=n&&(n.className=n.className+" image",this.renderPreview(e,i,null).then(function(e){},function(t){u.configureScope(function(e){e.setExtra("error",t)}),u.captureMessage("Render preview on file upload",d.Severity.Info)}))},a.ViewManager=t}.call(this,s(1))},function(e,t,n){"use strict";!function(o){function e(e){void 0===e&&(e={}),this.coversShow=!0,Object.assign(this,e),this.init()}Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewView=void 0,e.prototype.init=function(){},e.prototype.renderPreview=function(e,t,n){void 0===n&&(n=!1);var i=document.getElementById(t),n=(n?o(i).attr("src",e):o(i).attr("style","background-color: transparent; background-image: url("+e+");background-size:contain; width: 100%;background-repeat: no-repeat;background-position: center;"),o("#"+t+" canvas"));0<n.length&&n.remove()},t.PreviewView=e}.call(this,n(1))},function(e,r,a){"use strict";!function(m){var i,o,e=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),t=(Object.defineProperty(r,"__esModule",{value:!0}),r.ResizeImageOptionsManager=void 0,a(91)),v=a(13),t=(o=t.OptionsManager,e(n,o),n.prototype.init=function(){o.prototype.init.call(this)},n.prototype.initActions=function(){var e=this;o.prototype.initActions.call(this),m(".option__tab__select__item.option--active").trigger("click"),m(".option__tab__select__item").on("click",function(){e.selectedBefore=!0,e.updateForm()})},n.prototype.fileReady=function(e){o.prototype.fileReady.call(this,e),m("#"+e.id+" .file__info__size__from").html(e.width+" x "+e.height),m("#"+e.id+" .file__info__size__to").html(e.width+" x "+e.height),1==this.files.files.length&&(m("#pixels_width").val(e.width),m("#pixels_height").val(e.height)),1<this.files.files.length&&0==this.selectedBefore&&m('.option__tab__select__item[data-value="percentage"]').trigger("click"),this.updateForm()},n.prototype.updateForm=function(){"pixels"==m(".option__tab__select__item.option--active").data("value")?this.actionFormResize():this.actionFormPercent()},n.prototype.actionFormResize=function(e,t){var n=this,i=(void 0===t&&(t=null),null==(e=void 0===e?null:e)&&(this.width=0,e=m("#pixels_width")),!0),t=parseInt(m("#pixels_width").val().toString()),o=parseInt(m("#pixels_height").val().toString()),r=this,a=0,s=(isNaN(t)?(m("#pixels_width").val(""),a++):(m("#pixels_width").val(t),0==t&&a++),isNaN(o)?(m("#pixels_height").val(""),a++):(m("#pixels_height").val(o),0==o&&a++),m("#maintain_ratio").is(":checked")),l=m("#no_enlarge_if_smaller").is(":checked"),c=e.attr("name");if(!("pixels_width"==c&&t==this.width||"pixels_height"==c&&o==this.height)){if(1==s&&1<this.files.files.length?(m("#maxSize").show(),m("#exactSize").hide()):(m("#maxSize").hide(),m("#exactSize").show()),1==s){if("pixels_width"==c){if((isNaN(t)||0==t)&&(isNaN(o)||0==o||1==this.files.files.length))return m("#pixels_height").val("0"),m("#pixels_width").val(""),m(".file__info__size__to").hide(),m(".file__info__size svg").hide(),m("#pixels_width").attr("placeholder","0").addClass("error"),i=!1,void this.disableProcessBtn(v.Lang.t("Please set resize width or height"));if((isNaN(t)||0==t)&&1<this.files.files.length)return;this.files.files.length}else if("pixels_height"==c){if((isNaN(o)||0==o)&&(isNaN(t)||0==t||1==this.files.files.length))return m("#pixels_width").val("0"),m("#pixels_height").val(""),m(".file__info__size__to").hide(),m(".file__info__size svg").hide(),m("#pixels_height").attr("placeholder","0").addClass("error"),i=!1,void this.disableProcessBtn(v.Lang.t("Please set resize width or height"));if(isNaN(o)||0==o)return;this.files.files.length}}else if(0==s&&!this.validateByPixels(t,o))return void(i=!1);m(".file__info__size__to").show(),m(".file__info__size svg").show();var u,d,p=parseInt(m("#pixels_width").val().toString()),f=parseInt(m("#pixels_height").val().toString()),h=null,g=null;m(".file--img").each(function(e,t){u=m(t).attr("data-width"),d=m(t).attr("data-height");m(t).find(".file__info__size__to").html().split(" x ");1==s?"pixels_height"==c?(h=Math.round(f*u/d),g=f,0!=p&&p<h&&1<r.files.files.length&&(h=p,g=Math.round(p*d/u))):(h=p,g=Math.round(p*d/u),0!=f&&f<g&&1<r.files.files.length&&(h=Math.round(f*u/d),g=f)):(h=p,g=f),h=isNaN(h)?u:h,g=isNaN(g)?d:g,l&&(u<h||d<g)?m(t).find(".file__info__size__to").html(u+" x "+d):m(t).find(".file__info__size__to").html(h+" x "+g),i=i&&n.validateByPixels(h,g)}),1!=s||"pixels_height"!=c&&"pixels_width"!=c||(1==this.files.files.length?(m("#pixels_width").val(h),m("#pixels_height").val(g)):"pixels_width"!=c||!isNaN(o)&&0!=o?"pixels_height"!=c||!isNaN(t)&&0!=t||m("#pixels_width").val("").attr("placeholder","Auto"):m("#pixels_height").val("").attr("placeholder","Auto")),this.width=h,this.height=g,m("#pixels_width, #pixels_height").removeClass("error").attr("placeholder","Auto"),2!=a&&i?this.enableProcessBtn():this.disableProcessBtn(v.Lang.t("Please set resize width or height"))}},n.prototype.validateByPixels=function(e,t){var n=!0,i=this.files.files.length;return 1==i&&(!isNaN(e)&&0!=e||(n=!1,m("#pixels_width").addClass("error")),!isNaN(t)&&0!=t||(n=!1,m("#pixels_height").addClass("error"))),1<i&&(isNaN(e)&&isNaN(t)?n=!1:0==t&&0==e?(n=!1,m("#pixels_width").addClass("error"),m("#pixels_height").val("").attr("placeholder","Auto")):(0==t&&(m("#pixels_height").val("").attr("placeholder","Auto"),this.setOption("pixels_height","")),0==e&&(m("#pixels_width").val("").attr("placeholder","Auto"),this.setOption("pixels_width","")))),n?this.enableProcessBtn():this.disableProcessBtn(v.Lang.t("Please set resize width or height")),n},n.prototype.actionFormPercent=function(){this.selectedBefore=!0;var e=m('[data-name="percentage"].option--active'),i=(0==e.length&&(e=m('[data-name="percentage"]').first()).addClass("option--active"),e.data("value"));m(".file--img").each(function(e){var t=parseInt(m(this).attr("data-width")),n=parseInt(m(this).attr("data-height")),t=Math.round(i*t/100),n=Math.round(i*n/100);m(this).find(".file__info__size svg").show(),m(this).find(".file__info__size__to").html(t+" x "+n).show()}),this.enableProcessBtn()},n.prototype.addSizeTo=function(e){0==m("#"+e.id+" .file__info__size__to").length&&m("#"+e.id+" .file__info__size__to").html(e.width+" x "+e.height)},n.prototype.validate=function(){if("pixels"==this.getOption("resize_mode")){if(!this.validateByPixels(parseInt(m("#pixels_width").val().toString()),parseInt(m("#pixels_height").val().toString())))return!1;if(!this.validateByPixels(parseInt(this.getOption("pixels_width")),parseInt(this.getOption("pixels_height"))))return!1}return!0},n.prototype.beforeProcess=function(){var n=this;return new Promise(function(e,t){n.updateForm(),n.validate()?o.prototype.beforeProcess.call(n).then(function(){setTimeout(function(){e()},500)},function(){t()}):t()})},n);function n(e){e=o.call(this,e=void 0===e?{}:e)||this;return e.selectedBefore=!1,e.processBtnPulseTimeout=1e4,e.hideRotation=!0,e.damagedRemove=!0,e.width=0,e.height=0,e}r.ResizeImageOptionsManager=t}.call(this,a(1))},function(e,f,h){"use strict";!function(l,e){var i,o,t=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},s=(Object.defineProperty(f,"__esModule",{value:!0}),f.CropImageOptionsManager=void 0,h(91)),c=n(h(37)),u=n(h(23)),d=h(23),n=(o=s.OptionsManager,t(p,o),p.prototype.startPanels=function(){o.prototype.startPanels.call(this),this.disableProcessBtn(),this.initViewer()},p.prototype.initViewManager=function(){o.prototype.initViewManager.call(this),this.viewManager.imageViewer.useLoadImageLib=!0},p.prototype.makeWorkarea=function(){var n=this;return new Promise(function(e,t){o.prototype.makeWorkarea.call(n).then(function(){l("#fileGroups").hide(),e()})})},p.prototype.fileRemoved=function(e){o.prototype.fileRemoved.call(this,e),l(".tool__workarea__rendered").hide()},p.prototype.initViewer=function(){var e=this;l("#editor").show(function(){e.resizeCropper()})},p.prototype.initCropper=function(){return new Promise(function(e,t){if(null===window.jQuery.fn.cropper||void 0!==window.jQuery.fn.cropper)return e(!0);c.lazyload("/js/cropper/cropper.min.js");var n=window.setInterval(function(){if(null!==window.jQuery.fn.cropper&&"function"==typeof window.jQuery.fn.cropper)return clearInterval(n),e(!0)},100)})},p.prototype.resizeCropper=function(){!!window.MSInputMethodContext&&!!document.documentMode?document.createEvent("Event").initEvent("resize",!0,!0):window.dispatchEvent(new Event("resize"))},p.prototype.crop=function(){window.jQuery("#file").cropper()},p.prototype.startCroppper=function(){var e=this,t=window.jQuery("#file"),n=(l("#download"),l("#dataX")),i=l("#dataY"),o=l("#dataHeight"),r=l("#dataWidth"),a=(l("#dataScaleX"),l("#dataScaleY"),{aspectRatio:NaN,preview:".img-preview",viewMode:1,zoomOnWheel:!1,crop:function(e){n.val(Math.round(e.x)),i.val(Math.round(e.y)),o.val(Math.round(e.height)),r.val(Math.round(e.width))},ready:function(){e.enableProcessBtn()}}),s=window.setInterval(function(){null!==t.cropper&&"function"==typeof t.cropper&&(clearInterval(s),t.cropper(a))},100);l(".docs-data input").on("keyup blur change",function(){var e={x:parseInt(n.val().toString()),y:parseInt(i.val().toString()),width:parseInt(r.val().toString()),height:parseInt(o.val().toString())};window.jQuery("#file").cropper("setData",e)})},p.prototype.fileReady=function(e){this.disableProcessBtn(),o.prototype.fileReady.call(this,e),l("#fileGroups").hide(),this.renderFileEditor(e)},p.prototype.renderFileEditor=function(e){var t=this;if(l("#fileGroups").hide(),e.url){var n=e.url;e.imageMediaMetadata&&(n=e.url.replace("=s220","=s"+e.imageMediaMetadata.width)),t.viewManager.imageViewer.renderUrl(n,"file",!0).then(function(){setTimeout(function(){t.initCropper().then(function(){t.startCroppper()},function(){})},500)},function(e){})}else try{var i=e.getSource().getSource();t.viewManager.imageViewer.renderImage(i,"file",!0).then(function(){setTimeout(function(){t.initCropper().then(function(){t.startCroppper()},function(){})},500)},function(e){})}catch(t){u.configureScope(function(e){e.setExtra("cropError",t)}),u.captureMessage("Failed to get source for image crop",d.Severity.Error)}},p.prototype.actionFormCrop=function(e){},p);function p(e){e=o.call(this,e=void 0===e?{}:e)||this;return e.processBtnPulseTimeout=1e4,l("#fileGroups").hide(),e}f.CropImageOptionsManager=n}.call(this,h(1),h(1))},function(e,a,s){"use strict";!function(t){var i,n,e=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=(Object.defineProperty(a,"__esModule",{value:!0}),a.FromjpgOptionsManager=void 0,s(91)),o=(n=o.OptionsManager,e(r,n),r.prototype.startPanels=function(){n.prototype.startPanels.call(this),this.initDraggable()},r.prototype.initDraggable=function(){var t=this,e=document.getElementById("fileGroups");new window.Sortable(e,{draggable:".file",onUpdate:function(e){t.files.files.move(e.oldIndex,e.newIndex)}})},r.prototype.fileChanged=function(e){n.prototype.fileChanged.call(this,e);e=t('.option[data-value="gif_animation"]');1<this.files.files.length?e.removeClass("tooltip option--disabled"):(e.addClass("tooltip option--disabled"),t('[data-value="png"]').trigger("click"))},r.prototype.actionFormBack=function(){this.printOption("convert_to","png")},r.prototype.beforeProcess=function(){return this.setGifLoop(),n.prototype.beforeProcess.call(this)},r.prototype.setGifLoop=function(){this.options.gif_time=Math.floor(100*this.options.gif_time),isNaN(this.options.gif_time)&&(this.options.gif_time=100)},r);function r(){return null!==n&&n.apply(this,arguments)||this}a.FromjpgOptionsManager=o}.call(this,s(1))},function(e,a,s){"use strict";!function(r){var i,e,t=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),n=(Object.defineProperty(a,"__esModule",{value:!0}),a.RotateImageOptionsManager=void 0,s(91)),n=(e=n.OptionsManager,t(o,e),o.prototype.initActions=function(){e.prototype.initActions.call(this),r(".option__image__item").on("click",function(){})},o.prototype.actionFormSelect=function(e){e=r(e).data("value");"all"==e?r(".file").removeClass("unselected").addClass("selected"):"portrait"==e?(r(".file").removeClass("unselected selected"),r(".file").each(function(){var e=r(this).data("width"),t=r(this).data("height"),n=parseInt(r(this).find(".rotate").data("rotate"));(e=90!=n&&180!=n?e:(e+=t)-(t=e-t))<t?r(this).addClass("selected"):r(this).addClass("unselected")})):"landscape"==e&&(r(".file").removeClass("selected unselected"),r(".file").each(function(){var e=r(this).data("width"),t=r(this).data("height"),n=parseInt(r(this).find(".rotate").data("rotate"));90!=n&&180!=n||(e=(e+=t)-(t=e-t)),t<e?r(this).addClass("selected"):r(this).addClass("unselected")}))},o.prototype.actionOptionRotateRight=function(){var e=this;r(".file:not(.unselected)").each(function(){e.rotate(r(this).attr("id"),90)})},o.prototype.actionOptionRotateLeft=function(){var e=this;r(".file:not(.unselected)").each(function(){e.rotate(r(this).attr("id"),-90)})},o.prototype.actionFormRotateRight=function(){this.actionOptionRotateRight()},o.prototype.actionFormRotateLeft=function(){this.actionOptionRotateLeft()},o.prototype.rotate=function(e,t){var n=r("#"+e),i=n.find(".rotate"),o=parseInt(i.data("rotate")),i=(i.data("rotate",o=(o=360!=(o+=t)&&-360!=o?o:0)<0?360+o:o),n.find(".file__canvas"));i.css({WebkitTransform:"rotate("+o+"deg)"}),i.css({"-moz-transform":"rotate("+o+"deg)"}),i.css({transform:"rotate("+o+"deg)"}),this.files.updateFile(e,{rotate:o})},o.prototype.actionFormReset=function(){var n=this;r('.option__image__item[data-value="all"]').trigger("click"),r(".file:not(.unselected)").each(function(){var e=r(this).attr("id"),t=(r(this).find(".rotate").attr("data-rotate",0),r(this).find(".file__canvas"));t.css({WebkitTransform:"rotate(0deg)"}),t.css({"-moz-transform":"rotate(0deg)"}),t.css({transform:"rotate(0deg)"}),n.files.updateFile(e,{rotation:0})})},o);function o(){return null!==e&&e.apply(this,arguments)||this}a.RotateImageOptionsManager=n}.call(this,s(1))},function(e,r,l){"use strict";!function(o){var i,a,e=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),t=(Object.defineProperty(r,"__esModule",{value:!0}),r.WatermarkImageOptionsManager=void 0,l(185)),s=l(187),t=(a=t.EditorOptionsManager,e(n,a),n.prototype.startPanels=function(){a.prototype.startPanels.call(this),o(".alert,.info").hide(),s.EditElement.setPreviewZones(),this.initUploader(),this.initTextUpload(),this.uploader=window.watermarkUploader,this.textUploader=window.textUploader,o("#pickwatermark").show()},n.prototype.actionFormAddText=function(){var e=Math.max(0,parseInt(o("#workArea").scrollTop().toString())-parseInt(o("#editor").css("padding-top"))+60),e=new s.EditElement({draggable:!0,resizable:!0,rotable:!0,fontColorShadow:"transparent",type:"text",resizableAspectRatio:!1,restrict:!1,top:e+"px"});0<this.elements.length&&e.cloneStyle(this.elements[this.elements.length-1]),e.initStyle(),e.init(),e.select(),this.elements.push(e),this.enableProcessBtn()},n.prototype.actionFormAddImage=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null);var n=Math.max(0,parseInt(o("#workArea").scrollTop().toString())-parseInt(o("#editor").css("padding-top"))+60),t=new s.EditElement({draggable:!0,resizable:!0,rotable:!0,type:"image",imgSrc:t,fileId:e,top:n+"px",resizableAspectRatio:!0,restrict:!1});this.checkImageSize(e,t),t.onResizeEnd=function(e,t,n){(t.size.width>n.limitToPixelate?(o("#infoPixelatedImage").show(),o("#infoReducedImage")):o("#infoPixelatedImage")).hide()},t.initStyle(),t.init(),t.select(),this.elements.push(t)},n.prototype.checkImageSize=function(e,t){var n,i,e=this.files.getFile(e);e.width<this.minWidth?(o("#infoSmallFile").show(),t.limitToPixelate=e.width):(i=document.getElementById("file").naturalWidth,(n=document.getElementById("file").width)<i?(i=100*n/i,t.width=Math.max(e.width*i/100,this.minWidth),o("#infoReducedImage").show(),t.limitToPixelate=t.width,t.width=Math.min(n,t.width)):t.limitToPixelate=e.width)},n.prototype.fileAdded=function(n,i,e){var o=this,r=(void 0===e&&(e=!1),this);return"pickwatermark"==i?(this.processDisabledUploading=!0,this.disableProcessBtn(),a.prototype.fileAdded.call(this,n,i,!0)):"picktextwatermark"==i?a.prototype.fileAdded.call(this,n,i,!0):(this.elements&&0<this.elements.length&&this.saveGravityTemp(),new Promise(function(e,t){a.prototype.fileAdded.call(o,n,i).then(function(){"gif"==/(?:\.([^.]+))?$/.exec(n.name)[1]&&s.EditElement.setGifMode(),r.elements&&0<r.elements.length&&setTimeout(function(){r.setGravityTemp()},500),e()},function(e){t(e)})}))},n.prototype.fileReady=function(e){e&&"upBy"in e&&"pickwatermark"==e.upBy&&(o("#"+e.id).hide(),this.actionFormAddImage(e.id,this.viewManager.imageViewer.imageSrc["cover-"+e.id]));try{this.initWatermarkPremium()}catch(e){}a.prototype.fileReady.call(this,e)},n.prototype.initWatermarkPremium=function(){},n.prototype.fileUploaded=function(e,t){var n=this.files.getFile(e);null!=n&&"upBy"in n&&"pickwatermark"==n.upBy&&(this.processDisabledUploading=!1,this.enableProcessBtn()),a.prototype.fileUploaded.call(this,e,t)},n.prototype.updateOrderStatus=function(){},n.prototype.getElementSizeFactorial=function(){var n=800,e=(o(".file").each(function(e,t){n=Math.max(n,parseInt(o(t).attr("data-width")))}),Math.ceil(n/800));return isNaN(e)?1:e},n);function n(e){e=a.call(this,e=void 0===e?{}:e)||this;return e.minWidth=50,e.loadFonts(),e}r.WatermarkImageOptionsManager=t}.call(this,l(1))},function(e,t,n){!function(e){function t(e,t){var n,i;1<e.originalEvent.touches.length||(e.preventDefault(),n=e.originalEvent.changedTouches[0],(i=document.createEvent("MouseEvents")).initMouseEvent(t,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(i))}var n,i,o,r;(n=e).support.touch="ontouchend"in document,n.support.touch&&(e=n.ui.mouse.prototype,i=e._mouseInit,o=e._mouseDestroy,e._touchStart=function(e){!r&&this._mouseCapture(e.originalEvent.changedTouches[0])&&(r=!0,this._touchMoved=!1,t(e,"mouseover"),t(e,"mousemove"),t(e,"mousedown"))},e._touchMove=function(e){r&&(this._touchMoved=!0,t(e,"mousemove"))},e._touchEnd=function(e){r&&(t(e,"mouseup"),t(e,"mouseout"),this._touchMoved||t(e,"click"),r=!1)},e._mouseInit=function(){this.element.bind({touchstart:n.proxy(this,"_touchStart"),touchmove:n.proxy(this,"_touchMove"),touchend:n.proxy(this,"_touchEnd")}),i.call(this)},e._mouseDestroy=function(){this.element.unbind({touchstart:n.proxy(this,"_touchStart"),touchmove:n.proxy(this,"_touchMove"),touchend:n.proxy(this,"_touchEnd")}),o.call(this)})}.call(this,n(1))},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,o)}r((l=l.apply(e,a||[])).next())})},a=this&&this.__generator||function(i,o){var r,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(s=0<(s=l.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],a=0}finally{r=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},o=(Object.defineProperty(t,"__esModule",{value:!0}),t.Listenable=void 0,r.prototype.addEventListener=function(e,t){this.callbackArray.hasOwnProperty(e)||(this.callbackArray[e]=[]),this.callbackArray[e].push(t)},r.prototype.removeEventListener=function(e,t){if(this.callbackArray.hasOwnProperty(e))throw new Error("Callback was not added");t=this.callbackArray[e].indexOf(t);if(-1===t)throw new Error("Callback was not added");this.callbackArray[e].splice(t,1)},r.prototype.dispatchEvent=function(o){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];return i(this,void 0,void 0,function(){var t,n,i;return a(this,function(e){switch(e.label){case 0:if(t=r[0],!this.callbackArray.hasOwnProperty(o))return[3,4];n=0,i=this.callbackArray[o],e.label=1;case 1:return n<i.length?[4,(0,i[n])(t)]:[3,4];case 2:e.sent(),e.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},r);function r(){this.callbackArray={}}t.Listenable=o},function(e,f,h){"use strict";!function(r){var i,a,e=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),t=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},n=(Object.defineProperty(f,"__esModule",{value:!0}),f.MemeImageOptionsManager=void 0,h(185)),l=h(187),c=t(h(57)),u=h(84),d=h(42),t=(a=n.EditorOptionsManager,e(p,a),p.prototype.startPanels=function(){a.prototype.startPanels.call(this),l.EditElement.setPreviewZones(),this.initUploader(),this.initTextUpload(),this.disableProcessBtn(),r("#pickwatermark").show()},p.prototype.workareaActions=function(){r(".tool__workarea__rendered").hide(),a.prototype.workareaActions.call(this)},p.prototype.start=function(){var e=this;this.processManager.tool="watermarkimage",r("#loadImages").on("click",function(){r("#memeSearch").modal(),e.search=e.searchImages(r("#search").val().toString()),e.searchLocal=e.searchLocalImages(r("#search").val().toString())}),r(".meme-nav__prev").on("click",function(){e.page--,e.search=e.searchImages(r("#search").val().toString(),e.page),e.searchLocal=e.searchLocalImages(r("#search").val().toString(),e.page)}),r(".meme-nav__next").on("click",function(){e.page++,e.search=e.searchImages(r("#search").val().toString(),e.page),e.searchLocal=e.searchLocalImages(r("#search").val().toString(),e.page)}),r("#search").on("change",function(){e.page=1,e.search=e.searchImages(r("#search").val().toString()),e.searchLocal=e.searchLocalImages(r("#search").val().toString())})},p.prototype.searchImages=function(e,t){void 0===e&&(e=""),void 0===t&&(t=1);var n=this;return null!=this.search&&this.search.abort(),r(".meme__list").hide().empty(),r(".meme__list").hide().empty(),r(".meme__loading").show(),r(".meme-nav__page").html(t.toString()),1<t?r(".meme-nav__prev").show():(r(".meme-nav").hide(),r(".meme-nav__prev").hide()),this.searchResults=null,r.get(this.serviceUrl,{q:e,p:t},function(e){n.searchResults=e.length,n.cancelNextPage()?r(".meme-nav__next").hide():(r(".meme-nav__next").show(),r(".meme__list").show(),r(".meme__loading").hide(),r(".meme-nav").show(),r.each(e,function(e,t){n.search=null,n.showMeme(t)}))})},p.prototype.cancelNextPage=function(){return 0==this.searchResults&&0==this.searchLocalResults},p.prototype.searchLocalImages=function(e,t){void 0===e&&(e=""),void 0===t&&(t=1);var n=this;return null!=this.searchLocal&&this.searchLocal.abort(),r.get(this.serviceUrl+"/local",{q:e,p:t},function(e){n.searchLocalResults=e.length,n.cancelNextPage()?r(".meme-nav__next").hide():(r(".meme-nav__next").show(),r(".meme__list").show(),r(".meme__loading").hide(),r(".meme-nav").show(),r.each(e,function(e,t){n.search=null,n.showMeme(t)}))})},p.prototype.showMeme=function(e){var t,n=this,i=e.name.replace(/[^a-zA-Z0-9]+/g,"_");0==r("#"+i).length&&((t=r(".meme__list__item.template").clone().appendTo(r(".meme__list"))).attr("id",i),t.find("img").attr("src",e.url),t.find(".meme__list__item__title").html(e.name),t.find("button, img, meme__list__item__title").on("click",function(){n.setImage(e.url,e.name),r("#memeSearch").modal("toggle")}),t.removeClass("template"))},p.prototype.setImage=function(e,t){var n=this,i=new u.File({canvasId:"memeUrl",runtime:"html5",percent:0,name:e,filename:t,type:"image",service:"user",id:"fromUrl",url:e});n.files.addFile(i),n.fileAdded(i,"urlInput"),this.processManager.api.uploadFromUrl(e).then(function(e){e.percent=100,n.files.updateFile("fromUrl",e),n.renderFileEditor(i)},function(){}),r("#loadImages").hide(),this.loadFonts()},p.prototype.loadFonts=function(){for(var e in window.fonts)window.fonts.hasOwnProperty(e)&&"arial"!=e&&c.lazyloadCss("/font/"+e+".css")},p.prototype.initViewer=function(){a.prototype.initViewer.call(this),r("#fileGroups").hide(),r("#loadImages").hide()},p.prototype.fileRendered=function(e){a.prototype.fileRendered.call(this,e),this.enableProcessBtn();var t=this;setTimeout(function(){t.initFistElements()},500)},p.prototype.initFistElements=function(){r("#fileGroups").hide();var e=r(".editor__content").width()+"px",t=48*r(".editor__content").width()/800;this.topElement=new l.EditElement({id:"elementTop",draggable:!0,resizable:!0,rotable:!0,restrict:!1,width:e,width_container:e,fontSize:t,left:0,top:0,type:"text",fontFamily:"Impact"}),this.bottomElement=new l.EditElement({id:"elementBottom",draggable:!0,resizable:!0,rotable:!0,restrict:!1,width:e,width_container:e,fontSize:t,bottom:0,left:0,type:"text",fontFamily:"Impact"}),this.topElement.initStyle(),this.bottomElement.initStyle(),this.topElement.init(),this.bottomElement.init(),this.elements.push(this.topElement),this.elements.push(this.bottomElement)},p.prototype.actionFormMode=function(e){var i=this;if(null!=e){var e=this.getOption("mode"),t=r("#elementTop,#elementBottom"),n=t.find(".editor__content__item__content");if("outside"==e)this.elementStyles={},t.each(function(e,t){var n=r(t).attr("id");i.elementStyles[n]=r(t).attr("style"),i.elementStylesSub[n]=r(t).find(".editor__content__item__content").attr("style")}),t.attr("style","").css({position:"relative",background:"white",display:"block",width:"100%"}),n.attr("style","").css({position:"relative",background:"white",display:"block",width:"100%",padding:"24px"}),t.find(".text").css("display","inline-block"),t.each(function(e,t){try{r(t).draggable({disabled:!0}),r(t).resizable({disabled:!0})}catch(t){}}),t.addClass("fixed");else{for(var o in this.elementStyles)r("#"+o).attr("style",this.elementStyles[o]),r("#"+o+" .editor__content__item__content").attr("style",this.elementStylesSub[o]);try{t.draggable("enable"),n.resizable("enable"),t.find(".text").css("display","block"),t.removeClass("fixed")}catch(e){}}}},p.prototype.actionFormAddText=function(){var e=new l.EditElement({draggable:!0,resizable:!0,rotable:!0,type:"text",resizableAspectRatio:!1,fontFamily:"Impact",restrict:!1});0<this.elements.length&&e.cloneStyle(this.elements[this.elements.length-1]),e.top=0,e.left=0,e.initStyle(),e.init(),e.select(),this.elements.push(e)},p.prototype.actionFormAddImage=function(e,t){t=new l.EditElement({draggable:!0,resizable:!0,rotable:!0,type:"image",imgSrc:t=void 0===t?null:t,fileId:e=void 0===e?null:e,resizableAspectRatio:!0,restrict:!1});t.initStyle(),t.init(),t.select(),this.elements.push(t)},p.prototype.checkLimits=function(e,t){return"pickwatermark"==t||"picktextwatermark"==t?e:a.prototype.checkLimits.call(this,e,t)},p.prototype.fileAdded=function(n,i){var o=this;return"pickwatermark"==i||"picktextwatermark"==i?a.prototype.fileAdded.call(this,n,i,!0):new Promise(function(e,t){a.prototype.fileAdded.call(o,n,i).then(function(){"gif"==/(?:\.([^.]+))?$/.exec(n.name)[1]&&l.EditElement.setGifMode(),e({})},function(){t()})})},p.prototype.fileReady=function(e){e&&"upBy"in e&&"pickwatermark"==e.upBy&&(r("#"+e.id).hide(),this.actionFormAddImage(e.id,this.viewManager.imageViewer.imageSrc["cover-"+e.id])),a.prototype.fileReady.call(this,e)},p.prototype.fileUploaded=function(e,t){var n=this.files.getFile(e);null!=n&&"pickwatermark"==n.upBy&&(this.processDisabledUploading=!1,this.enableProcessBtn()),a.prototype.fileUploaded.call(this,e,t)},p.prototype.getElementSizeFactorial=function(){var e=document.getElementById("file").naturalWidth;return e<800?1:Math.ceil(e/800)},p);function p(e){e=a.call(this,e=void 0===e?{}:e)||this;return e.topElement=null,e.bottomElement=null,e.elementTopStyle="",e.elementBottomStyle="",e.elementTopStyleSub="",e.elementBottomStyleSub="",e.serviceUrl=d.Settings.get("service")+"/meme",e.search=null,e.searchLocal=null,e.searchResults=null,e.searchLocalResults=null,e.elementStyles={},e.elementStylesSub={},e.nameEditable=!1,e.start(),e}f.MemeImageOptionsManager=t}.call(this,h(1))},function(e,d,p){"use strict";!function(o){var i,r,e=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},n=(Object.defineProperty(d,"__esModule",{value:!0}),d.TojpgOptionsManager=void 0,p(91)),a=p(21),s=p(77),l=t(p(69)),c=p(86),t=(r=n.OptionsManager,e(u,r),u.prototype.init=function(){r.prototype.init.call(this);var t=this;this.viewManager.onBeforeRemoveFile=function(e){0<o("#"+e).length&&o("#"+e)[0].hasAttribute("data-extension")&&-1==o.inArray(o("#"+e).attr("data-extension").toLowerCase(),["png","webp","svg","gif","psd","tif","heic"])&&(t.selectedExtensions.splice(o.inArray(o("#"+e).attr("data-extension").toUpperCase(),t.selectedExtensions),1),t.selectedExtensions.length<1?(o("#highres-options").hide(),o(".option__panel__content").show()):o(".formats-sel-raw").html(t.uniqueValueArray(t.selectedExtensions).join(", ")))}},u.prototype.actionFormPremiumfeature=function(e,t){var n=this,i=new l.default({dialogName:"becomePremium"});i.setContentBuilder(function(){return new c.PremiumContext({tool:n.tool,triggerReason:s.REASON.ERROR_FEATURE,limits:n.limits})}),a.UserModel.isPremium()||"premium"==window.ilovepdfConfig.levelTemp||(o('#highres-options [data-value="0"]').trigger("click"),i.show(),window.ev("send","event","limits","feature-exceeded","converttojpg"),window.ev("event","limit",{reason:"feature",tool:"converttojpg"}))},u.prototype.fileAdded=function(e,t,n){void 0===n&&(n=!1);n=r.prototype.fileAdded.call(this,e,t,!1),t=/(?:\.([^.]+))?$/.exec(e.name)[1];return t&&-1==o.inArray(t.toLowerCase(),["png","webp","svg","gif","psd","tif","heic"])&&(this.selectedExtensions.push(t),o("#highres-options").show(),o(".option__panel__content").hide(),o(".formats-sel-raw").html(this.uniqueValueArray(this.selectedExtensions).join(", "))),this.fileChanged(e.id),n},u.prototype.beforeProcess=function(){return this.setGifLoop(),r.prototype.beforeProcess.call(this)},u.prototype.setGifLoop=function(){this.options.gif_time=Math.floor(100*this.options.gif_time),isNaN(this.options.gif_time)&&(this.options.gif_time=100)},u.prototype.uniqueValueArray=function(e){var n=[];return o.each(e,function(e,t){-1==o.inArray(t,n)&&n.push(t)}),n},u);function u(e){e=r.call(this,e=void 0===e?{}:e)||this;return e.selectedExtensions=[],e}d.TojpgOptionsManager=t}.call(this,p(1))},function(e,t,n){"use strict";var i,o,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=this&&this.__awaiter||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,o)}r((l=l.apply(e,a||[])).next())})},l=this&&this.__generator||function(i,o){var r,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(s=0<(s=l.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],a=0}finally{r=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},c=(Object.defineProperty(t,"__esModule",{value:!0}),t.UpscaleImageOptionsManager=void 0,n(215)),u=n(122),d=n(91),p=n(87),f=n(262),n=(o=d.OptionsManager,r(h,o),h.prototype.startPanels=function(){this.hideRotation=!0,o.prototype.startPanels.call(this),this.loadingStart(),this.removeFilesOnLimitReatched=!0,this.toolbar.init({onSelectFile:this.onSelectFile}),this.fileSizeList.init({scale:this.scale,sizeLimit:this.limits.getLevelLimit(this.tool,"pxsize",!1)}),this.hidePageSelector(),this.addScaleListeners()},h.prototype.fileReady=function(e){o.prototype.fileReady.call(this,e),this.addCoverListeners(e),this.toolbar.addFile(e),this.fileSizeList.addFile(e)},h.prototype.fileChanged=function(e){o.prototype.fileChanged.call(this,e);e="string"==typeof e?this.files.getFile(e):e;this.files.files[this.files.files.length-1]===e&&e.server_filename&&this.renderImage(e)},h.prototype.fileRemoved=function(e){o.prototype.fileRemoved.call(this,e),this.toolbar.removeFile(e.fileId),this.fileSizeList.removeFile(e.fileId),0===this.files.countNotIgnored()&&this.hideWorkarea()},h.prototype.checkLimits=function(t,n){return s(this,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return[4,function(i){return s(this,void 0,void 0,function(){var t,n;return l(this,function(e){switch(e.label){case 0:t=0,n=i,e.label=1;case 1:return t<n.length?[4,function(n){return s(this,void 0,void 0,function(){return l(this,function(e){return["image/jpeg","image/png"].includes(n.type.toLowerCase())?[2,new Promise(function(e){var t=new Image;t.src=URL.createObjectURL(n.getNative()),t.onload=function(){n.width=t.width,n.height=t.height,URL.revokeObjectURL(t.src),e()}})]:[2,Promise.resolve()]})})}(n[t])]:[3,4];case 2:e.sent(),e.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}(t)];case 1:return e.sent(),[2,o.prototype.checkLimits.call(this,t,n)]}})})},h);function h(e){var n=o.call(this,e=void 0===e?{}:e)||this;return n.scale=2,n.toolbar=new g,n.fileSizeList=new v,n.onSelectFile=function(e){e=n.files.getFile(e);n.currentFile.id!==e.id&&n.renderImage(e)},n.hidePageSelector=function(){document.querySelector(".page_status").classList.add("d-none")},n.addCoverListeners=function(e){document.querySelector("#cover-"+e.id).addEventListener("click",function(){n.currentFile!==e&&n.renderImage(e)})},n.addScaleListeners=function(){return s(n,void 0,void 0,function(){var t=this;return l(this,function(e){return document.querySelectorAll('li[ data-name="multiplier" ].option__image__item').forEach(function(e){e.addEventListener("click",t.onScaleSet)}),[2]})})},n.onScaleSet=function(t){return s(n,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return this.scale=Number(t.target.dataset.value),this.fileSizeList.setScale(this.scale),this.loadingStart(),[4,this.renderImage(this.currentFile)];case 1:return e.sent(),this.loadingEnd(),[2]}})})},n.renderImage=function(i){return s(n,void 0,void 0,function(){var t,n;return l(this,function(e){switch(e.label){case 0:return this.showWorkarea(),this.loadingStart(),[4,this.upscale(i)];case 1:return t=e.sent(),n=this.fileSizeList.getUpscaledSize(i),document.querySelector(".editor__content").lastElementChild.replaceWith(c.ImageComparisonSlider.build({file1:{data:i.getNative(),width:i.width,height:i.height},file2:{data:t,width:n.width,height:n.height,warning:n.warning}})),this.currentFile=i,this.toolbar.setFile(i),this.loadingEnd(),[2]}})})},n.upscale=function(i){return s(n,void 0,void 0,function(){var t,n;return l(this,function(e){switch(e.label){case 0:return(n=null==(n=i.upscaled)?void 0:n[this.scale])?[3,2]:[4,this.processManager.api.upscale(i.server_filename,this.scale)];case 1:n=e.sent(),i.upscaled=a(a({},i.upscaled),((t={})[this.scale]=n,t)),e.label=2;case 2:return[2,n]}})})},n.showWorkarea=function(){document.querySelector(".tool__workarea__rendered").classList.remove("d-none")},n.hideWorkarea=function(){document.querySelector(".tool__workarea__rendered").classList.add("d-none")},n.premiumTask=!0,n}t.UpscaleImageOptionsManager=n;var g=function(){var n=this;this.fileArray=[],this.init=function(e){n.view=new m,n.view.init({onSelectFile:e.onSelectFile})},this.addFile=function(e){n.fileArray.push(e),n.view.addFile(e)},this.removeFile=function(t){var e=n.fileArray.findIndex(function(e){return e.id===t});-1!==e&&(n.fileArray.splice(e,1),n.view.removeFile(t))},this.setFile=function(e){n.view.setFile(e)}},m=function(){var i=this;this.init=function(e){i.params=e,i.element={up:document.querySelector(".editor__toolbar .prev"),down:document.querySelector(".editor__toolbar .next"),select:document.querySelector(".editor__toolbar select")},i.element.select.addEventListener("change",i.onSelect),i.element.up.addEventListener("click",i.onPrevious),i.element.down.addEventListener("click",i.onNext)},this.onNext=function(){var e,t=i.element.select;0!==t.options.length&&((e=t.selectedIndex+1)>=t.options.length&&(e%=t.options.length),t.selectedIndex=e,i.element.select.dispatchEvent(new Event("change")))},this.onPrevious=function(){var e,t=i.element.select;0!==t.options.length&&((e=t.selectedIndex-1)<0&&(e=t.options.length-1),t.selectedIndex=e,i.element.select.dispatchEvent(new Event("change")))},this.onSelect=function(e){e=e.target,e=e.options[e.selectedIndex].value;i.params.onSelectFile(e)},this.addFile=function(e){i.element.select.innerHTML+='<option value="'+e.id+'">'+e.name+"</option>"},this.removeFile=function(e){null!=(e=i.element.select.querySelector('option[ value="'+e+'" ]'))&&e.remove()},this.setFile=function(t){var e=i.element.select,n=Array.from(e.options).findIndex(function(e){return e.value===t.id});-1!==n&&(e.selectedIndex=n)}},v=function(){var s=this;this.sizeWarningClass="file-size-comparison-item--warning",this.init=function(e){s.root=document.querySelector(".file-size-comparison-list"),s.template=document.querySelector("#template-file-size-comparison-list"),s.scale=e.scale,s.sizeLimit=e.sizeLimit},this.addFile=function(e){e=s.createFileItem(e);s.root.append(e)},this.createFileItem=function(e,t){void 0===t&&(t=null);var t=s.getItem(e),n=(t.dataset.id=e.id,t.querySelector('[ slot="name" ]'));return n.textContent=e.name,n.title=e.name,t.querySelector('[ slot="from" ]').textContent=u.localeNumber(e.width)+" x "+u.localeNumber(e.height)+" px",s.updateToSlot(t),t},this.getItem=function(e){e=s.root.querySelector('[ data-id="'+e.id+'" ]');return e=e||s.template.content.cloneNode(!0).firstElementChild},this.removeFile=function(e){null!=(e=s.root.querySelector('[ data-id="'+e+'" ]'))&&e.remove()},this.setScale=function(e){s.scale=e,Array.from(s.root.children).forEach(function(e){s.updateToSlot(e)})},this.updateToSlot=function(e){var t,n=e.querySelector('[ slot="from" ]').textContent.split(".").join("").split(",").join("").split(" x "),i=n[0],n=n[1],i=parseInt(i),n=parseInt(n),o=i*s.scale,r=n*s.scale,a=e.querySelector('[ slot="to" ]');e.classList.remove(s.sizeWarningClass),f.Tooltip.disable(e),e.title="",s.sizeLimit&&o*r>s.sizeLimit&&(t=Math.sqrt(s.sizeLimit/(i*n)),o=Math.floor(i*t),r=Math.floor(n*t),e.classList.add(s.sizeWarningClass),f.Tooltip.setContent(e,p.Lang.t("ratioChanged")+" "+p.Lang.t("ratioCurrent",{ratio:"x"+Math.floor(100*t)/100}))),a.textContent=u.localeNumber(o)+" x "+u.localeNumber(r)+" px"},this.getUpscaledSize=function(e){var e=s.getItem(e),t=e.querySelector('[ slot="to" ]').textContent.split(".").join("").split(",").join("").split(" x "),n=t[0],t=t[1];return{width:parseInt(n),height:parseInt(t),warning:e.classList.contains(s.sizeWarningClass)}}}},function(e,s,l){"use strict";!function(i){var o=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),e=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t},t=(Object.defineProperty(s,"__esModule",{value:!0}),s.Tooltip=void 0,e(l(263))),n=l(264),e=(a.compat=function(){(-1!==navigator.appVersion.indexOf("MSIE 10")||0<=navigator.userAgent.indexOf(" UCBrowser/")||0<=navigator.userAgent.indexOf("Opera Mini")||0<=navigator.userAgent.indexOf("Android")&&4.4<parseFloat(navigator.userAgent.slice(navigator.userAgent.indexOf("Android")+8)))&&t.lazyload("//cdn.jsdelivr.net/npm/mutationobserver-shim/dist/mutationobserver.min.js")},a.init=function(e){void 0===e&&(e=null),window.tippy&&(i(e=null==e?".tooltip":e).each(function(e,t){i(t)[0]._tippy||window.tippy(i(t)[0],a.getOptions(t))}),n.LinkTitle.disable(e),i(e).hover(function(){if(i(this).hasClass("rotate")||i(this).hasClass("remove"))try{var e=i(this).parent().parent()[0]._tippy;e&&(e.hide(),e.disable())}catch(e){}},function(){if(i(this).hasClass("rotate")||i(this).hasClass("remove"))try{var e=i(this).parent().parent()[0]._tippy;e&&e.enable()}catch(e){}}),i(".tooltip").on("mouseenter",function(e){e.preventDefault()}))},a.getOptions=function(e){return{animation:"fade",delay:[0,0],allowHTML:!0,content:i(e).is("[data-title]")?i(e).attr("data-title"):i(e).attr("title"),arrow:!0,placement:a.getPlacement(e)}},a.getPlacement=function(e){e=i(e);return e.hasClass("tooltip--top")?"top":e.hasClass("tooltip--top-start")?"top-start":e.hasClass("tooltip--top-end")?"top-end":e.hasClass("tooltip--bottom")?"bottom":e.hasClass("tooltip--left")?"left":e.hasClass("tooltip--right")?"right":"top"},a.setContent=function(e,n){1==i(e).length?(i(e)[0]._tippy&&i(e)[0]._tippy.destroy(),i(e).attr("title",n),i(e).attr("data-title",n),a.init(e)):i(e).each(function(e,t){a.setContent(t,n)})},a.show=function(e,t){void 0===t&&(t=null);var n=i(e)[0];0!=i(e).length&&(window.tippy(n,a.getOptions(n)),"_tippy"in i(e)[0]||a.init(i(e)),n=i(e)[0]._tippy,i(e).is(":disabled")?(i(e).attr("disabled",!1),n.show(),setTimeout(function(){i(e).attr("disabled",!0)},100)):n.show(),null!=t)&&setTimeout(function(){i(e)[0]._tippy.hide()},t)},a.shake=function(e){var t=i(e)[0]._tippy;window.setTimeout(function(){i(t.popper).children().addClass("shake")},500)},a.hide=function(e){try{i(e)[0]._tippy.hide()}catch(e){}},a.enable=function(e){if(1==i(e).length)try{i(e)[0]._tippy.enable()}catch(e){}else i(e).each(function(e,t){a.enable(t)})},a.disable=function(e){if(1==i(e).length)try{i(e)[0]._tippy.hide(),i(e)[0]._tippy.disable()}catch(e){}else i(e).each(function(e,t){a.disable(t)})},a.wrapDisabled=function(e){i(e).wrap("<div class='tootlip-wrap'></div>")},a);function a(){}s.Tooltip=e,window.tootip=e}.call(this,l(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lazyload=void 0,t.lazyload=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n="async");for(var i=document.getElementsByTagName("script"),o=i.length;o--;)if(i[o].src.match(e))return!0;var r,a,s=document.createElement("script");for(r in s.type="text/javascript",0 in document.createElement("script"),"defer"in document.createElement("script")&&(s.defer=!0),s.src=e,t)t.hasOwnProperty(r)&&(a=t[r],s.setAttribute(r,a));return(n=document.getElementsByTagName("script")[0]).parentNode.insertBefore(s,n),!0}},function(e,n,t){"use strict";!function(t){function e(){}Object.defineProperty(n,"__esModule",{value:!0}),n.LinkTitle=void 0,e.disable=function(e){t(e).hover(function(){var e=t(this).attr("data-title");void 0!==e&&!1!==e||(e=t(this).attr("title"),t(this).attr("data-title",e)),t(this).attr("title","")},function(){var e=t(this).attr("data-title");t(this).attr("title",e)})},n.LinkTitle=e}.call(this,t(1))},function(e,g,m){"use strict";!function(n){var i,r,e=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,o)}r((l=l.apply(e,a||[])).next())})},s=this&&this.__generator||function(i,o){var r,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(s=0<(s=l.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],a=0}finally{r=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),o=0,t=0;t<n;t++)for(var r=arguments[t],a=0,s=r.length;a<s;a++,o++)i[o]=r[a];return i},l=(Object.defineProperty(g,"__esModule",{value:!0}),g.BlurfaceImageOptionsManager=void 0,m(187)),c=m(186),t=m(107),u=m(130),d=m(185),d=(r=d.EditorOptionsManager,e(p,r),p.prototype.startPanels=function(){r.prototype.startPanels.call(this),this.initUploader(),this.initCachedApi(),this.addDetectByLevelListeners(),this.addDetectByFaceListeners()},p.prototype.initUploader=function(){new u.PluploadUpload({id:"img-input",optionsManager:this,processManager:this.processManager,config:new t.Config({tool:"blurfaceimage",subtool:"blurfaceimage",config:this.config.config}),apiVersion:this.processManager.apiVersion,files:this.files,workerServer:this.workerServer,startServer:this.startServer,token:this.processManager.token,tool:this.tool,taskId:this.processManager.taskId,servers:[],haveDrop:!0,dropElement:"sidebar"})},p.prototype.initEditToolbar=function(){var t=this;c.Toolbar.init(),n(".next").on("click",function(){var e;t.page<t.pages&&(1==t.limits.isIgnored(t.files.files[t.page].id)||"img-input"===t.files.files[t.page].upBy?(t.page=t.page+1,n(".next").trigger("click")):(t.saveGravityTemp(),t.page=t.page+1,e=t.page-1,t.renderFileEditor(t.files.files[e]).then(function(){t.setEditElement(),t.setGravityTemp()},function(){})))}),n(".prev").on("click",function(){var e;1<t.page&&(1==t.limits.isIgnored(t.files.files[t.page-1].id)||"img-input"===t.files.files[t.page-1].upBy?(t.page=t.page-1,n(".prev").trigger("click")):(t.saveGravityTemp(),t.page=t.page-1,e=t.page-1,t.renderFileEditor(t.files.files[e]).then(function(){t.setEditElement(),t.setGravityTemp()},function(){})))}),n("#editor_file_select").on("change",function(){t.saveGravityTemp(),t.currentFile=t.files.getFile(this.value),t.page=n("#editor_file_select").prop("selectedIndex")+1,t.pages=t.files.files.length,t.renderFileEditor(t.files.getFile(this.value)).then(function(){t.setEditElement(),t.setGravityTemp()},function(){})}),n("#editor_page").on("change",function(){var e=parseInt(n(this).val().toString());t.saveGravityTemp(),(e=e<1?1:e)>t.files.files.length+1&&(e=t.files.files.length+1,n(this).val(e)),t.page=e,t.renderFileEditor(t.files.files[t.page-1]).then(function(){t.setEditElement(),t.setGravityTemp()},function(){})}),this.checkProcessOnClick()},p.prototype.initFromUrl=function(){},p.prototype.fileRemoved=function(e){r.prototype.fileRemoved.call(this,e),n("#editor_file_select").html(""),n.each(this.files.files,function(e,t){"img-input"!==t.upBy&&n("#editor_file_select").append('<option value="'+t.id+'" selected="selected">'+t.name+"</option>")}),this.currentFile=this.getLastFileFromCurrentFile()},p.prototype.fileAdded=function(t,n,i){return a(this,void 0,void 0,function(){return s(this,function(e){return t.rotable=!1,"img-input"===n?[2,{}]:(t.elementArray=[],t.processed=!1,[2,r.prototype.fileAdded.call(this,t,n,i)])})})},p.prototype.fileChanged=function(e){var t="string"==typeof e?this.files.getFile(e):e;"img-input"!==(null==t?void 0:t.upBy)&&(this.files.files[this.files.files.length-1]===t&&t.server_filename&&!t.processed&&t.rendered&&this.detect(),r.prototype.fileChanged.call(this,e),this.checkProcessBtn())},p.prototype.checkProcessBtn=function(){var e=document.querySelector(".option__tab__select__item.option--active").getAttribute("data-name");0===this.files.files.length||"face"===e&&void 0===this.state.byFace.face?this.disableProcessBtn():this.enableProcessBtn()},p.prototype.fileUploaded=function(e,t){var n=this,i=this.files.getFile(e);return"img-input"===i.upBy&&(this.state.byFace.face=t.server_filename,this.displayFacePreview(i.getNative()).then(this.recognize).then(function(){return n.checkProcessBtn()})),r.prototype.fileUploaded.call(this,e,t)},p.prototype.fileRendered=function(e){var t=this;r.prototype.fileRendered.call(this,e),this.setFileRendered(e),document.getElementById(e.id).addEventListener("click",function(){return t.onClickFile(e)}),this.fileChanged(e)},p.prototype.beforeProcess=function(){return a(this,void 0,void 0,function(){return s(this,function(e){return"byFace"===this.state.detection&&(this.setOption("level",this.state.byFace.level),this.setOption("face",this.state.byFace.face)),this.files.files.forEach(function(e){e.elementArray=null==(e=e.elementArray)?void 0:e.map(function(e){e.show();var t=e.getGravityData();return e.hide(),t})}),this.files.files=this.files.files.filter(function(e){return"img-input"!==e.upBy}),[2,{}]})})},p.prototype.saveGravityTemp=function(){},p.prototype.checkProcessOnClick=function(){},p.prototype.checkElements=function(){},p.prototype.addDetectByLevelListeners=function(){this.addTabLevelListener(),this.addLevelListener("recommended"),this.addLevelListener("low"),this.addLevelListener("high"),this.addProtectionListener()},p.prototype.addLevelListener=function(e){var t=this;document.querySelector('[data-name="level"][data-value="'+e+'"]').addEventListener("click",function(){t.state.byLevel.level=e,t.detectByLevel()})},p.prototype.addProtectionListener=function(){var t=this;document.querySelector("[add-blur]").addEventListener("click",function(){var e=t.createMidCoordWithOffset();t.createElement(e).select(),t.fileChanged(t.currentFile)})},p.prototype.createMidCoordWithOffset=function(){var e=this.createMidCoord();return e.x+=100*(Math.random()-.5),e.y+=100*(Math.random()-.5),e},p.prototype.createMidCoord=function(){var e=document.querySelector("#file");return{x:e.width/2-50,y:e.height/2-75,width:100,height:150}},p.prototype.createElement=function(e){var t=this,n=new l.EditElement({fileId:this.currentFile.id,type:"blur",left:e.x,top:e.y,width:e.width,height:e.height,draggable:!0,resizable:!0,restrict:!1}),i=(n.initStyle(),n.init(),this.currentFile);return this.pushElementIntoCurrentFile(i,n),i.processed=!0,n.addEventListener("remove",function(){return t.removeElementFromFile(i,n)}),document.getElementById(i.id).querySelector(".remove").addEventListener("click",function(){return t.removeFileElementArray(i)}),n},p.prototype.addDetectByFaceListeners=function(){document.querySelector("#tab-face").addEventListener("click",this.onClickDetectByFaceTab),this.addModeListener("include"),this.addModeListener("exclude")},p.prototype.addModeListener=function(e){var t=this;document.querySelector('[data-name="mode"][data-value="'+e+'"]').addEventListener("click",function(){t.state.byFace.mode=e,t.recognize()})},p.prototype.displayFacePreview=function(n){return a(this,void 0,void 0,function(){return s(this,function(e){return[2,new Promise(function(t){var e=new FileReader;e.onload=function(e){document.querySelector('label[for="img-input"] > img').setAttribute("src",e.target.result),t()},e.readAsDataURL(n)})]})})},p.prototype.detect=function(){return"byLevel"===this.state.detection?this.detectByLevel():this.recognize()},p.prototype.detectByLevel=function(){var n;return a(this,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return this.loadingStart(),this.hideAllFileElementArray(),this.removeCurrentElementArray(),[4,this.getCoordArray()];case 1:return t=e.sent(),[4,this.createElementArray(t)];case 2:return t=e.sent(),null!=(n=t[t.length-1])&&n.select(),this.loadingEnd(),[2]}})})},p.prototype.removeAllElementArray=function(){var t=this;this.files.files.forEach(function(e){t.removeFileElementArray(e)})},p.prototype.createElementArray=function(n){return a(this,void 0,void 0,function(){var t=this;return s(this,function(e){return this.currentFile.processed=!0,[2,n.map(function(e){return t.createElement(e)})]})})},p.prototype.pushElementIntoCurrentFile=function(e,t){void 0===e.elementArray&&(e.elementArray=[]),e.elementArray.push(t)},p.prototype.removeElementFromFile=function(e,t){t=e.elementArray.indexOf(t);if(-1===t)throw new Error("Element not found");e.elementArray.splice(t,1)},p.prototype.getCoordArray=function(){return a(this,void 0,void 0,function(){var t,n,i;return s(this,function(e){switch(e.label){case 0:return t="byFace"===this.state.detection?[{server_filename:this.state.byFace.face,mode:this.state.byFace.mode}]:[],[4,(i=this.api).detectFaces.apply(i,o([this.state[this.state.detection].level,{server_filename:this.currentFile.server_filename}],t))];case 1:return i=e.sent(),n=this.getCurrentScaleFactor(),[2,i.map(function(e){return{x:e.x*n,y:e.y*n,width:e.width*n,height:e.height*n}})]}})})},p.prototype.getCurrentScaleFactor=function(){n(".tool__workarea__rendered").show();var e=document.getElementById(this.currentFile.canvasId),e=parseInt(e.getAttribute("data-width"));return document.querySelector("#file").width/e},p);function p(){var o=null!==r&&r.apply(this,arguments)||this;return o.state={detection:"byLevel",byLevel:{level:"recommended"},byFace:{level:"recommended",face:void 0,mode:"include"}},o.initCachedApi=function(){o.api=new f(o.processManager.api)},o.getLastFileFromCurrentFile=function(){if(void 0!==o.currentFile){for(var e=o.files.files.findIndex(function(e){return e.id===t.id}),t=void 0,n=e-1;0<n;){var i=o.files.files[n];if("img-input"!==i.upBy){t=i;break}n--}return t}},o.onClickFile=function(e){o.files.files.includes(e)&&!e.processed&&o.detect()},o.setFileRendered=function(e){o.files.files.forEach(function(e){return e.rendered=!1}),e.rendered=!0},o.addTabLevelListener=function(){document.querySelector("#tab-level").addEventListener("click",function(){return a(o,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return this.state.detection="byLevel",this.hideAllFileElementArray(),this.removeAllElementArray(),[4,this.detectByLevel()];case 1:return e.sent(),[2]}})})})},o.onClickDetectByFaceTab=function(){return a(o,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return this.state.detection="byFace",this.hideAllFileElementArray(),this.removeAllElementArray(),[4,this.recognize()];case 1:return e.sent(),[2]}})})},o.recognize=function(){return a(o,void 0,void 0,function(){var t,n;return s(this,function(e){switch(e.label){case 0:return this.loadingStart(),this.hideAllFileElementArray(),this.removeCurrentElementArray(),void 0===this.state.byFace.face?[3,3]:[4,this.getCoordArray()];case 1:return t=e.sent(),[4,this.createElementArray(t)];case 2:t=e.sent(),null!=(n=t[t.length-1])&&n.select(),e.label=3;case 3:return this.loadingEnd(),[2]}})})},o.removeCurrentElementArray=function(){o.removeFileElementArray(o.currentFile)},o.removeFileElementArray=function(e){var t;null!=(t=e.elementArray)&&t.forEach(function(e){return e.remove()}),e.elementArray=void 0,e.processed=!1},o}g.BlurfaceImageOptionsManager=d;h.prototype.detectFaces=function(i,o,r){return a(this,void 0,void 0,function(){var t,n;return s(this,function(e){switch(e.label){case 0:return t=this.createCacheId(i,o,r),void 0!==(n=this.getCache(t))?[2,n]:[4,this.api.detectFaces(i,[o],r)];case 1:return n=e.sent(),this.saveCache(t,n),[2,n]}})})};var f=h;function h(e){var n=this;this.createCacheId=function(e,t,n){return e+JSON.stringify(t)+JSON.stringify(n)},this.getCache=function(e){return n.cache[e]},this.saveCache=function(e,t){n.cache[e]=t},this.api=e,this.cache={}}}.call(this,m(1))},function(e,t,n){"use strict";var i,o,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,a,s,l){return new(s=s||Promise)(function(n,t){function i(e){try{r(l.next(e))}catch(e){t(e)}}function o(e){try{r(l.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,o)}r((l=l.apply(e,a||[])).next())})},s=this&&this.__generator||function(i,o){var r,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(s=0<(s=l.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=o.call(i,l)}catch(e){t=[6,e],a=0}finally{r=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},l=(Object.defineProperty(t,"__esModule",{value:!0}),t.RemovebackgroundImageOptionsManager=void 0,n(215)),n=n(91),n=(o=n.OptionsManager,r(c,o),c.prototype.startPanels=function(){this.hideRotation=!0,o.prototype.startPanels.call(this),this.removeFilesOnLimitReatched=!0,this.toolbar.init({onSelectFile:this.onSelectFile}),this.hidePageSelector()},c.prototype.fileReady=function(e){o.prototype.fileReady.call(this,e),this.addCoverListeners(e),this.toolbar.addFile(e)},c.prototype.fileChanged=function(e){o.prototype.fileChanged.call(this,e);e="string"==typeof e?this.files.getFile(e):e;this.files.files[this.files.files.length-1]===e&&e.server_filename&&this.renderImage(e)},c.prototype.fileRemoved=function(e){o.prototype.fileRemoved.call(this,e),this.toolbar.removeFile(e.fileId),0===this.files.countNotIgnored()&&this.hideWorkarea()},c.prototype.checkLimits=function(t,n){return a(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,function(i){return a(this,void 0,void 0,function(){var t,n;return s(this,function(e){switch(e.label){case 0:t=0,n=i,e.label=1;case 1:return t<n.length?[4,function(n){return a(this,void 0,void 0,function(){return s(this,function(e){return["image/jpeg","image/png"].includes(n.type.toLowerCase())?[2,new Promise(function(e){var t=new Image;t.src=URL.createObjectURL(n.getNative()),t.onload=function(){n.width=t.width,n.height=t.height,URL.revokeObjectURL(t.src),e()}})]:[2,Promise.resolve()]})})}(n[t])]:[3,4];case 2:e.sent(),e.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}(t)];case 1:return e.sent(),[2,o.prototype.checkLimits.call(this,t,n)]}})})},c);function c(){var t=null!==o&&o.apply(this,arguments)||this;return t.toolbar=new u,t.onSelectFile=function(e){e=t.files.getFile(e);t.currentFile.id!==e.id&&t.renderImage(e)},t.hidePageSelector=function(){document.querySelector(".page_status").classList.add("d-none")},t.addCoverListeners=function(e){document.querySelector("#cover-"+e.id).addEventListener("click",function(){t.currentFile!==e&&t.renderImage(e)})},t.renderImage=function(n){return a(t,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return this.showWorkarea(),this.loadingStart(),[4,this.removeBackground(n)];case 1:return t=e.sent(),document.querySelector(".editor__content").lastElementChild.replaceWith(l.ImageComparisonSlider.build({file1:{data:n.getNative(),width:0,height:0},file2:{data:t,width:0,height:0}})),this.currentFile=n,this.toolbar.setFile(n),this.loadingEnd(),[2]}})})},t.removeBackground=function(n){return a(t,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return(t=n.backgroundRemoved)?[3,2]:[4,this.processManager.api.removeBackground(n.server_filename)];case 1:t=e.sent(),n.backgroundRemoved=t,e.label=2;case 2:return[2,t]}})})},t.showWorkarea=function(){document.querySelector(".tool__workarea__rendered").classList.remove("d-none")},t.hideWorkarea=function(){document.querySelector(".tool__workarea__rendered").classList.add("d-none")},t}t.RemovebackgroundImageOptionsManager=n;var u=function(){var n=this;this.fileArray=[],this.init=function(e){n.view=new d,n.view.init({onSelectFile:e.onSelectFile})},this.addFile=function(e){n.fileArray.push(e),n.view.addFile(e)},this.removeFile=function(t){var e=n.fileArray.findIndex(function(e){return e.id===t});-1!==e&&(n.fileArray.splice(e,1),n.view.removeFile(t))},this.setFile=function(e){n.view.setFile(e)}},d=function(){var i=this;this.init=function(e){i.params=e,i.element={up:document.querySelector(".editor__toolbar .prev"),down:document.querySelector(".editor__toolbar .next"),select:document.querySelector(".editor__toolbar select")},i.element.select.addEventListener("change",i.onSelect),i.element.up.addEventListener("click",i.onPrevious),i.element.down.addEventListener("click",i.onNext)},this.onNext=function(){var e,t=i.element.select;0!==t.options.length&&((e=t.selectedIndex+1)>=t.options.length&&(e%=t.options.length),t.selectedIndex=e,i.element.select.dispatchEvent(new Event("change")))},this.onPrevious=function(){var e,t=i.element.select;0!==t.options.length&&((e=t.selectedIndex-1)<0&&(e=t.options.length-1),t.selectedIndex=e,i.element.select.dispatchEvent(new Event("change")))},this.onSelect=function(e){e=e.target,e=e.options[e.selectedIndex].value;i.params.onSelectFile(e)},this.addFile=function(e){i.element.select.innerHTML+='<option value="'+e.id+'">'+e.name+"</option>"},this.removeFile=function(e){null!=(e=i.element.select.querySelector('option[ value="'+e+'" ]'))&&e.remove()},this.setFile=function(t){var e=i.element.select,n=Array.from(e.options).findIndex(function(e){return e.value===t.id});-1!==n&&(e.selectedIndex=n)}}},function(e,c,u){"use strict";!function(o){var i,r,e=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),t=(Object.defineProperty(c,"__esModule",{value:!0}),c.HtmlimageOptionsManager=void 0,u(91)),n=u(13),a=u(43),s=u(188),t=(r=t.OptionsManager,e(l,r),l.prototype.startPanels=function(){r.prototype.startPanels.call(this),this.initControlUrl(),this.initResetActions(),this.saveOptions()},l.prototype.initViewManager=function(){r.prototype.initViewManager.call(this)},l.prototype.initControlUrl=function(){var t=this,n=null;o(".inputUrl").on("keyup",function(e){clearTimeout(n),n=window.setTimeout(function(){!0===s.Url.validate(o(e.target).val())?(o(e.target).removeClass("error"),o(".errorMsg").hide(),t.enableRefresh(),o("#refreshUrl").removeAttr("disabled")):(o(e.target).addClass("error"),o(".errorMsg").show(),t.disableRefresh(),o("#refreshUrl").attr("disabled","disabled"))},500)})},l.prototype.fileAdded=function(e,t,n){return r.prototype.fileAdded.call(this,e,t,n=void 0===n?!1:n)},l.prototype.initResetActions=function(){var e=this;o("#reset").on("click",function(){e.resetOptions()}),o(".inputUrl").on("keypress",function(e){"13"==(e.keyCode||e.which).toString()&&1==s.Url.validate(o(".inputUrl").first().val())&&o("#refreshUrl").click()}),o("#settingsRefresh, #refreshUrl").on("click",function(){e.saveOptions(),window.ilovepdf.uploadPopupManager.urlupload.upload(o(".inputUrl").first().val())})},l.prototype.setPageWidth=function(){o("#view_width_custom").attr("value",window.innerWidth),o("#view_width_custom").html(n.Lang.t(n.Lang.t("Your screen")+" (${pixelsSize})",{pixelsSize:window.innerWidth+"px"}))},l.prototype.fileReady=function(t){var e=this,n=this;this.lastFile=this.currentFile,this.currentFile=t.id,this.files.removeFilesExcept(t.id),this.makeWorkarea().then(function(){n.showLoadingPreview(),e.getPreview(t).then(function(e){n.currentFile!==t.id?n.files.removeFile(t.id):(t=n.files.updateFile(t.id,{url:n.workerServer+"/thumbnails/"+e.thumbnail,percent:100}),n.fileChanged(t),n.hideLoadingPreview(),n.addCanvas(t),n.renderFile(t).then(function(e){},function(e){}))},function(){n.hideLoadingPreview(),o(".waitMsgError").show()})},function(){})},l.prototype.saveOptions=function(){this.getPanelActiveOptions(),this.savedOptions=JSON.stringify(this.options),this.hideRefresh()},l.prototype.resetOptions=function(){Object.assign(this.options,JSON.parse(this.savedOptions)),this.applyAllOptions(),this.hideRefresh()},l.prototype.optionsChanged=function(){return this.getPanelActiveOptions(),this.savedOptions!==JSON.stringify(this.options)},l.prototype.setOption=function(e,t){r.prototype.setOption.call(this,e,t),1==this.optionsChanged()?this.showRefresh():this.hideRefresh()},l.prototype.showRefresh=function(){o("#reset").show(),document.getElementById("settingsRefresh").style.display="inline-flex",o("#settingsRefresh:enabled").length&&(a.Tooltip.setContent(o("#settingsRefresh"),n.Lang.t("Click to refresh changes")),a.Tooltip.show(o("#settingsRefresh")))},l.prototype.hideRefresh=function(){o("#reset").hide(),o("#settingsRefresh").hide(),a.Tooltip.hide(o("#settingsRefresh"))},l.prototype.disableRefresh=function(){o("#settingsRefresh").attr("disabled","disabled"),this.disableProcessBtn()},l.prototype.enableRefresh=function(){o("#reset").hide(),o("#settingsRefresh").removeAttr("disabled"),this.enableProcessBtn()},l.prototype.addCanvas=function(e){o(".editor__content").append('<img id="image_'+e.id+'">')},l.prototype.getPreview=function(e){return this.getPanelActiveOptions(),this.saveOptions(),this.processManager.api.getPreview(e.server_filename,this.options)},l.prototype.showLoadingPreview=function(){o(".waitMsgError").hide(),o(".tool__workarea")[0].scrollTop=0,o(".waitMsg").show(),o(".tool__workarea").addClass("waiting"),this.startWaitMessages()},l.prototype.hideLoadingPreview=function(){o(".tool__workarea").removeClass("waiting"),o(".waitMsg").hide(),this.stopWaitMessages()},l.prototype.startWaitMessages=function(){var t=0,n=o(".waitMsg_message").length,e=o(".waitMsg_message");function i(){e.hide().filter(function(e){return e==t%n}).show(),t++}i(),this.waitInterval=setInterval(function(){i()},3e3)},l.prototype.stopWaitMessages=function(){clearInterval(this.waitInterval)},l.prototype.renderFile=function(n){var i=this;return this.rendering=!0,o(".editor__content img").hide(),o("#image_"+n.id).show(),new Promise(function(e,t){void 0===n?t():i.viewManager.imageViewer.renderUrl(n.url,"image_"+n.id,!0).then(function(){},function(){})})},l.prototype.beforeProcess=function(){return o(".waitMsg, .waitMsgError").hide(),o("#settingsRefresh").hide(),r.prototype.beforeProcess.call(this)},l);function l(e){e=r.call(this,e=void 0===e?{}:e)||this;return e.page=1,e.currentFile=null,e.lastFile=null,e.setPageWidth(),e}c.HtmlimageOptionsManager=t}.call(this,u(1))},function(e,t,r){"use strict";!function(n){Object.defineProperty(t,"__esModule",{value:!0}),t.UploadPopupManager=void 0;var i=r(269),o=r(188);function e(e){this.id="pickfiles",this.optionsManager=null,this.processManager=null,this.config=null,this.files=null,this.workerServer=null,this.startServer=null,this.token=null,this.tool=null,this.taskId=null,this.servers=null,this.openTab="url",Object.assign(this,e),this.urlupload=null,this.firstFile=!1,this.init()}e.prototype.init=function(){var e=this,t=this;this.urlupload=new i.UrlUpload({id:this.id,optionsManager:this.optionsManager,processManager:this.processManager,files:this.files,workerServer:this.workerServer,startServer:this.startServer,token:this.token,tool:this.tool,taskId:this.taskId,servers:this.servers,haveDrop:!0}),n("form").on("submit",function(e){e.preventDefault(),n("#addWeb").click()}),n("#inputWeb").on("change",function(e){!0===o.Url.validate(n(e.target).val())?(n(e.target).removeClass("error"),n(".errorMsg").hide()):(n(e.target).addClass("error"),n(".errorMsg").show())}),n("#addWeb").on("click",function(){if(t.openTab=n(".tab-pane.active").attr("id"),"url"==t.openTab){if(0==o.Url.validate(n("#inputWeb").val()))return!1;n(".inputUrl").first().val(n("#inputWeb").val()),n("#htmlModal").modal("hide"),n("body").removeClass("modal-open"),n(".modal-backdrop").remove(),e.urlupload.upload(n("#inputWeb").val())}})},t.UploadPopupManager=e}.call(this,r(1))},function(e,l,c){"use strict";!function(e){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){e[i=void 0===i?n:i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),t=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=(Object.defineProperty(l,"__esModule",{value:!0}),l.UrlUpload=void 0,t(c(23))),n=c(84),a=c(188);function s(e){void 0===e&&(e={}),Object.assign(this,e),this.init()}s.prototype.init=function(){e(".errorMsg").hide()},s.prototype.upload=function(e){!0===a.Url.validate(e)&&(e=new n.File({id:(new Date).getTime(),link:a.Url.correct(e)}),this.fileAdded(e),this.uploadFile(e))},s.prototype.fileAdded=function(e){e.runtime="html5",e.percent=0,e.service="user",e.url=e.link,e.size=e.bytes,e.canvasId=e.id,e.name=new URL(e.link).hostname.replace(".","_"),e.filename=e.name,e.origin="url",this.optionsManager.files.addFile(e),this.optionsManager.fileAdded(e,"urlUploader")},s.prototype.uploadFile=function(n){var i=this;this.processManager.api.request("POST","upload",{task:this.processManager.taskId,cloud_file:n.link}).then(function(e){i.processManager.files.updateFile(n.id,{process:100,percent:100,server_filename:e.server_filename}),i.optionsManager.fileReady(n)},function(t){n.error=!0,i.processManager.files.updateFile(n.id,{process:0,percent:0,error:!0}),i.optionsManager.invalidUpload({error:"CloudError",file:{id:n.id}}),r.configureScope(function(e){e.setExtra("error",JSON.parse(t))}),r.captureMessage("Upload from url error")})},l.UrlUpload=s}.call(this,c(1))}]);